(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Jh={exports:{}},Ka={},Zh={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function II(){if(a_)return Ae;a_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=E&&O[E]||O["@@iterator"],typeof O=="function"?O:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,B={};function D(O,X,de){this.props=O,this.context=X,this.refs=B,this.updater=de||R}D.prototype.isReactComponent={},D.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},D.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=D.prototype;function K(O,X,de){this.props=O,this.context=X,this.refs=B,this.updater=de||R}var z=K.prototype=new H;z.constructor=K,N(z,D.prototype),z.isPureReactComponent=!0;var Z=Array.isArray,se=Object.prototype.hasOwnProperty,Q={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(O,X,de){var Ie,Ce={},xe=null,Oe=null;if(X!=null)for(Ie in X.ref!==void 0&&(Oe=X.ref),X.key!==void 0&&(xe=""+X.key),X)se.call(X,Ie)&&!P.hasOwnProperty(Ie)&&(Ce[Ie]=X[Ie]);var Me=arguments.length-2;if(Me===1)Ce.children=de;else if(1<Me){for(var Be=Array(Me),Et=0;Et<Me;Et++)Be[Et]=arguments[Et+2];Ce.children=Be}if(O&&O.defaultProps)for(Ie in Me=O.defaultProps,Me)Ce[Ie]===void 0&&(Ce[Ie]=Me[Ie]);return{$$typeof:n,type:O,key:xe,ref:Oe,props:Ce,_owner:Q.current}}function A(O,X){return{$$typeof:n,type:O.type,key:X,ref:O.ref,props:O.props,_owner:O._owner}}function b(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function L(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return X[de]})}var M=/\/+/g;function k(O,X){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):X.toString(36)}function ot(O,X,de,Ie,Ce){var xe=typeof O;(xe==="undefined"||xe==="boolean")&&(O=null);var Oe=!1;if(O===null)Oe=!0;else switch(xe){case"string":case"number":Oe=!0;break;case"object":switch(O.$$typeof){case n:case e:Oe=!0}}if(Oe)return Oe=O,Ce=Ce(Oe),O=Ie===""?"."+k(Oe,0):Ie,Z(Ce)?(de="",O!=null&&(de=O.replace(M,"$&/")+"/"),ot(Ce,X,de,"",function(Et){return Et})):Ce!=null&&(b(Ce)&&(Ce=A(Ce,de+(!Ce.key||Oe&&Oe.key===Ce.key?"":(""+Ce.key).replace(M,"$&/")+"/")+O)),X.push(Ce)),1;if(Oe=0,Ie=Ie===""?".":Ie+":",Z(O))for(var Me=0;Me<O.length;Me++){xe=O[Me];var Be=Ie+k(xe,Me);Oe+=ot(xe,X,de,Be,Ce)}else if(Be=S(O),typeof Be=="function")for(O=Be.call(O),Me=0;!(xe=O.next()).done;)xe=xe.value,Be=Ie+k(xe,Me++),Oe+=ot(xe,X,de,Be,Ce);else if(xe==="object")throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Oe}function Ot(O,X,de){if(O==null)return O;var Ie=[],Ce=0;return ot(O,Ie,"","",function(xe){return X.call(de,xe,Ce++)}),Ie}function Mt(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var $e={current:null},ie={transition:null},pe={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Q};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:Ot,forEach:function(O,X,de){Ot(O,function(){X.apply(this,arguments)},de)},count:function(O){var X=0;return Ot(O,function(){X++}),X},toArray:function(O){return Ot(O,function(X){return X})||[]},only:function(O){if(!b(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ae.Component=D,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=K,Ae.StrictMode=i,Ae.Suspense=p,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ae.act=ae,Ae.cloneElement=function(O,X,de){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ie=N({},O.props),Ce=O.key,xe=O.ref,Oe=O._owner;if(X!=null){if(X.ref!==void 0&&(xe=X.ref,Oe=Q.current),X.key!==void 0&&(Ce=""+X.key),O.type&&O.type.defaultProps)var Me=O.type.defaultProps;for(Be in X)se.call(X,Be)&&!P.hasOwnProperty(Be)&&(Ie[Be]=X[Be]===void 0&&Me!==void 0?Me[Be]:X[Be])}var Be=arguments.length-2;if(Be===1)Ie.children=de;else if(1<Be){Me=Array(Be);for(var Et=0;Et<Be;Et++)Me[Et]=arguments[Et+2];Ie.children=Me}return{$$typeof:n,type:O.type,key:Ce,ref:xe,props:Ie,_owner:Oe}},Ae.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},Ae.createElement=I,Ae.createFactory=function(O){var X=I.bind(null,O);return X.type=O,X},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:h,render:O}},Ae.isValidElement=b,Ae.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:Mt}},Ae.memo=function(O,X){return{$$typeof:y,type:O,compare:X===void 0?null:X}},Ae.startTransition=function(O){var X=ie.transition;ie.transition={};try{O()}finally{ie.transition=X}},Ae.unstable_act=ae,Ae.useCallback=function(O,X){return $e.current.useCallback(O,X)},Ae.useContext=function(O){return $e.current.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O){return $e.current.useDeferredValue(O)},Ae.useEffect=function(O,X){return $e.current.useEffect(O,X)},Ae.useId=function(){return $e.current.useId()},Ae.useImperativeHandle=function(O,X,de){return $e.current.useImperativeHandle(O,X,de)},Ae.useInsertionEffect=function(O,X){return $e.current.useInsertionEffect(O,X)},Ae.useLayoutEffect=function(O,X){return $e.current.useLayoutEffect(O,X)},Ae.useMemo=function(O,X){return $e.current.useMemo(O,X)},Ae.useReducer=function(O,X,de){return $e.current.useReducer(O,X,de)},Ae.useRef=function(O){return $e.current.useRef(O)},Ae.useState=function(O){return $e.current.useState(O)},Ae.useSyncExternalStore=function(O,X,de){return $e.current.useSyncExternalStore(O,X,de)},Ae.useTransition=function(){return $e.current.useTransition()},Ae.version="18.3.1",Ae}var u_;function Wc(){return u_||(u_=1,Zh.exports=II()),Zh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function CI(){if(l_)return Ka;l_=1;var n=Wc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(h,p,y){var v,E={},S=null,R=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(R=p.ref);for(v in p)i.call(p,v)&&!u.hasOwnProperty(v)&&(E[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)E[v]===void 0&&(E[v]=p[v]);return{$$typeof:e,type:h,key:S,ref:R,props:E,_owner:o.current}}return Ka.Fragment=t,Ka.jsx=f,Ka.jsxs=f,Ka}var c_;function AI(){return c_||(c_=1,Jh.exports=CI()),Jh.exports}var ye=AI(),W=Wc(),ec={},ed={exports:{}},on={},td={exports:{}},nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function RI(){return f_||(f_=1,function(n){function e(ie,pe){var ae=ie.length;ie.push(pe);e:for(;0<ae;){var O=ae-1>>>1,X=ie[O];if(0<o(X,pe))ie[O]=pe,ie[ae]=X,ae=O;else break e}}function t(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var pe=ie[0],ae=ie.pop();if(ae!==pe){ie[0]=ae;e:for(var O=0,X=ie.length,de=X>>>1;O<de;){var Ie=2*(O+1)-1,Ce=ie[Ie],xe=Ie+1,Oe=ie[xe];if(0>o(Ce,ae))xe<X&&0>o(Oe,Ce)?(ie[O]=Oe,ie[xe]=ae,O=xe):(ie[O]=Ce,ie[Ie]=ae,O=Ie);else if(xe<X&&0>o(Oe,ae))ie[O]=Oe,ie[xe]=ae,O=xe;else break e}}return pe}function o(ie,pe){var ae=ie.sortIndex-pe.sortIndex;return ae!==0?ae:ie.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var p=[],y=[],v=1,E=null,S=3,R=!1,N=!1,B=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(ie){for(var pe=t(y);pe!==null;){if(pe.callback===null)i(y);else if(pe.startTime<=ie)i(y),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(y)}}function Z(ie){if(B=!1,z(ie),!N)if(t(p)!==null)N=!0,Mt(se);else{var pe=t(y);pe!==null&&$e(Z,pe.startTime-ie)}}function se(ie,pe){N=!1,B&&(B=!1,H(I),I=-1),R=!0;var ae=S;try{for(z(pe),E=t(p);E!==null&&(!(E.expirationTime>pe)||ie&&!L());){var O=E.callback;if(typeof O=="function"){E.callback=null,S=E.priorityLevel;var X=O(E.expirationTime<=pe);pe=n.unstable_now(),typeof X=="function"?E.callback=X:E===t(p)&&i(p),z(pe)}else i(p);E=t(p)}if(E!==null)var de=!0;else{var Ie=t(y);Ie!==null&&$e(Z,Ie.startTime-pe),de=!1}return de}finally{E=null,S=ae,R=!1}}var Q=!1,P=null,I=-1,A=5,b=-1;function L(){return!(n.unstable_now()-b<A)}function M(){if(P!==null){var ie=n.unstable_now();b=ie;var pe=!0;try{pe=P(!0,ie)}finally{pe?k():(Q=!1,P=null)}}else Q=!1}var k;if(typeof K=="function")k=function(){K(M)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,Ot=ot.port2;ot.port1.onmessage=M,k=function(){Ot.postMessage(null)}}else k=function(){D(M,0)};function Mt(ie){P=ie,Q||(Q=!0,k())}function $e(ie,pe){I=D(function(){ie(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){N||R||(N=!0,Mt(se))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ie){switch(S){case 1:case 2:case 3:var pe=3;break;default:pe=S}var ae=S;S=pe;try{return ie()}finally{S=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,pe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=S;S=ie;try{return pe()}finally{S=ae}},n.unstable_scheduleCallback=function(ie,pe,ae){var O=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?O+ae:O):ae=O,ie){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ae+X,ie={id:v++,callback:pe,priorityLevel:ie,startTime:ae,expirationTime:X,sortIndex:-1},ae>O?(ie.sortIndex=ae,e(y,ie),t(p)===null&&ie===t(y)&&(B?(H(I),I=-1):B=!0,$e(Z,ae-O))):(ie.sortIndex=X,e(p,ie),N||R||(N=!0,Mt(se))),ie},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ie){var pe=S;return function(){var ae=S;S=pe;try{return ie.apply(this,arguments)}finally{S=ae}}}}(nd)),nd}var h_;function kI(){return h_||(h_=1,td.exports=RI()),td.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function PI(){if(d_)return on;d_=1;var n=Wc(),e=kI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function u(r,s){f(r,s),f(r+"Capture",s)}function f(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function S(r){return p.call(E,r)?!0:p.call(v,r)?!1:y.test(r)?E[r]=!0:(v[r]=!0,!1)}function R(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function N(r,s,a,c){if(s===null||typeof s>"u"||R(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function B(r,s,a,c,d,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){D[r]=new B(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];D[s]=new B(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){D[r]=new B(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){D[r]=new B(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){D[r]=new B(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){D[r]=new B(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){D[r]=new B(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){D[r]=new B(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){D[r]=new B(r,5,!1,r.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function K(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(H,K);D[s]=new B(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(H,K);D[s]=new B(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(H,K);D[s]=new B(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){D[r]=new B(r,1,!1,r.toLowerCase(),null,!1,!1)}),D.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){D[r]=new B(r,1,!1,r.toLowerCase(),null,!0,!0)});function z(r,s,a,c){var d=D.hasOwnProperty(s)?D[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(N(s,a,d,c)&&(a=null),c||d===null?S(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var Z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),Q=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),Ot=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),ie=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=ie&&r[ie]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,O;function X(r){if(O===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+r}var de=!1;function Ie(r,s){if(!r||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(j){var c=j}Reflect.construct(r,[],s)}else{try{s.call()}catch(j){c=j}r.call(s.prototype)}else{try{throw Error()}catch(j){c=j}r()}}catch(j){if(j&&c&&typeof j.stack=="string"){for(var d=j.stack.split(`
`),g=c.stack.split(`
`),w=d.length-1,C=g.length-1;1<=w&&0<=C&&d[w]!==g[C];)C--;for(;1<=w&&0<=C;w--,C--)if(d[w]!==g[C]){if(w!==1||C!==1)do if(w--,C--,0>C||d[w]!==g[C]){var x=`
`+d[w].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=w&&0<=C);break}}}finally{de=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?X(r):""}function Ce(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=Ie(r.type,!1),r;case 11:return r=Ie(r.type.render,!1),r;case 1:return r=Ie(r.type,!0),r;default:return""}}function xe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case Q:return"Portal";case A:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case ot:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case b:return(r._context.displayName||"Context")+".Provider";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ot:return s=r.displayName||null,s!==null?s:xe(r.type)||"Memo";case Mt:s=r._payload,r=r._init;try{return xe(r(s))}catch{}}return null}function Oe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Be(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Et(r){var s=Be(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Sr(r){r._valueTracker||(r._valueTracker=Et(r))}function Ps(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Be(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function Xr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Fi(r,s){var a=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function xs(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Me(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Zo(r,s){s=s.checked,s!=null&&z(r,"checked",s,!1)}function ea(r,s){Zo(r,s);var a=Me(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?bs(r,s.type,a):s.hasOwnProperty("defaultValue")&&bs(r,s.type,Me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Uu(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function bs(r,s,a){(s!=="number"||Xr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Ir=Array.isArray;function Cr(r,s,a,c){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Me(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function ta(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ds(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Ir(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Me(a)}}function Vs(r,s){var a=Me(s.value),c=Me(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function na(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function dt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?dt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ar,ra=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Ar=Ar||document.createElement("div"),Ar.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ar.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Yr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$i=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(r){$i.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ui[s]=Ui[r]})});function ia(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ui.hasOwnProperty(r)&&Ui[r]?(""+s).trim():s+"px"}function sa(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=ia(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,d):r[a]=d}}var oa=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aa(r,s){if(s){if(oa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ua(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ji=null;function Ns(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ls=null,wn=null,tr=null;function Os(r){if(r=Da(r)){if(typeof Ls!="function")throw Error(t(280));var s=r.stateNode;s&&(s=ml(s),Ls(r.stateNode,r.type,s))}}function nr(r){wn?tr?tr.push(r):tr=[r]:wn=r}function la(){if(wn){var r=wn,s=tr;if(tr=wn=null,Os(r),s)for(r=0;r<s.length;r++)Os(s[r])}}function zi(r,s){return r(s)}function ca(){}var Rr=!1;function fa(r,s,a){if(Rr)return r(s,a);Rr=!0;try{return zi(r,s,a)}finally{Rr=!1,(wn!==null||tr!==null)&&(ca(),la())}}function at(r,s){var a=r.stateNode;if(a===null)return null;var c=ml(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Ms=!1;if(h)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Ms=!1}function Bi(r,s,a,c,d,g,w,C,x){var j=Array.prototype.slice.call(arguments,3);try{s.apply(a,j)}catch(J){this.onError(J)}}var qi=!1,Fs=null,Ln=!1,ha=null,Af={onError:function(r){qi=!0,Fs=r}};function Us(r,s,a,c,d,g,w,C,x){qi=!1,Fs=null,Bi.apply(Af,arguments)}function $u(r,s,a,c,d,g,w,C,x){if(Us.apply(this,arguments),qi){if(qi){var j=Fs;qi=!1,Fs=null}else throw Error(t(198));Ln||(Ln=!0,ha=j)}}function On(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Hi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Mn(r){if(On(r)!==r)throw Error(t(188))}function ju(r){var s=r.alternate;if(!s){if(s=On(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Mn(d),r;if(g===c)return Mn(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var w=!1,C=d.child;C;){if(C===a){w=!0,a=d,c=g;break}if(C===c){w=!0,c=d,a=g;break}C=C.sibling}if(!w){for(C=g.child;C;){if(C===a){w=!0,a=g,c=d;break}if(C===c){w=!0,c=g,a=d;break}C=C.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function da(r){return r=ju(r),r!==null?$s(r):null}function $s(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=$s(r);if(s!==null)return s;r=r.sibling}return null}var js=e.unstable_scheduleCallback,pa=e.unstable_cancelCallback,zu=e.unstable_shouldYield,Rf=e.unstable_requestPaint,qe=e.unstable_now,Bu=e.unstable_getCurrentPriorityLevel,Wi=e.unstable_ImmediatePriority,Jr=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,ma=e.unstable_LowPriority,qu=e.unstable_IdlePriority,Ki=null,ln=null;function Hu(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ki,r,void 0,(r.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:Ku,ga=Math.log,Wu=Math.LN2;function Ku(r){return r>>>=0,r===0?32:31-(ga(r)/Wu|0)|0}var zs=64,Bs=4194304;function Zr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Qi(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,d=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var C=w&~d;C!==0?c=Zr(C):(g&=w,g!==0&&(c=Zr(g)))}else w=a&~d,w!==0?c=Zr(w):g!==0&&(c=Zr(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&d)&&(d=c&-c,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Qt(s),d=1<<a,c|=r[a],s&=~d;return c}function kf(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kr(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Qt(g),C=1<<w,x=d[w];x===-1?(!(C&a)||C&c)&&(d[w]=kf(C,s)):x<=s&&(r.expiredLanes|=C),g&=~C}}function cn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Gi(){var r=zs;return zs<<=1,!(zs&4194240)&&(zs=64),r}function ei(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function ti(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Qt(s),r[s]=a}function je(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Qt(a),g=1<<d;s[d]=0,c[d]=-1,r[d]=-1,a&=~g}}function ni(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Qt(a),d=1<<c;d&s|r[c]&s&&(r[c]|=s),a&=~d}}var Pe=0;function ri(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Qu,qs,Gu,Xu,Yu,ya=!1,rr=[],kt=null,Fn=null,Un=null,ii=new Map,Tn=new Map,ir=[],Pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ju(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":ii.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tn.delete(s.pointerId)}}function Jt(r,s,a,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Da(s),s!==null&&qs(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function xf(r,s,a,c,d){switch(s){case"focusin":return kt=Jt(kt,r,s,a,c,d),!0;case"dragenter":return Fn=Jt(Fn,r,s,a,c,d),!0;case"mouseover":return Un=Jt(Un,r,s,a,c,d),!0;case"pointerover":var g=d.pointerId;return ii.set(g,Jt(ii.get(g)||null,r,s,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Tn.set(g,Jt(Tn.get(g)||null,r,s,a,c,d)),!0}return!1}function Zu(r){var s=es(r.target);if(s!==null){var a=On(s);if(a!==null){if(s=a.tag,s===13){if(s=Hi(a),s!==null){r.blockedOn=s,Yu(r.priority,function(){Gu(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Pr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Hs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);ji=c,a.target.dispatchEvent(c),ji=null}else return s=Da(a),s!==null&&qs(s),r.blockedOn=a,!1;s.shift()}return!0}function Xi(r,s,a){Pr(r)&&a.delete(s)}function el(){ya=!1,kt!==null&&Pr(kt)&&(kt=null),Fn!==null&&Pr(Fn)&&(Fn=null),Un!==null&&Pr(Un)&&(Un=null),ii.forEach(Xi),Tn.forEach(Xi)}function $n(r,s){r.blockedOn===s&&(r.blockedOn=null,ya||(ya=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,el)))}function jn(r){function s(d){return $n(d,r)}if(0<rr.length){$n(rr[0],r);for(var a=1;a<rr.length;a++){var c=rr[a];c.blockedOn===r&&(c.blockedOn=null)}}for(kt!==null&&$n(kt,r),Fn!==null&&$n(Fn,r),Un!==null&&$n(Un,r),ii.forEach(s),Tn.forEach(s),a=0;a<ir.length;a++)c=ir[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)Zu(a),a.blockedOn===null&&ir.shift()}var xr=Z.ReactCurrentBatchConfig,si=!0;function Xe(r,s,a,c){var d=Pe,g=xr.transition;xr.transition=null;try{Pe=1,_a(r,s,a,c)}finally{Pe=d,xr.transition=g}}function bf(r,s,a,c){var d=Pe,g=xr.transition;xr.transition=null;try{Pe=4,_a(r,s,a,c)}finally{Pe=d,xr.transition=g}}function _a(r,s,a,c){if(si){var d=Hs(r,s,a,c);if(d===null)zf(r,s,c,Yi,a),Ju(r,c);else if(xf(d,r,s,a,c))c.stopPropagation();else if(Ju(r,c),s&4&&-1<Pf.indexOf(r)){for(;d!==null;){var g=Da(d);if(g!==null&&Qu(g),g=Hs(r,s,a,c),g===null&&zf(r,s,c,Yi,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else zf(r,s,c,null,a)}}var Yi=null;function Hs(r,s,a,c){if(Yi=null,r=Ns(c),r=es(r),r!==null)if(s=On(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Hi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Yi=r,null}function va(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bu()){case Wi:return 1;case Jr:return 4;case En:case ma:return 16;case qu:return 536870912;default:return 16}default:return 16}}var fn=null,Ws=null,Zt=null;function wa(){if(Zt)return Zt;var r,s=Ws,a=s.length,c,d="value"in fn?fn.value:fn.textContent,g=d.length;for(r=0;r<a&&s[r]===d[r];r++);var w=a-r;for(c=1;c<=w&&s[a-c]===d[g-c];c++);return Zt=d.slice(r,1<c?1-c:void 0)}function Ks(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function sr(){return!0}function Ea(){return!1}function Pt(r){function s(a,c,d,g,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?sr:Ea,this.isPropagationStopped=Ea,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),s}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Pt(zn),or=ae({},zn,{view:0,detail:0}),Df=Pt(or),Gs,br,oi,Ji=ae({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==oi&&(oi&&r.type==="mousemove"?(Gs=r.screenX-oi.screenX,br=r.screenY-oi.screenY):br=Gs=0,oi=r),Gs)},movementY:function(r){return"movementY"in r?r.movementY:br}}),Xs=Pt(Ji),Ta=ae({},Ji,{dataTransfer:0}),tl=Pt(Ta),Ys=ae({},or,{relatedTarget:0}),Js=Pt(Ys),nl=ae({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dr=Pt(nl),rl=ae({},zn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),il=Pt(rl),sl=ae({},zn,{data:0}),Sa=Pt(sl),Zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ol[r])?!!s[r]:!1}function ar(){return al}var l=ae({},or,{key:function(r){if(r.key){var s=Zs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ks(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(r){return r.type==="keypress"?Ks(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ks(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Pt(l),_=ae({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=Pt(_),F=ae({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),q=Pt(F),re=ae({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=Pt(re),mt=ae({},Ji,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),be=Pt(mt),Tt=[9,13,27,32],ct=h&&"CompositionEvent"in window,Sn=null;h&&"documentMode"in document&&(Sn=document.documentMode);var hn=h&&"TextEvent"in window&&!Sn,Zi=h&&(!ct||Sn&&8<Sn&&11>=Sn),eo=" ",tg=!1;function ng(r,s){switch(r){case"keyup":return Tt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var to=!1;function TS(r,s){switch(r){case"compositionend":return rg(s);case"keypress":return s.which!==32?null:(tg=!0,eo);case"textInput":return r=s.data,r===eo&&tg?null:r;default:return null}}function SS(r,s){if(to)return r==="compositionend"||!ct&&ng(r,s)?(r=wa(),Zt=Ws=fn=null,to=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zi&&s.locale!=="ko"?null:s.data;default:return null}}var IS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!IS[r.type]:s==="textarea"}function sg(r,s,a,c){nr(c),s=hl(s,"onChange"),0<s.length&&(a=new Qs("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Ia=null,Ca=null;function CS(r){Sg(r,0)}function ul(r){var s=oo(r);if(Ps(s))return r}function AS(r,s){if(r==="change")return s}var og=!1;if(h){var Vf;if(h){var Nf="oninput"in document;if(!Nf){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),Nf=typeof ag.oninput=="function"}Vf=Nf}else Vf=!1;og=Vf&&(!document.documentMode||9<document.documentMode)}function ug(){Ia&&(Ia.detachEvent("onpropertychange",lg),Ca=Ia=null)}function lg(r){if(r.propertyName==="value"&&ul(Ca)){var s=[];sg(s,Ca,r,Ns(r)),fa(CS,s)}}function RS(r,s,a){r==="focusin"?(ug(),Ia=s,Ca=a,Ia.attachEvent("onpropertychange",lg)):r==="focusout"&&ug()}function kS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ul(Ca)}function PS(r,s){if(r==="click")return ul(s)}function xS(r,s){if(r==="input"||r==="change")return ul(s)}function bS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:bS;function Aa(r,s){if(Bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(s,d)||!Bn(r[d],s[d]))return!1}return!0}function cg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function fg(r,s){var a=cg(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=cg(a)}}function hg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?hg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function dg(){for(var r=window,s=Xr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Xr(r.document)}return s}function Lf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function DS(r){var s=dg(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&hg(a.ownerDocument.documentElement,a)){if(c!==null&&Lf(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!r.extend&&g>c&&(d=c,c=g,g=d),d=fg(a,g);var w=fg(a,c);d&&w&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var VS=h&&"documentMode"in document&&11>=document.documentMode,no=null,Of=null,Ra=null,Mf=!1;function pg(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mf||no==null||no!==Xr(c)||(c=no,"selectionStart"in c&&Lf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ra&&Aa(Ra,c)||(Ra=c,c=hl(Of,"onSelect"),0<c.length&&(s=new Qs("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=no)))}function ll(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var ro={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},Ff={},mg={};h&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function cl(r){if(Ff[r])return Ff[r];if(!ro[r])return r;var s=ro[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in mg)return Ff[r]=s[a];return r}var gg=cl("animationend"),yg=cl("animationiteration"),_g=cl("animationstart"),vg=cl("transitionend"),wg=new Map,Eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(r,s){wg.set(r,s),u(s,[r])}for(var Uf=0;Uf<Eg.length;Uf++){var $f=Eg[Uf],NS=$f.toLowerCase(),LS=$f[0].toUpperCase()+$f.slice(1);ai(NS,"on"+LS)}ai(gg,"onAnimationEnd"),ai(yg,"onAnimationIteration"),ai(_g,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(vg,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function Tg(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,$u(c,s,void 0,r),r.currentTarget=null}function Sg(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var C=c[w],x=C.instance,j=C.currentTarget;if(C=C.listener,x!==g&&d.isPropagationStopped())break e;Tg(d,C,j),g=x}else for(w=0;w<c.length;w++){if(C=c[w],x=C.instance,j=C.currentTarget,C=C.listener,x!==g&&d.isPropagationStopped())break e;Tg(d,C,j),g=x}}}if(Ln)throw r=ha,Ln=!1,ha=null,r}function Qe(r,s){var a=s[Qf];a===void 0&&(a=s[Qf]=new Set);var c=r+"__bubble";a.has(c)||(Ig(s,r,2,!1),a.add(c))}function jf(r,s,a){var c=0;s&&(c|=4),Ig(a,r,c,s)}var fl="_reactListening"+Math.random().toString(36).slice(2);function Pa(r){if(!r[fl]){r[fl]=!0,i.forEach(function(a){a!=="selectionchange"&&(OS.has(a)||jf(a,!1,r),jf(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[fl]||(s[fl]=!0,jf("selectionchange",!1,s))}}function Ig(r,s,a,c){switch(va(s)){case 1:var d=Xe;break;case 4:d=bf;break;default:d=_a}a=d.bind(null,s,a,r),d=void 0,!Ms||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function zf(r,s,a,c,d){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var C=c.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var x=w.tag;if((x===3||x===4)&&(x=w.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;w=w.return}for(;C!==null;){if(w=es(C),w===null)return;if(x=w.tag,x===5||x===6){c=g=w;continue e}C=C.parentNode}}c=c.return}fa(function(){var j=g,J=Ns(a),ee=[];e:{var Y=wg.get(r);if(Y!==void 0){var oe=Qs,ce=r;switch(r){case"keypress":if(Ks(a)===0)break e;case"keydown":case"keyup":oe=m;break;case"focusin":ce="focus",oe=Js;break;case"focusout":ce="blur",oe=Js;break;case"beforeblur":case"afterblur":oe=Js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=tl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=q;break;case gg:case yg:case _g:oe=Dr;break;case vg:oe=Ue;break;case"scroll":oe=Df;break;case"wheel":oe=be;break;case"copy":case"cut":case"paste":oe=il;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=T}var fe=(s&4)!==0,ut=!fe&&r==="scroll",U=fe?Y!==null?Y+"Capture":null:Y;fe=[];for(var V=j,$;V!==null;){$=V;var ne=$.stateNode;if($.tag===5&&ne!==null&&($=ne,U!==null&&(ne=at(V,U),ne!=null&&fe.push(xa(V,ne,$)))),ut)break;V=V.return}0<fe.length&&(Y=new oe(Y,ce,null,a,J),ee.push({event:Y,listeners:fe}))}}if(!(s&7)){e:{if(Y=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",Y&&a!==ji&&(ce=a.relatedTarget||a.fromElement)&&(es(ce)||ce[Vr]))break e;if((oe||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,oe?(ce=a.relatedTarget||a.toElement,oe=j,ce=ce?es(ce):null,ce!==null&&(ut=On(ce),ce!==ut||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(oe=null,ce=j),oe!==ce)){if(fe=Xs,ne="onMouseLeave",U="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(fe=T,ne="onPointerLeave",U="onPointerEnter",V="pointer"),ut=oe==null?Y:oo(oe),$=ce==null?Y:oo(ce),Y=new fe(ne,V+"leave",oe,a,J),Y.target=ut,Y.relatedTarget=$,ne=null,es(J)===j&&(fe=new fe(U,V+"enter",ce,a,J),fe.target=$,fe.relatedTarget=ut,ne=fe),ut=ne,oe&&ce)t:{for(fe=oe,U=ce,V=0,$=fe;$;$=io($))V++;for($=0,ne=U;ne;ne=io(ne))$++;for(;0<V-$;)fe=io(fe),V--;for(;0<$-V;)U=io(U),$--;for(;V--;){if(fe===U||U!==null&&fe===U.alternate)break t;fe=io(fe),U=io(U)}fe=null}else fe=null;oe!==null&&Cg(ee,Y,oe,fe,!1),ce!==null&&ut!==null&&Cg(ee,ut,ce,fe,!0)}}e:{if(Y=j?oo(j):window,oe=Y.nodeName&&Y.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Y.type==="file")var he=AS;else if(ig(Y))if(og)he=xS;else{he=kS;var me=RS}else(oe=Y.nodeName)&&oe.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(he=PS);if(he&&(he=he(r,j))){sg(ee,he,a,J);break e}me&&me(r,Y,j),r==="focusout"&&(me=Y._wrapperState)&&me.controlled&&Y.type==="number"&&bs(Y,"number",Y.value)}switch(me=j?oo(j):window,r){case"focusin":(ig(me)||me.contentEditable==="true")&&(no=me,Of=j,Ra=null);break;case"focusout":Ra=Of=no=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,pg(ee,a,J);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":pg(ee,a,J)}var ge;if(ct)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else to?ng(r,a)&&(we="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Zi&&a.locale!=="ko"&&(to||we!=="onCompositionStart"?we==="onCompositionEnd"&&to&&(ge=wa()):(fn=J,Ws="value"in fn?fn.value:fn.textContent,to=!0)),me=hl(j,we),0<me.length&&(we=new Sa(we,r,null,a,J),ee.push({event:we,listeners:me}),ge?we.data=ge:(ge=rg(a),ge!==null&&(we.data=ge)))),(ge=hn?TS(r,a):SS(r,a))&&(j=hl(j,"onBeforeInput"),0<j.length&&(J=new Sa("onBeforeInput","beforeinput",null,a,J),ee.push({event:J,listeners:j}),J.data=ge))}Sg(ee,s)})}function xa(r,s,a){return{instance:r,listener:s,currentTarget:a}}function hl(r,s){for(var a=s+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=at(r,a),g!=null&&c.unshift(xa(r,g,d)),g=at(r,s),g!=null&&c.push(xa(r,g,d))),r=r.return}return c}function io(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Cg(r,s,a,c,d){for(var g=s._reactName,w=[];a!==null&&a!==c;){var C=a,x=C.alternate,j=C.stateNode;if(x!==null&&x===c)break;C.tag===5&&j!==null&&(C=j,d?(x=at(a,g),x!=null&&w.unshift(xa(a,x,C))):d||(x=at(a,g),x!=null&&w.push(xa(a,x,C)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var MS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function Ag(r){return(typeof r=="string"?r:""+r).replace(MS,`
`).replace(FS,"")}function dl(r,s,a){if(s=Ag(s),Ag(r)!==s&&a)throw Error(t(425))}function pl(){}var Bf=null,qf=null;function Hf(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wf=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,Rg=typeof Promise=="function"?Promise:void 0,$S=typeof queueMicrotask=="function"?queueMicrotask:typeof Rg<"u"?function(r){return Rg.resolve(null).then(r).catch(jS)}:Wf;function jS(r){setTimeout(function(){throw r})}function Kf(r,s){var a=s,c=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){r.removeChild(d),jn(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);jn(s)}function ui(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function kg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var so=Math.random().toString(36).slice(2),ur="__reactFiber$"+so,ba="__reactProps$"+so,Vr="__reactContainer$"+so,Qf="__reactEvents$"+so,zS="__reactListeners$"+so,BS="__reactHandles$"+so;function es(r){var s=r[ur];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Vr]||a[ur]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=kg(r);r!==null;){if(a=r[ur])return a;r=kg(r)}return s}r=a,a=r.parentNode}return null}function Da(r){return r=r[ur]||r[Vr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function oo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ml(r){return r[ba]||null}var Gf=[],ao=-1;function li(r){return{current:r}}function Ge(r){0>ao||(r.current=Gf[ao],Gf[ao]=null,ao--)}function He(r,s){ao++,Gf[ao]=r.current,r.current=s}var ci={},Ft=li(ci),en=li(!1),ts=ci;function uo(r,s){var a=r.type.contextTypes;if(!a)return ci;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function tn(r){return r=r.childContextTypes,r!=null}function gl(){Ge(en),Ge(Ft)}function Pg(r,s,a){if(Ft.current!==ci)throw Error(t(168));He(Ft,s),He(en,a)}function xg(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,Oe(r)||"Unknown",d));return ae({},a,c)}function yl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ci,ts=Ft.current,He(Ft,r),He(en,en.current),!0}function bg(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=xg(r,s,ts),c.__reactInternalMemoizedMergedChildContext=r,Ge(en),Ge(Ft),He(Ft,r)):Ge(en),He(en,a)}var Nr=null,_l=!1,Xf=!1;function Dg(r){Nr===null?Nr=[r]:Nr.push(r)}function qS(r){_l=!0,Dg(r)}function fi(){if(!Xf&&Nr!==null){Xf=!0;var r=0,s=Pe;try{var a=Nr;for(Pe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Nr=null,_l=!1}catch(d){throw Nr!==null&&(Nr=Nr.slice(r+1)),js(Wi,fi),d}finally{Pe=s,Xf=!1}}return null}var lo=[],co=0,vl=null,wl=0,In=[],Cn=0,ns=null,Lr=1,Or="";function rs(r,s){lo[co++]=wl,lo[co++]=vl,vl=r,wl=s}function Vg(r,s,a){In[Cn++]=Lr,In[Cn++]=Or,In[Cn++]=ns,ns=r;var c=Lr;r=Or;var d=32-Qt(c)-1;c&=~(1<<d),a+=1;var g=32-Qt(s)+d;if(30<g){var w=d-d%5;g=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Lr=1<<32-Qt(s)+d|a<<d|c,Or=g+r}else Lr=1<<g|a<<d|c,Or=r}function Yf(r){r.return!==null&&(rs(r,1),Vg(r,1,0))}function Jf(r){for(;r===vl;)vl=lo[--co],lo[co]=null,wl=lo[--co],lo[co]=null;for(;r===ns;)ns=In[--Cn],In[Cn]=null,Or=In[--Cn],In[Cn]=null,Lr=In[--Cn],In[Cn]=null}var dn=null,pn=null,Ye=!1,qn=null;function Ng(r,s){var a=Pn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Lg(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,dn=r,pn=ui(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,dn=r,pn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ns!==null?{id:Lr,overflow:Or}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Pn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,dn=r,pn=null,!0):!1;default:return!1}}function Zf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function eh(r){if(Ye){var s=pn;if(s){var a=s;if(!Lg(r,s)){if(Zf(r))throw Error(t(418));s=ui(a.nextSibling);var c=dn;s&&Lg(r,s)?Ng(c,a):(r.flags=r.flags&-4097|2,Ye=!1,dn=r)}}else{if(Zf(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ye=!1,dn=r}}}function Og(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;dn=r}function El(r){if(r!==dn)return!1;if(!Ye)return Og(r),Ye=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Hf(r.type,r.memoizedProps)),s&&(s=pn)){if(Zf(r))throw Mg(),Error(t(418));for(;s;)Ng(r,s),s=ui(s.nextSibling)}if(Og(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){pn=ui(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}pn=null}}else pn=dn?ui(r.stateNode.nextSibling):null;return!0}function Mg(){for(var r=pn;r;)r=ui(r.nextSibling)}function fo(){pn=dn=null,Ye=!1}function th(r){qn===null?qn=[r]:qn.push(r)}var HS=Z.ReactCurrentBatchConfig;function Va(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var d=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var C=d.refs;w===null?delete C[g]:C[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Tl(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Fg(r){var s=r._init;return s(r._payload)}function Ug(r){function s(U,V){if(r){var $=U.deletions;$===null?(U.deletions=[V],U.flags|=16):$.push(V)}}function a(U,V){if(!r)return null;for(;V!==null;)s(U,V),V=V.sibling;return null}function c(U,V){for(U=new Map;V!==null;)V.key!==null?U.set(V.key,V):U.set(V.index,V),V=V.sibling;return U}function d(U,V){return U=vi(U,V),U.index=0,U.sibling=null,U}function g(U,V,$){return U.index=$,r?($=U.alternate,$!==null?($=$.index,$<V?(U.flags|=2,V):$):(U.flags|=2,V)):(U.flags|=1048576,V)}function w(U){return r&&U.alternate===null&&(U.flags|=2),U}function C(U,V,$,ne){return V===null||V.tag!==6?(V=Wh($,U.mode,ne),V.return=U,V):(V=d(V,$),V.return=U,V)}function x(U,V,$,ne){var he=$.type;return he===P?J(U,V,$.props.children,ne,$.key):V!==null&&(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Mt&&Fg(he)===V.type)?(ne=d(V,$.props),ne.ref=Va(U,V,$),ne.return=U,ne):(ne=Wl($.type,$.key,$.props,null,U.mode,ne),ne.ref=Va(U,V,$),ne.return=U,ne)}function j(U,V,$,ne){return V===null||V.tag!==4||V.stateNode.containerInfo!==$.containerInfo||V.stateNode.implementation!==$.implementation?(V=Kh($,U.mode,ne),V.return=U,V):(V=d(V,$.children||[]),V.return=U,V)}function J(U,V,$,ne,he){return V===null||V.tag!==7?(V=fs($,U.mode,ne,he),V.return=U,V):(V=d(V,$),V.return=U,V)}function ee(U,V,$){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Wh(""+V,U.mode,$),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case se:return $=Wl(V.type,V.key,V.props,null,U.mode,$),$.ref=Va(U,null,V),$.return=U,$;case Q:return V=Kh(V,U.mode,$),V.return=U,V;case Mt:var ne=V._init;return ee(U,ne(V._payload),$)}if(Ir(V)||pe(V))return V=fs(V,U.mode,$,null),V.return=U,V;Tl(U,V)}return null}function Y(U,V,$,ne){var he=V!==null?V.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return he!==null?null:C(U,V,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case se:return $.key===he?x(U,V,$,ne):null;case Q:return $.key===he?j(U,V,$,ne):null;case Mt:return he=$._init,Y(U,V,he($._payload),ne)}if(Ir($)||pe($))return he!==null?null:J(U,V,$,ne,null);Tl(U,$)}return null}function oe(U,V,$,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return U=U.get($)||null,C(V,U,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case se:return U=U.get(ne.key===null?$:ne.key)||null,x(V,U,ne,he);case Q:return U=U.get(ne.key===null?$:ne.key)||null,j(V,U,ne,he);case Mt:var me=ne._init;return oe(U,V,$,me(ne._payload),he)}if(Ir(ne)||pe(ne))return U=U.get($)||null,J(V,U,ne,he,null);Tl(V,ne)}return null}function ce(U,V,$,ne){for(var he=null,me=null,ge=V,we=V=0,Ct=null;ge!==null&&we<$.length;we++){ge.index>we?(Ct=ge,ge=null):Ct=ge.sibling;var Le=Y(U,ge,$[we],ne);if(Le===null){ge===null&&(ge=Ct);break}r&&ge&&Le.alternate===null&&s(U,ge),V=g(Le,V,we),me===null?he=Le:me.sibling=Le,me=Le,ge=Ct}if(we===$.length)return a(U,ge),Ye&&rs(U,we),he;if(ge===null){for(;we<$.length;we++)ge=ee(U,$[we],ne),ge!==null&&(V=g(ge,V,we),me===null?he=ge:me.sibling=ge,me=ge);return Ye&&rs(U,we),he}for(ge=c(U,ge);we<$.length;we++)Ct=oe(ge,U,we,$[we],ne),Ct!==null&&(r&&Ct.alternate!==null&&ge.delete(Ct.key===null?we:Ct.key),V=g(Ct,V,we),me===null?he=Ct:me.sibling=Ct,me=Ct);return r&&ge.forEach(function(wi){return s(U,wi)}),Ye&&rs(U,we),he}function fe(U,V,$,ne){var he=pe($);if(typeof he!="function")throw Error(t(150));if($=he.call($),$==null)throw Error(t(151));for(var me=he=null,ge=V,we=V=0,Ct=null,Le=$.next();ge!==null&&!Le.done;we++,Le=$.next()){ge.index>we?(Ct=ge,ge=null):Ct=ge.sibling;var wi=Y(U,ge,Le.value,ne);if(wi===null){ge===null&&(ge=Ct);break}r&&ge&&wi.alternate===null&&s(U,ge),V=g(wi,V,we),me===null?he=wi:me.sibling=wi,me=wi,ge=Ct}if(Le.done)return a(U,ge),Ye&&rs(U,we),he;if(ge===null){for(;!Le.done;we++,Le=$.next())Le=ee(U,Le.value,ne),Le!==null&&(V=g(Le,V,we),me===null?he=Le:me.sibling=Le,me=Le);return Ye&&rs(U,we),he}for(ge=c(U,ge);!Le.done;we++,Le=$.next())Le=oe(ge,U,we,Le.value,ne),Le!==null&&(r&&Le.alternate!==null&&ge.delete(Le.key===null?we:Le.key),V=g(Le,V,we),me===null?he=Le:me.sibling=Le,me=Le);return r&&ge.forEach(function(SI){return s(U,SI)}),Ye&&rs(U,we),he}function ut(U,V,$,ne){if(typeof $=="object"&&$!==null&&$.type===P&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case se:e:{for(var he=$.key,me=V;me!==null;){if(me.key===he){if(he=$.type,he===P){if(me.tag===7){a(U,me.sibling),V=d(me,$.props.children),V.return=U,U=V;break e}}else if(me.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Mt&&Fg(he)===me.type){a(U,me.sibling),V=d(me,$.props),V.ref=Va(U,me,$),V.return=U,U=V;break e}a(U,me);break}else s(U,me);me=me.sibling}$.type===P?(V=fs($.props.children,U.mode,ne,$.key),V.return=U,U=V):(ne=Wl($.type,$.key,$.props,null,U.mode,ne),ne.ref=Va(U,V,$),ne.return=U,U=ne)}return w(U);case Q:e:{for(me=$.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===$.containerInfo&&V.stateNode.implementation===$.implementation){a(U,V.sibling),V=d(V,$.children||[]),V.return=U,U=V;break e}else{a(U,V);break}else s(U,V);V=V.sibling}V=Kh($,U.mode,ne),V.return=U,U=V}return w(U);case Mt:return me=$._init,ut(U,V,me($._payload),ne)}if(Ir($))return ce(U,V,$,ne);if(pe($))return fe(U,V,$,ne);Tl(U,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,V!==null&&V.tag===6?(a(U,V.sibling),V=d(V,$),V.return=U,U=V):(a(U,V),V=Wh($,U.mode,ne),V.return=U,U=V),w(U)):a(U,V)}return ut}var ho=Ug(!0),$g=Ug(!1),Sl=li(null),Il=null,po=null,nh=null;function rh(){nh=po=Il=null}function ih(r){var s=Sl.current;Ge(Sl),r._currentValue=s}function sh(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function mo(r,s){Il=r,nh=po=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(nn=!0),r.firstContext=null)}function An(r){var s=r._currentValue;if(nh!==r)if(r={context:r,memoizedValue:s,next:null},po===null){if(Il===null)throw Error(t(308));po=r,Il.dependencies={lanes:0,firstContext:r}}else po=po.next=r;return s}var is=null;function oh(r){is===null?is=[r]:is.push(r)}function jg(r,s,a,c){var d=s.interleaved;return d===null?(a.next=a,oh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Mr(r,c)}function Mr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var hi=!1;function ah(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Fr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function di(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Ne&2){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Mr(r,a)}return d=c.interleaved,d===null?(s.next=s,oh(c)):(s.next=d.next,d.next=s),c.interleaved=s,Mr(r,a)}function Cl(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,ni(r,a)}}function Bg(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Al(r,s,a,c){var d=r.updateQueue;hi=!1;var g=d.firstBaseUpdate,w=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var x=C,j=x.next;x.next=null,w===null?g=j:w.next=j,w=x;var J=r.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==w&&(C===null?J.firstBaseUpdate=j:C.next=j,J.lastBaseUpdate=x))}if(g!==null){var ee=d.baseState;w=0,J=j=x=null,C=g;do{var Y=C.lane,oe=C.eventTime;if((c&Y)===Y){J!==null&&(J=J.next={eventTime:oe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ce=r,fe=C;switch(Y=s,oe=a,fe.tag){case 1:if(ce=fe.payload,typeof ce=="function"){ee=ce.call(oe,ee,Y);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=fe.payload,Y=typeof ce=="function"?ce.call(oe,ee,Y):ce,Y==null)break e;ee=ae({},ee,Y);break e;case 2:hi=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,Y=d.effects,Y===null?d.effects=[C]:Y.push(C))}else oe={eventTime:oe,lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(j=J=oe,x=ee):J=J.next=oe,w|=Y;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);if(J===null&&(x=ee),d.baseState=x,d.firstBaseUpdate=j,d.lastBaseUpdate=J,s=d.shared.interleaved,s!==null){d=s;do w|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);as|=w,r.lanes=w,r.memoizedState=ee}}function qg(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Na={},lr=li(Na),La=li(Na),Oa=li(Na);function ss(r){if(r===Na)throw Error(t(174));return r}function uh(r,s){switch(He(Oa,s),He(La,r),He(lr,Na),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:pt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=pt(s,r)}Ge(lr),He(lr,s)}function go(){Ge(lr),Ge(La),Ge(Oa)}function Hg(r){ss(Oa.current);var s=ss(lr.current),a=pt(s,r.type);s!==a&&(He(La,r),He(lr,a))}function lh(r){La.current===r&&(Ge(lr),Ge(La))}var Je=li(0);function Rl(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ch=[];function fh(){for(var r=0;r<ch.length;r++)ch[r]._workInProgressVersionPrimary=null;ch.length=0}var kl=Z.ReactCurrentDispatcher,hh=Z.ReactCurrentBatchConfig,os=0,Ze=null,gt=null,St=null,Pl=!1,Ma=!1,Fa=0,WS=0;function Ut(){throw Error(t(321))}function dh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Bn(r[a],s[a]))return!1;return!0}function ph(r,s,a,c,d,g){if(os=g,Ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,kl.current=r===null||r.memoizedState===null?XS:YS,r=a(c,d),Ma){g=0;do{if(Ma=!1,Fa=0,25<=g)throw Error(t(301));g+=1,St=gt=null,s.updateQueue=null,kl.current=JS,r=a(c,d)}while(Ma)}if(kl.current=Dl,s=gt!==null&&gt.next!==null,os=0,St=gt=Ze=null,Pl=!1,s)throw Error(t(300));return r}function mh(){var r=Fa!==0;return Fa=0,r}function cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ze.memoizedState=St=r:St=St.next=r,St}function Rn(){if(gt===null){var r=Ze.alternate;r=r!==null?r.memoizedState:null}else r=gt.next;var s=St===null?Ze.memoizedState:St.next;if(s!==null)St=s,gt=r;else{if(r===null)throw Error(t(310));gt=r,r={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},St===null?Ze.memoizedState=St=r:St=St.next=r}return St}function Ua(r,s){return typeof s=="function"?s(r):s}function gh(r){var s=Rn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=gt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var w=d.next;d.next=g.next,g.next=w}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var C=w=null,x=null,j=g;do{var J=j.lane;if((os&J)===J)x!==null&&(x=x.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),c=j.hasEagerState?j.eagerState:r(c,j.action);else{var ee={lane:J,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};x===null?(C=x=ee,w=c):x=x.next=ee,Ze.lanes|=J,as|=J}j=j.next}while(j!==null&&j!==g);x===null?w=c:x.next=C,Bn(c,s.memoizedState)||(nn=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=x,a.lastRenderedState=c}if(r=a.interleaved,r!==null){d=r;do g=d.lane,Ze.lanes|=g,as|=g,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function yh(r){var s=Rn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do g=r(g,w.action),w=w.next;while(w!==d);Bn(g,s.memoizedState)||(nn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function Wg(){}function Kg(r,s){var a=Ze,c=Rn(),d=s(),g=!Bn(c.memoizedState,d);if(g&&(c.memoizedState=d,nn=!0),c=c.queue,_h(Xg.bind(null,a,c,r),[r]),c.getSnapshot!==s||g||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,$a(9,Gg.bind(null,a,c,d,s),void 0,null),It===null)throw Error(t(349));os&30||Qg(a,s,d)}return d}function Qg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Gg(r,s,a,c){s.value=a,s.getSnapshot=c,Yg(s)&&Jg(r)}function Xg(r,s,a){return a(function(){Yg(s)&&Jg(r)})}function Yg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Bn(r,a)}catch{return!0}}function Jg(r){var s=Mr(r,1);s!==null&&Qn(s,r,1,-1)}function Zg(r){var s=cr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:r},s.queue=r,r=r.dispatch=GS.bind(null,Ze,r),[s.memoizedState,r]}function $a(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=Ze.updateQueue,s===null?(s={lastEffect:null,stores:null},Ze.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function ey(){return Rn().memoizedState}function xl(r,s,a,c){var d=cr();Ze.flags|=r,d.memoizedState=$a(1|s,a,void 0,c===void 0?null:c)}function bl(r,s,a,c){var d=Rn();c=c===void 0?null:c;var g=void 0;if(gt!==null){var w=gt.memoizedState;if(g=w.destroy,c!==null&&dh(c,w.deps)){d.memoizedState=$a(s,a,g,c);return}}Ze.flags|=r,d.memoizedState=$a(1|s,a,g,c)}function ty(r,s){return xl(8390656,8,r,s)}function _h(r,s){return bl(2048,8,r,s)}function ny(r,s){return bl(4,2,r,s)}function ry(r,s){return bl(4,4,r,s)}function iy(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function sy(r,s,a){return a=a!=null?a.concat([r]):null,bl(4,4,iy.bind(null,s,r),a)}function vh(){}function oy(r,s){var a=Rn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&dh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function ay(r,s){var a=Rn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&dh(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function uy(r,s,a){return os&21?(Bn(a,s)||(a=Gi(),Ze.lanes|=a,as|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,nn=!0),r.memoizedState=a)}function KS(r,s){var a=Pe;Pe=a!==0&&4>a?a:4,r(!0);var c=hh.transition;hh.transition={};try{r(!1),s()}finally{Pe=a,hh.transition=c}}function ly(){return Rn().memoizedState}function QS(r,s,a){var c=yi(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},cy(r))fy(s,a);else if(a=jg(r,s,a,c),a!==null){var d=Yt();Qn(a,r,c,d),hy(a,s,c)}}function GS(r,s,a){var c=yi(r),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(cy(r))fy(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,C=g(w,a);if(d.hasEagerState=!0,d.eagerState=C,Bn(C,w)){var x=s.interleaved;x===null?(d.next=d,oh(s)):(d.next=x.next,x.next=d),s.interleaved=d;return}}catch{}finally{}a=jg(r,s,d,c),a!==null&&(d=Yt(),Qn(a,r,c,d),hy(a,s,c))}}function cy(r){var s=r.alternate;return r===Ze||s!==null&&s===Ze}function fy(r,s){Ma=Pl=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function hy(r,s,a){if(a&4194240){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,ni(r,a)}}var Dl={readContext:An,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},XS={readContext:An,useCallback:function(r,s){return cr().memoizedState=[r,s===void 0?null:s],r},useContext:An,useEffect:ty,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,xl(4194308,4,iy.bind(null,s,r),a)},useLayoutEffect:function(r,s){return xl(4194308,4,r,s)},useInsertionEffect:function(r,s){return xl(4,2,r,s)},useMemo:function(r,s){var a=cr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=cr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=QS.bind(null,Ze,r),[c.memoizedState,r]},useRef:function(r){var s=cr();return r={current:r},s.memoizedState=r},useState:Zg,useDebugValue:vh,useDeferredValue:function(r){return cr().memoizedState=r},useTransition:function(){var r=Zg(!1),s=r[0];return r=KS.bind(null,r[1]),cr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=Ze,d=cr();if(Ye){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),It===null)throw Error(t(349));os&30||Qg(c,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,ty(Xg.bind(null,c,g,r),[r]),c.flags|=2048,$a(9,Gg.bind(null,c,g,a,s),void 0,null),a},useId:function(){var r=cr(),s=It.identifierPrefix;if(Ye){var a=Or,c=Lr;a=(c&~(1<<32-Qt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Fa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=WS++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},YS={readContext:An,useCallback:oy,useContext:An,useEffect:_h,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ay,useReducer:gh,useRef:ey,useState:function(){return gh(Ua)},useDebugValue:vh,useDeferredValue:function(r){var s=Rn();return uy(s,gt.memoizedState,r)},useTransition:function(){var r=gh(Ua)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:Wg,useSyncExternalStore:Kg,useId:ly,unstable_isNewReconciler:!1},JS={readContext:An,useCallback:oy,useContext:An,useEffect:_h,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ay,useReducer:yh,useRef:ey,useState:function(){return yh(Ua)},useDebugValue:vh,useDeferredValue:function(r){var s=Rn();return gt===null?s.memoizedState=r:uy(s,gt.memoizedState,r)},useTransition:function(){var r=yh(Ua)[0],s=Rn().memoizedState;return[r,s]},useMutableSource:Wg,useSyncExternalStore:Kg,useId:ly,unstable_isNewReconciler:!1};function Hn(r,s){if(r&&r.defaultProps){s=ae({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function wh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:ae({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Vl={isMounted:function(r){return(r=r._reactInternals)?On(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=Yt(),d=yi(r),g=Fr(c,d);g.payload=s,a!=null&&(g.callback=a),s=di(r,g,d),s!==null&&(Qn(s,r,d,c),Cl(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=Yt(),d=yi(r),g=Fr(c,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=di(r,g,d),s!==null&&(Qn(s,r,d,c),Cl(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Yt(),c=yi(r),d=Fr(a,c);d.tag=2,s!=null&&(d.callback=s),s=di(r,d,c),s!==null&&(Qn(s,r,c,a),Cl(s,r,c))}};function dy(r,s,a,c,d,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!Aa(a,c)||!Aa(d,g):!0}function py(r,s,a){var c=!1,d=ci,g=s.contextType;return typeof g=="object"&&g!==null?g=An(g):(d=tn(s)?ts:Ft.current,c=s.contextTypes,g=(c=c!=null)?uo(r,d):ci),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Vl,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),s}function my(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Vl.enqueueReplaceState(s,s.state,null)}function Eh(r,s,a,c){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},ah(r);var g=s.contextType;typeof g=="object"&&g!==null?d.context=An(g):(g=tn(s)?ts:Ft.current,d.context=uo(r,g)),d.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(wh(r,s,g,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Vl.enqueueReplaceState(d,d.state,null),Al(r,a,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function yo(r,s){try{var a="",c=s;do a+=Ce(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:d,digest:null}}function Th(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Sh(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var ZS=typeof WeakMap=="function"?WeakMap:Map;function gy(r,s,a){a=Fr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){$l||($l=!0,Fh=c),Sh(r,s)},a}function yy(r,s,a){a=Fr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){Sh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Sh(r,s),typeof c!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function _y(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new ZS;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),r=dI.bind(null,r,s,a),s.then(r,r))}function vy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function wy(r,s,a,c,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Fr(-1,1),s.tag=2,di(a,s,1))),a.lanes|=1),r)}var eI=Z.ReactCurrentOwner,nn=!1;function Xt(r,s,a,c){s.child=r===null?$g(s,null,a,c):ho(s,r.child,a,c)}function Ey(r,s,a,c,d){a=a.render;var g=s.ref;return mo(s,d),c=ph(r,s,a,c,g,d),a=mh(),r!==null&&!nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Ur(r,s,d)):(Ye&&a&&Yf(s),s.flags|=1,Xt(r,s,c,d),s.child)}function Ty(r,s,a,c,d){if(r===null){var g=a.type;return typeof g=="function"&&!Hh(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Sy(r,s,g,c,d)):(r=Wl(a.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&d)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Aa,a(w,c)&&r.ref===s.ref)return Ur(r,s,d)}return s.flags|=1,r=vi(g,c),r.ref=s.ref,r.return=s,s.child=r}function Sy(r,s,a,c,d){if(r!==null){var g=r.memoizedProps;if(Aa(g,c)&&r.ref===s.ref)if(nn=!1,s.pendingProps=c=g,(r.lanes&d)!==0)r.flags&131072&&(nn=!0);else return s.lanes=r.lanes,Ur(r,s,d)}return Ih(r,s,a,c,d)}function Iy(r,s,a){var c=s.pendingProps,d=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(vo,mn),mn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,He(vo,mn),mn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,He(vo,mn),mn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,He(vo,mn),mn|=c;return Xt(r,s,d,a),s.child}function Cy(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Ih(r,s,a,c,d){var g=tn(a)?ts:Ft.current;return g=uo(s,g),mo(s,d),a=ph(r,s,a,c,g,d),c=mh(),r!==null&&!nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Ur(r,s,d)):(Ye&&c&&Yf(s),s.flags|=1,Xt(r,s,a,d),s.child)}function Ay(r,s,a,c,d){if(tn(a)){var g=!0;yl(s)}else g=!1;if(mo(s,d),s.stateNode===null)Ll(r,s),py(s,a,c),Eh(s,a,c,d),c=!0;else if(r===null){var w=s.stateNode,C=s.memoizedProps;w.props=C;var x=w.context,j=a.contextType;typeof j=="object"&&j!==null?j=An(j):(j=tn(a)?ts:Ft.current,j=uo(s,j));var J=a.getDerivedStateFromProps,ee=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function";ee||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==c||x!==j)&&my(s,w,c,j),hi=!1;var Y=s.memoizedState;w.state=Y,Al(s,c,w,d),x=s.memoizedState,C!==c||Y!==x||en.current||hi?(typeof J=="function"&&(wh(s,a,J,c),x=s.memoizedState),(C=hi||dy(s,a,C,c,Y,x,j))?(ee||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=x),w.props=c,w.state=x,w.context=j,c=C):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,zg(r,s),C=s.memoizedProps,j=s.type===s.elementType?C:Hn(s.type,C),w.props=j,ee=s.pendingProps,Y=w.context,x=a.contextType,typeof x=="object"&&x!==null?x=An(x):(x=tn(a)?ts:Ft.current,x=uo(s,x));var oe=a.getDerivedStateFromProps;(J=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==ee||Y!==x)&&my(s,w,c,x),hi=!1,Y=s.memoizedState,w.state=Y,Al(s,c,w,d);var ce=s.memoizedState;C!==ee||Y!==ce||en.current||hi?(typeof oe=="function"&&(wh(s,a,oe,c),ce=s.memoizedState),(j=hi||dy(s,a,j,c,Y,ce,x)||!1)?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ce,x),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ce,x)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ce),w.props=c,w.state=ce,w.context=x,c=j):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),c=!1)}return Ch(r,s,a,c,g,d)}function Ch(r,s,a,c,d,g){Cy(r,s);var w=(s.flags&128)!==0;if(!c&&!w)return d&&bg(s,a,!1),Ur(r,s,g);c=s.stateNode,eI.current=s;var C=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&w?(s.child=ho(s,r.child,null,g),s.child=ho(s,null,C,g)):Xt(r,s,C,g),s.memoizedState=c.state,d&&bg(s,a,!0),s.child}function Ry(r){var s=r.stateNode;s.pendingContext?Pg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Pg(r,s.context,!1),uh(r,s.containerInfo)}function ky(r,s,a,c,d){return fo(),th(d),s.flags|=256,Xt(r,s,a,c),s.child}var Ah={dehydrated:null,treeContext:null,retryLane:0};function Rh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Py(r,s,a){var c=s.pendingProps,d=Je.current,g=!1,w=(s.flags&128)!==0,C;if((C=w)||(C=r!==null&&r.memoizedState===null?!1:(d&2)!==0),C?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),He(Je,d&1),r===null)return eh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=c.children,r=c.fallback,g?(c=s.mode,g=s.child,w={mode:"hidden",children:w},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Kl(w,c,0,null),r=fs(r,c,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Rh(a),s.memoizedState=Ah,r):kh(s,w));if(d=r.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return tI(r,s,w,c,C,d,a);if(g){g=c.fallback,w=s.mode,d=r.child,C=d.sibling;var x={mode:"hidden",children:c.children};return!(w&1)&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=x,s.deletions=null):(c=vi(d,x),c.subtreeFlags=d.subtreeFlags&14680064),C!==null?g=vi(C,g):(g=fs(g,w,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,w=r.child.memoizedState,w=w===null?Rh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,s.memoizedState=Ah,c}return g=r.child,r=g.sibling,c=vi(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function kh(r,s){return s=Kl({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Nl(r,s,a,c){return c!==null&&th(c),ho(s,r.child,null,a),r=kh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function tI(r,s,a,c,d,g,w){if(a)return s.flags&256?(s.flags&=-257,c=Th(Error(t(422))),Nl(r,s,w,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,d=s.mode,c=Kl({mode:"visible",children:c.children},d,0,null),g=fs(g,d,w,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&ho(s,r.child,null,w),s.child.memoizedState=Rh(w),s.memoizedState=Ah,g);if(!(s.mode&1))return Nl(r,s,w,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var C=c.dgst;return c=C,g=Error(t(419)),c=Th(g,c,void 0),Nl(r,s,w,c)}if(C=(w&r.childLanes)!==0,nn||C){if(c=It,c!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|w)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Mr(r,d),Qn(c,r,d,-1))}return qh(),c=Th(Error(t(421))),Nl(r,s,w,c)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=pI.bind(null,r),d._reactRetry=s,null):(r=g.treeContext,pn=ui(d.nextSibling),dn=s,Ye=!0,qn=null,r!==null&&(In[Cn++]=Lr,In[Cn++]=Or,In[Cn++]=ns,Lr=r.id,Or=r.overflow,ns=s),s=kh(s,c.children),s.flags|=4096,s)}function xy(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),sh(r.return,s,a)}function Ph(r,s,a,c,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function by(r,s,a){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(Xt(r,s,c.children,a),c=Je.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&xy(r,a,s);else if(r.tag===19)xy(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(He(Je,c),!(s.mode&1))s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&Rl(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Ph(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Rl(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}Ph(s,!0,a,null,g);break;case"together":Ph(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ll(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ur(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),as|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=vi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=vi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function nI(r,s,a){switch(s.tag){case 3:Ry(s),fo();break;case 5:Hg(s);break;case 1:tn(s.type)&&yl(s);break;case 4:uh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;He(Sl,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(He(Je,Je.current&1),s.flags|=128,null):a&s.child.childLanes?Py(r,s,a):(He(Je,Je.current&1),r=Ur(r,s,a),r!==null?r.sibling:null);He(Je,Je.current&1);break;case 19:if(c=(a&s.childLanes)!==0,r.flags&128){if(c)return by(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(Je,Je.current),c)break;return null;case 22:case 23:return s.lanes=0,Iy(r,s,a)}return Ur(r,s,a)}var Dy,xh,Vy,Ny;Dy=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},xh=function(){},Vy=function(r,s,a,c){var d=r.memoizedProps;if(d!==c){r=s.stateNode,ss(lr.current);var g=null;switch(a){case"input":d=Fi(r,d),c=Fi(r,c),g=[];break;case"select":d=ae({},d,{value:void 0}),c=ae({},c,{value:void 0}),g=[];break;case"textarea":d=ta(r,d),c=ta(r,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=pl)}aa(a,c);var w;a=null;for(j in d)if(!c.hasOwnProperty(j)&&d.hasOwnProperty(j)&&d[j]!=null)if(j==="style"){var C=d[j];for(w in C)C.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?g||(g=[]):(g=g||[]).push(j,null));for(j in c){var x=c[j];if(C=d!=null?d[j]:void 0,c.hasOwnProperty(j)&&x!==C&&(x!=null||C!=null))if(j==="style")if(C){for(w in C)!C.hasOwnProperty(w)||x&&x.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in x)x.hasOwnProperty(w)&&C[w]!==x[w]&&(a||(a={}),a[w]=x[w])}else a||(g||(g=[]),g.push(j,a)),a=x;else j==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,C=C?C.__html:void 0,x!=null&&C!==x&&(g=g||[]).push(j,x)):j==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push(j,""+x):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(o.hasOwnProperty(j)?(x!=null&&j==="onScroll"&&Qe("scroll",r),g||C===x||(g=[])):(g=g||[]).push(j,x))}a&&(g=g||[]).push("style",a);var j=g;(s.updateQueue=j)&&(s.flags|=4)}},Ny=function(r,s,a,c){a!==c&&(s.flags|=4)};function ja(r,s){if(!Ye)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function $t(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function rI(r,s,a){var c=s.pendingProps;switch(Jf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return tn(s.type)&&gl(),$t(s),null;case 3:return c=s.stateNode,go(),Ge(en),Ge(Ft),fh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(El(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,qn!==null&&(jh(qn),qn=null))),xh(r,s),$t(s),null;case 5:lh(s);var d=ss(Oa.current);if(a=s.type,r!==null&&s.stateNode!=null)Vy(r,s,a,c,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return $t(s),null}if(r=ss(lr.current),El(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[ur]=s,c[ba]=g,r=(s.mode&1)!==0,a){case"dialog":Qe("cancel",c),Qe("close",c);break;case"iframe":case"object":case"embed":Qe("load",c);break;case"video":case"audio":for(d=0;d<ka.length;d++)Qe(ka[d],c);break;case"source":Qe("error",c);break;case"img":case"image":case"link":Qe("error",c),Qe("load",c);break;case"details":Qe("toggle",c);break;case"input":xs(c,g),Qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Qe("invalid",c);break;case"textarea":Ds(c,g),Qe("invalid",c)}aa(a,g),d=null;for(var w in g)if(g.hasOwnProperty(w)){var C=g[w];w==="children"?typeof C=="string"?c.textContent!==C&&(g.suppressHydrationWarning!==!0&&dl(c.textContent,C,r),d=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&dl(c.textContent,C,r),d=["children",""+C]):o.hasOwnProperty(w)&&C!=null&&w==="onScroll"&&Qe("scroll",c)}switch(a){case"input":Sr(c),Uu(c,g,!0);break;case"textarea":Sr(c),na(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=pl)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=dt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=w.createElement(a,{is:c.is}):(r=w.createElement(a),a==="select"&&(w=r,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):r=w.createElementNS(r,a),r[ur]=s,r[ba]=c,Dy(r,s,!1,!1),s.stateNode=r;e:{switch(w=ua(a,c),a){case"dialog":Qe("cancel",r),Qe("close",r),d=c;break;case"iframe":case"object":case"embed":Qe("load",r),d=c;break;case"video":case"audio":for(d=0;d<ka.length;d++)Qe(ka[d],r);d=c;break;case"source":Qe("error",r),d=c;break;case"img":case"image":case"link":Qe("error",r),Qe("load",r),d=c;break;case"details":Qe("toggle",r),d=c;break;case"input":xs(r,c),d=Fi(r,c),Qe("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=ae({},c,{value:void 0}),Qe("invalid",r);break;case"textarea":Ds(r,c),d=ta(r,c),Qe("invalid",r);break;default:d=c}aa(a,d),C=d;for(g in C)if(C.hasOwnProperty(g)){var x=C[g];g==="style"?sa(r,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&ra(r,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&Yr(r,x):typeof x=="number"&&Yr(r,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&Qe("scroll",r):x!=null&&z(r,g,x,w))}switch(a){case"input":Sr(r),Uu(r,c,!1);break;case"textarea":Sr(r),na(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Me(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?Cr(r,!!c.multiple,g,!1):c.defaultValue!=null&&Cr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=pl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(r&&s.stateNode!=null)Ny(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=ss(Oa.current),ss(lr.current),El(s)){if(c=s.stateNode,a=s.memoizedProps,c[ur]=s,(g=c.nodeValue!==a)&&(r=dn,r!==null))switch(r.tag){case 3:dl(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&dl(c.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[ur]=s,s.stateNode=c}return $t(s),null;case 13:if(Ge(Je),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ye&&pn!==null&&s.mode&1&&!(s.flags&128))Mg(),fo(),s.flags|=98560,g=!1;else if(g=El(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[ur]=s}else fo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;$t(s),g=!1}else qn!==null&&(jh(qn),qn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||Je.current&1?yt===0&&(yt=3):qh())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return go(),xh(r,s),r===null&&Pa(s.stateNode.containerInfo),$t(s),null;case 10:return ih(s.type._context),$t(s),null;case 17:return tn(s.type)&&gl(),$t(s),null;case 19:if(Ge(Je),g=s.memoizedState,g===null)return $t(s),null;if(c=(s.flags&128)!==0,w=g.rendering,w===null)if(c)ja(g,!1);else{if(yt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Rl(r),w!==null){for(s.flags|=128,ja(g,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,r=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return He(Je,Je.current&1|2),s.child}r=r.sibling}g.tail!==null&&qe()>wo&&(s.flags|=128,c=!0,ja(g,!1),s.lanes=4194304)}else{if(!c)if(r=Rl(w),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),ja(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Ye)return $t(s),null}else 2*qe()-g.renderingStartTime>wo&&a!==1073741824&&(s.flags|=128,c=!0,ja(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(a=g.last,a!==null?a.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=qe(),s.sibling=null,a=Je.current,He(Je,c?a&1|2:a&1),s):($t(s),null);case 22:case 23:return Bh(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?mn&1073741824&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function iI(r,s){switch(Jf(s),s.tag){case 1:return tn(s.type)&&gl(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return go(),Ge(en),Ge(Ft),fh(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return lh(s),null;case 13:if(Ge(Je),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ge(Je),null;case 4:return go(),null;case 10:return ih(s.type._context),null;case 22:case 23:return Bh(),null;case 24:return null;default:return null}}var Ol=!1,jt=!1,sI=typeof WeakSet=="function"?WeakSet:Set,le=null;function _o(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){rt(r,s,c)}else a.current=null}function bh(r,s,a){try{a()}catch(c){rt(r,s,c)}}var Ly=!1;function oI(r,s){if(Bf=si,r=dg(),Lf(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,C=-1,x=-1,j=0,J=0,ee=r,Y=null;t:for(;;){for(var oe;ee!==a||d!==0&&ee.nodeType!==3||(C=w+d),ee!==g||c!==0&&ee.nodeType!==3||(x=w+c),ee.nodeType===3&&(w+=ee.nodeValue.length),(oe=ee.firstChild)!==null;)Y=ee,ee=oe;for(;;){if(ee===r)break t;if(Y===a&&++j===d&&(C=w),Y===g&&++J===c&&(x=w),(oe=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=oe}a=C===-1||x===-1?null:{start:C,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(qf={focusedElem:r,selectionRange:a},si=!1,le=s;le!==null;)if(s=le,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,le=r;else for(;le!==null;){s=le;try{var ce=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var fe=ce.memoizedProps,ut=ce.memoizedState,U=s.stateNode,V=U.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Hn(s.type,fe),ut);U.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){rt(s,s.return,ne)}if(r=s.sibling,r!==null){r.return=s.return,le=r;break}le=s.return}return ce=Ly,Ly=!1,ce}function za(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&bh(s,a,g)}d=d.next}while(d!==c)}}function Ml(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Dh(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Oy(r){var s=r.alternate;s!==null&&(r.alternate=null,Oy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ur],delete s[ba],delete s[Qf],delete s[zS],delete s[BS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function My(r){return r.tag===5||r.tag===3||r.tag===4}function Fy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||My(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Vh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=pl));else if(c!==4&&(r=r.child,r!==null))for(Vh(r,s,a),r=r.sibling;r!==null;)Vh(r,s,a),r=r.sibling}function Nh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Nh(r,s,a),r=r.sibling;r!==null;)Nh(r,s,a),r=r.sibling}var xt=null,Wn=!1;function pi(r,s,a){for(a=a.child;a!==null;)Uy(r,s,a),a=a.sibling}function Uy(r,s,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ki,a)}catch{}switch(a.tag){case 5:jt||_o(a,s);case 6:var c=xt,d=Wn;xt=null,pi(r,s,a),xt=c,Wn=d,xt!==null&&(Wn?(r=xt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):xt.removeChild(a.stateNode));break;case 18:xt!==null&&(Wn?(r=xt,a=a.stateNode,r.nodeType===8?Kf(r.parentNode,a):r.nodeType===1&&Kf(r,a),jn(r)):Kf(xt,a.stateNode));break;case 4:c=xt,d=Wn,xt=a.stateNode.containerInfo,Wn=!0,pi(r,s,a),xt=c,Wn=d;break;case 0:case 11:case 14:case 15:if(!jt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&bh(a,s,w),d=d.next}while(d!==c)}pi(r,s,a);break;case 1:if(!jt&&(_o(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){rt(a,s,C)}pi(r,s,a);break;case 21:pi(r,s,a);break;case 22:a.mode&1?(jt=(c=jt)||a.memoizedState!==null,pi(r,s,a),jt=c):pi(r,s,a);break;default:pi(r,s,a)}}function $y(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new sI),s.forEach(function(c){var d=mI.bind(null,r,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Kn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=r,w=s,C=w;e:for(;C!==null;){switch(C.tag){case 5:xt=C.stateNode,Wn=!1;break e;case 3:xt=C.stateNode.containerInfo,Wn=!0;break e;case 4:xt=C.stateNode.containerInfo,Wn=!0;break e}C=C.return}if(xt===null)throw Error(t(160));Uy(g,w,d),xt=null,Wn=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch(j){rt(d,s,j)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)jy(s,r),s=s.sibling}function jy(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Kn(s,r),fr(r),c&4){try{za(3,r,r.return),Ml(3,r)}catch(fe){rt(r,r.return,fe)}try{za(5,r,r.return)}catch(fe){rt(r,r.return,fe)}}break;case 1:Kn(s,r),fr(r),c&512&&a!==null&&_o(a,a.return);break;case 5:if(Kn(s,r),fr(r),c&512&&a!==null&&_o(a,a.return),r.flags&32){var d=r.stateNode;try{Yr(d,"")}catch(fe){rt(r,r.return,fe)}}if(c&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,C=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Zo(d,g),ua(C,w);var j=ua(C,g);for(w=0;w<x.length;w+=2){var J=x[w],ee=x[w+1];J==="style"?sa(d,ee):J==="dangerouslySetInnerHTML"?ra(d,ee):J==="children"?Yr(d,ee):z(d,J,ee,j)}switch(C){case"input":ea(d,g);break;case"textarea":Vs(d,g);break;case"select":var Y=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?Cr(d,!!g.multiple,oe,!1):Y!==!!g.multiple&&(g.defaultValue!=null?Cr(d,!!g.multiple,g.defaultValue,!0):Cr(d,!!g.multiple,g.multiple?[]:"",!1))}d[ba]=g}catch(fe){rt(r,r.return,fe)}}break;case 6:if(Kn(s,r),fr(r),c&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(fe){rt(r,r.return,fe)}}break;case 3:if(Kn(s,r),fr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{jn(s.containerInfo)}catch(fe){rt(r,r.return,fe)}break;case 4:Kn(s,r),fr(r);break;case 13:Kn(s,r),fr(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Mh=qe())),c&4&&$y(r);break;case 22:if(J=a!==null&&a.memoizedState!==null,r.mode&1?(jt=(j=jt)||J,Kn(s,r),jt=j):Kn(s,r),fr(r),c&8192){if(j=r.memoizedState!==null,(r.stateNode.isHidden=j)&&!J&&r.mode&1)for(le=r,J=r.child;J!==null;){for(ee=le=J;le!==null;){switch(Y=le,oe=Y.child,Y.tag){case 0:case 11:case 14:case 15:za(4,Y,Y.return);break;case 1:_o(Y,Y.return);var ce=Y.stateNode;if(typeof ce.componentWillUnmount=="function"){c=Y,a=Y.return;try{s=c,ce.props=s.memoizedProps,ce.state=s.memoizedState,ce.componentWillUnmount()}catch(fe){rt(c,a,fe)}}break;case 5:_o(Y,Y.return);break;case 22:if(Y.memoizedState!==null){qy(ee);continue}}oe!==null?(oe.return=Y,le=oe):qy(ee)}J=J.sibling}e:for(J=null,ee=r;;){if(ee.tag===5){if(J===null){J=ee;try{d=ee.stateNode,j?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=ee.stateNode,x=ee.memoizedProps.style,w=x!=null&&x.hasOwnProperty("display")?x.display:null,C.style.display=ia("display",w))}catch(fe){rt(r,r.return,fe)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=j?"":ee.memoizedProps}catch(fe){rt(r,r.return,fe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Kn(s,r),fr(r),c&4&&$y(r);break;case 21:break;default:Kn(s,r),fr(r)}}function fr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(My(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Yr(d,""),c.flags&=-33);var g=Fy(r);Nh(r,g,d);break;case 3:case 4:var w=c.stateNode.containerInfo,C=Fy(r);Vh(r,C,w);break;default:throw Error(t(161))}}catch(x){rt(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function aI(r,s,a){le=r,zy(r)}function zy(r,s,a){for(var c=(r.mode&1)!==0;le!==null;){var d=le,g=d.child;if(d.tag===22&&c){var w=d.memoizedState!==null||Ol;if(!w){var C=d.alternate,x=C!==null&&C.memoizedState!==null||jt;C=Ol;var j=jt;if(Ol=w,(jt=x)&&!j)for(le=d;le!==null;)w=le,x=w.child,w.tag===22&&w.memoizedState!==null?Hy(d):x!==null?(x.return=w,le=x):Hy(d);for(;g!==null;)le=g,zy(g),g=g.sibling;le=d,Ol=C,jt=j}By(r)}else d.subtreeFlags&8772&&g!==null?(g.return=d,le=g):By(r)}}function By(r){for(;le!==null;){var s=le;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:jt||Ml(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!jt)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Hn(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&qg(s,g,c);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}qg(s,w,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var j=s.alternate;if(j!==null){var J=j.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&jn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}jt||s.flags&512&&Dh(s)}catch(Y){rt(s,s.return,Y)}}if(s===r){le=null;break}if(a=s.sibling,a!==null){a.return=s.return,le=a;break}le=s.return}}function qy(r){for(;le!==null;){var s=le;if(s===r){le=null;break}var a=s.sibling;if(a!==null){a.return=s.return,le=a;break}le=s.return}}function Hy(r){for(;le!==null;){var s=le;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Ml(4,s)}catch(x){rt(s,a,x)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(x){rt(s,d,x)}}var g=s.return;try{Dh(s)}catch(x){rt(s,g,x)}break;case 5:var w=s.return;try{Dh(s)}catch(x){rt(s,w,x)}}}catch(x){rt(s,s.return,x)}if(s===r){le=null;break}var C=s.sibling;if(C!==null){C.return=s.return,le=C;break}le=s.return}}var uI=Math.ceil,Fl=Z.ReactCurrentDispatcher,Lh=Z.ReactCurrentOwner,kn=Z.ReactCurrentBatchConfig,Ne=0,It=null,ft=null,bt=0,mn=0,vo=li(0),yt=0,Ba=null,as=0,Ul=0,Oh=0,qa=null,rn=null,Mh=0,wo=1/0,$r=null,$l=!1,Fh=null,mi=null,jl=!1,gi=null,zl=0,Ha=0,Uh=null,Bl=-1,ql=0;function Yt(){return Ne&6?qe():Bl!==-1?Bl:Bl=qe()}function yi(r){return r.mode&1?Ne&2&&bt!==0?bt&-bt:HS.transition!==null?(ql===0&&(ql=Gi()),ql):(r=Pe,r!==0||(r=window.event,r=r===void 0?16:va(r.type)),r):1}function Qn(r,s,a,c){if(50<Ha)throw Ha=0,Uh=null,Error(t(185));ti(r,a,c),(!(Ne&2)||r!==It)&&(r===It&&(!(Ne&2)&&(Ul|=a),yt===4&&_i(r,bt)),sn(r,c),a===1&&Ne===0&&!(s.mode&1)&&(wo=qe()+500,_l&&fi()))}function sn(r,s){var a=r.callbackNode;kr(r,s);var c=Qi(r,r===It?bt:0);if(c===0)a!==null&&pa(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&pa(a),s===1)r.tag===0?qS(Ky.bind(null,r)):Dg(Ky.bind(null,r)),$S(function(){!(Ne&6)&&fi()}),a=null;else{switch(ri(c)){case 1:a=Wi;break;case 4:a=Jr;break;case 16:a=En;break;case 536870912:a=qu;break;default:a=En}a=t_(a,Wy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Wy(r,s){if(Bl=-1,ql=0,Ne&6)throw Error(t(327));var a=r.callbackNode;if(Eo()&&r.callbackNode!==a)return null;var c=Qi(r,r===It?bt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=Hl(r,c);else{s=c;var d=Ne;Ne|=2;var g=Gy();(It!==r||bt!==s)&&($r=null,wo=qe()+500,ls(r,s));do try{fI();break}catch(C){Qy(r,C)}while(!0);rh(),Fl.current=g,Ne=d,ft!==null?s=0:(It=null,bt=0,s=yt)}if(s!==0){if(s===2&&(d=cn(r),d!==0&&(c=d,s=$h(r,d))),s===1)throw a=Ba,ls(r,0),_i(r,c),sn(r,qe()),a;if(s===6)_i(r,c);else{if(d=r.current.alternate,!(c&30)&&!lI(d)&&(s=Hl(r,c),s===2&&(g=cn(r),g!==0&&(c=g,s=$h(r,g))),s===1))throw a=Ba,ls(r,0),_i(r,c),sn(r,qe()),a;switch(r.finishedWork=d,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:cs(r,rn,$r);break;case 3:if(_i(r,c),(c&130023424)===c&&(s=Mh+500-qe(),10<s)){if(Qi(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){Yt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=Wf(cs.bind(null,r,rn,$r),s);break}cs(r,rn,$r);break;case 4:if(_i(r,c),(c&4194240)===c)break;for(s=r.eventTimes,d=-1;0<c;){var w=31-Qt(c);g=1<<w,w=s[w],w>d&&(d=w),c&=~g}if(c=d,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*uI(c/1960))-c,10<c){r.timeoutHandle=Wf(cs.bind(null,r,rn,$r),c);break}cs(r,rn,$r);break;case 5:cs(r,rn,$r);break;default:throw Error(t(329))}}}return sn(r,qe()),r.callbackNode===a?Wy.bind(null,r):null}function $h(r,s){var a=qa;return r.current.memoizedState.isDehydrated&&(ls(r,s).flags|=256),r=Hl(r,s),r!==2&&(s=rn,rn=a,s!==null&&jh(s)),r}function jh(r){rn===null?rn=r:rn.push.apply(rn,r)}function lI(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!Bn(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _i(r,s){for(s&=~Oh,s&=~Ul,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Qt(s),c=1<<a;r[a]=-1,s&=~c}}function Ky(r){if(Ne&6)throw Error(t(327));Eo();var s=Qi(r,0);if(!(s&1))return sn(r,qe()),null;var a=Hl(r,s);if(r.tag!==0&&a===2){var c=cn(r);c!==0&&(s=c,a=$h(r,c))}if(a===1)throw a=Ba,ls(r,0),_i(r,s),sn(r,qe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,cs(r,rn,$r),sn(r,qe()),null}function zh(r,s){var a=Ne;Ne|=1;try{return r(s)}finally{Ne=a,Ne===0&&(wo=qe()+500,_l&&fi())}}function us(r){gi!==null&&gi.tag===0&&!(Ne&6)&&Eo();var s=Ne;Ne|=1;var a=kn.transition,c=Pe;try{if(kn.transition=null,Pe=1,r)return r()}finally{Pe=c,kn.transition=a,Ne=s,!(Ne&6)&&fi()}}function Bh(){mn=vo.current,Ge(vo)}function ls(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,US(a)),ft!==null)for(a=ft.return;a!==null;){var c=a;switch(Jf(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&gl();break;case 3:go(),Ge(en),Ge(Ft),fh();break;case 5:lh(c);break;case 4:go();break;case 13:Ge(Je);break;case 19:Ge(Je);break;case 10:ih(c.type._context);break;case 22:case 23:Bh()}a=a.return}if(It=r,ft=r=vi(r.current,null),bt=mn=s,yt=0,Ba=null,Oh=Ul=as=0,rn=qa=null,is!==null){for(s=0;s<is.length;s++)if(a=is[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var w=g.next;g.next=d,c.next=w}a.pending=c}is=null}return r}function Qy(r,s){do{var a=ft;try{if(rh(),kl.current=Dl,Pl){for(var c=Ze.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Pl=!1}if(os=0,St=gt=Ze=null,Ma=!1,Fa=0,Lh.current=null,a===null||a.return===null){yt=1,Ba=s,ft=null;break}e:{var g=r,w=a.return,C=a,x=s;if(s=bt,C.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var j=x,J=C,ee=J.tag;if(!(J.mode&1)&&(ee===0||ee===11||ee===15)){var Y=J.alternate;Y?(J.updateQueue=Y.updateQueue,J.memoizedState=Y.memoizedState,J.lanes=Y.lanes):(J.updateQueue=null,J.memoizedState=null)}var oe=vy(w);if(oe!==null){oe.flags&=-257,wy(oe,w,C,g,s),oe.mode&1&&_y(g,j,s),s=oe,x=j;var ce=s.updateQueue;if(ce===null){var fe=new Set;fe.add(x),s.updateQueue=fe}else ce.add(x);break e}else{if(!(s&1)){_y(g,j,s),qh();break e}x=Error(t(426))}}else if(Ye&&C.mode&1){var ut=vy(w);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),wy(ut,w,C,g,s),th(yo(x,C));break e}}g=x=yo(x,C),yt!==4&&(yt=2),qa===null?qa=[g]:qa.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var U=gy(g,x,s);Bg(g,U);break e;case 1:C=x;var V=g.type,$=g.stateNode;if(!(g.flags&128)&&(typeof V.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(mi===null||!mi.has($)))){g.flags|=65536,s&=-s,g.lanes|=s;var ne=yy(g,C,s);Bg(g,ne);break e}}g=g.return}while(g!==null)}Yy(a)}catch(he){s=he,ft===a&&a!==null&&(ft=a=a.return);continue}break}while(!0)}function Gy(){var r=Fl.current;return Fl.current=Dl,r===null?Dl:r}function qh(){(yt===0||yt===3||yt===2)&&(yt=4),It===null||!(as&268435455)&&!(Ul&268435455)||_i(It,bt)}function Hl(r,s){var a=Ne;Ne|=2;var c=Gy();(It!==r||bt!==s)&&($r=null,ls(r,s));do try{cI();break}catch(d){Qy(r,d)}while(!0);if(rh(),Ne=a,Fl.current=c,ft!==null)throw Error(t(261));return It=null,bt=0,yt}function cI(){for(;ft!==null;)Xy(ft)}function fI(){for(;ft!==null&&!zu();)Xy(ft)}function Xy(r){var s=e_(r.alternate,r,mn);r.memoizedProps=r.pendingProps,s===null?Yy(r):ft=s,Lh.current=null}function Yy(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=iI(a,s),a!==null){a.flags&=32767,ft=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{yt=6,ft=null;return}}else if(a=rI(a,s,mn),a!==null){ft=a;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);yt===0&&(yt=5)}function cs(r,s,a){var c=Pe,d=kn.transition;try{kn.transition=null,Pe=1,hI(r,s,a,c)}finally{kn.transition=d,Pe=c}return null}function hI(r,s,a,c){do Eo();while(gi!==null);if(Ne&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(je(r,g),r===It&&(ft=It=null,bt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||jl||(jl=!0,t_(En,function(){return Eo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=kn.transition,kn.transition=null;var w=Pe;Pe=1;var C=Ne;Ne|=4,Lh.current=null,oI(r,a),jy(a,r),DS(qf),si=!!Bf,qf=Bf=null,r.current=a,aI(a),Rf(),Ne=C,Pe=w,kn.transition=g}else r.current=a;if(jl&&(jl=!1,gi=r,zl=d),g=r.pendingLanes,g===0&&(mi=null),Hu(a.stateNode),sn(r,qe()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if($l)throw $l=!1,r=Fh,Fh=null,r;return zl&1&&r.tag!==0&&Eo(),g=r.pendingLanes,g&1?r===Uh?Ha++:(Ha=0,Uh=r):Ha=0,fi(),null}function Eo(){if(gi!==null){var r=ri(zl),s=kn.transition,a=Pe;try{if(kn.transition=null,Pe=16>r?16:r,gi===null)var c=!1;else{if(r=gi,gi=null,zl=0,Ne&6)throw Error(t(331));var d=Ne;for(Ne|=4,le=r.current;le!==null;){var g=le,w=g.child;if(le.flags&16){var C=g.deletions;if(C!==null){for(var x=0;x<C.length;x++){var j=C[x];for(le=j;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:za(8,J,g)}var ee=J.child;if(ee!==null)ee.return=J,le=ee;else for(;le!==null;){J=le;var Y=J.sibling,oe=J.return;if(Oy(J),J===j){le=null;break}if(Y!==null){Y.return=oe,le=Y;break}le=oe}}}var ce=g.alternate;if(ce!==null){var fe=ce.child;if(fe!==null){ce.child=null;do{var ut=fe.sibling;fe.sibling=null,fe=ut}while(fe!==null)}}le=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,le=w;else e:for(;le!==null;){if(g=le,g.flags&2048)switch(g.tag){case 0:case 11:case 15:za(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,le=U;break e}le=g.return}}var V=r.current;for(le=V;le!==null;){w=le;var $=w.child;if(w.subtreeFlags&2064&&$!==null)$.return=w,le=$;else e:for(w=V;le!==null;){if(C=le,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Ml(9,C)}}catch(he){rt(C,C.return,he)}if(C===w){le=null;break e}var ne=C.sibling;if(ne!==null){ne.return=C.return,le=ne;break e}le=C.return}}if(Ne=d,fi(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ki,r)}catch{}c=!0}return c}finally{Pe=a,kn.transition=s}}return!1}function Jy(r,s,a){s=yo(a,s),s=gy(r,s,1),r=di(r,s,1),s=Yt(),r!==null&&(ti(r,1,s),sn(r,s))}function rt(r,s,a){if(r.tag===3)Jy(r,r,a);else for(;s!==null;){if(s.tag===3){Jy(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mi===null||!mi.has(c))){r=yo(a,r),r=yy(s,r,1),s=di(s,r,1),r=Yt(),s!==null&&(ti(s,1,r),sn(s,r));break}}s=s.return}}function dI(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=Yt(),r.pingedLanes|=r.suspendedLanes&a,It===r&&(bt&a)===a&&(yt===4||yt===3&&(bt&130023424)===bt&&500>qe()-Mh?ls(r,0):Oh|=a),sn(r,s)}function Zy(r,s){s===0&&(r.mode&1?(s=Bs,Bs<<=1,!(Bs&130023424)&&(Bs=4194304)):s=1);var a=Yt();r=Mr(r,s),r!==null&&(ti(r,s,a),sn(r,a))}function pI(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Zy(r,a)}function mI(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Zy(r,a)}var e_;e_=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||en.current)nn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return nn=!1,nI(r,s,a);nn=!!(r.flags&131072)}else nn=!1,Ye&&s.flags&1048576&&Vg(s,wl,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Ll(r,s),r=s.pendingProps;var d=uo(s,Ft.current);mo(s,a),d=ph(null,s,c,r,d,a);var g=mh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,tn(c)?(g=!0,yl(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ah(s),d.updater=Vl,s.stateNode=d,d._reactInternals=s,Eh(s,c,r,a),s=Ch(null,s,c,!0,g,a)):(s.tag=0,Ye&&g&&Yf(s),Xt(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Ll(r,s),r=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=yI(c),r=Hn(c,r),d){case 0:s=Ih(null,s,c,r,a);break e;case 1:s=Ay(null,s,c,r,a);break e;case 11:s=Ey(null,s,c,r,a);break e;case 14:s=Ty(null,s,c,Hn(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Hn(c,d),Ih(r,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Hn(c,d),Ay(r,s,c,d,a);case 3:e:{if(Ry(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,d=g.element,zg(r,s),Al(s,c,null,a);var w=s.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=yo(Error(t(423)),s),s=ky(r,s,c,a,d);break e}else if(c!==d){d=yo(Error(t(424)),s),s=ky(r,s,c,a,d);break e}else for(pn=ui(s.stateNode.containerInfo.firstChild),dn=s,Ye=!0,qn=null,a=$g(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(fo(),c===d){s=Ur(r,s,a);break e}Xt(r,s,c,a)}s=s.child}return s;case 5:return Hg(s),r===null&&eh(s),c=s.type,d=s.pendingProps,g=r!==null?r.memoizedProps:null,w=d.children,Hf(c,d)?w=null:g!==null&&Hf(c,g)&&(s.flags|=32),Cy(r,s),Xt(r,s,w,a),s.child;case 6:return r===null&&eh(s),null;case 13:return Py(r,s,a);case 4:return uh(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=ho(s,null,c,a):Xt(r,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Hn(c,d),Ey(r,s,c,d,a);case 7:return Xt(r,s,s.pendingProps,a),s.child;case 8:return Xt(r,s,s.pendingProps.children,a),s.child;case 12:return Xt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,g=s.memoizedProps,w=d.value,He(Sl,c._currentValue),c._currentValue=w,g!==null)if(Bn(g.value,w)){if(g.children===d.children&&!en.current){s=Ur(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){w=g.child;for(var x=C.firstContext;x!==null;){if(x.context===c){if(g.tag===1){x=Fr(-1,a&-a),x.tag=2;var j=g.updateQueue;if(j!==null){j=j.shared;var J=j.pending;J===null?x.next=x:(x.next=J.next,J.next=x),j.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),sh(g.return,a,s),C.lanes|=a;break}x=x.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,C=w.alternate,C!==null&&(C.lanes|=a),sh(w,a,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Xt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,mo(s,a),d=An(d),c=c(d),s.flags|=1,Xt(r,s,c,a),s.child;case 14:return c=s.type,d=Hn(c,s.pendingProps),d=Hn(c.type,d),Ty(r,s,c,d,a);case 15:return Sy(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Hn(c,d),Ll(r,s),s.tag=1,tn(c)?(r=!0,yl(s)):r=!1,mo(s,a),py(s,c,d),Eh(s,c,d,a),Ch(null,s,c,!0,r,a);case 19:return by(r,s,a);case 22:return Iy(r,s,a)}throw Error(t(156,s.tag))};function t_(r,s){return js(r,s)}function gI(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,s,a,c){return new gI(r,s,a,c)}function Hh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function yI(r){if(typeof r=="function")return Hh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===Ot)return 14}return 2}function vi(r,s){var a=r.alternate;return a===null?(a=Pn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Wl(r,s,a,c,d,g){var w=2;if(c=r,typeof r=="function")Hh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case P:return fs(a.children,d,g,s);case I:w=8,d|=8;break;case A:return r=Pn(12,a,s,d|2),r.elementType=A,r.lanes=g,r;case k:return r=Pn(13,a,s,d),r.elementType=k,r.lanes=g,r;case ot:return r=Pn(19,a,s,d),r.elementType=ot,r.lanes=g,r;case $e:return Kl(a,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:w=10;break e;case L:w=9;break e;case M:w=11;break e;case Ot:w=14;break e;case Mt:w=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Pn(w,a,s,d),s.elementType=r,s.type=c,s.lanes=g,s}function fs(r,s,a,c){return r=Pn(7,r,c,s),r.lanes=a,r}function Kl(r,s,a,c){return r=Pn(22,r,c,s),r.elementType=$e,r.lanes=a,r.stateNode={isHidden:!1},r}function Wh(r,s,a){return r=Pn(6,r,null,s),r.lanes=a,r}function Kh(r,s,a){return s=Pn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function _I(r,s,a,c,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ei(0),this.expirationTimes=ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Qh(r,s,a,c,d,g,w,C,x){return r=new _I(r,s,a,C,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Pn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(g),r}function vI(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function n_(r){if(!r)return ci;r=r._reactInternals;e:{if(On(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(tn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(tn(a))return xg(r,a,s)}return s}function r_(r,s,a,c,d,g,w,C,x){return r=Qh(a,c,!0,r,d,g,w,C,x),r.context=n_(null),a=r.current,c=Yt(),d=yi(a),g=Fr(c,d),g.callback=s??null,di(a,g,d),r.current.lanes=d,ti(r,d,c),sn(r,c),r}function Ql(r,s,a,c){var d=s.current,g=Yt(),w=yi(d);return a=n_(a),s.context===null?s.context=a:s.pendingContext=a,s=Fr(g,w),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=di(d,s,w),r!==null&&(Qn(r,d,w,g),Cl(r,d,w)),w}function Gl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function i_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Gh(r,s){i_(r,s),(r=r.alternate)&&i_(r,s)}var s_=typeof reportError=="function"?reportError:function(r){console.error(r)};function Xh(r){this._internalRoot=r}Xl.prototype.render=Xh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Ql(r,s,null,null)},Xl.prototype.unmount=Xh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;us(function(){Ql(null,r,null,null)}),s[Vr]=null}};function Xl(r){this._internalRoot=r}Xl.prototype.unstable_scheduleHydration=function(r){if(r){var s=Xu();r={blockedOn:null,target:r,priority:s};for(var a=0;a<ir.length&&s!==0&&s<ir[a].priority;a++);ir.splice(a,0,r),a===0&&Zu(r)}};function Yh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Yl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function o_(){}function wI(r,s,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var j=Gl(w);g.call(j)}}var w=r_(s,c,r,0,null,!1,!1,"",o_);return r._reactRootContainer=w,r[Vr]=w.current,Pa(r.nodeType===8?r.parentNode:r),us(),w}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var C=c;c=function(){var j=Gl(x);C.call(j)}}var x=Qh(r,0,!1,null,null,!1,!1,"",o_);return r._reactRootContainer=x,r[Vr]=x.current,Pa(r.nodeType===8?r.parentNode:r),us(function(){Ql(s,x,a,c)}),x}function Jl(r,s,a,c,d){var g=a._reactRootContainer;if(g){var w=g;if(typeof d=="function"){var C=d;d=function(){var x=Gl(w);C.call(x)}}Ql(s,w,r,d)}else w=wI(a,s,r,d,c);return Gl(w)}Qu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Zr(s.pendingLanes);a!==0&&(ni(s,a|1),sn(s,qe()),!(Ne&6)&&(wo=qe()+500,fi()))}break;case 13:us(function(){var c=Mr(r,1);if(c!==null){var d=Yt();Qn(c,r,1,d)}}),Gh(r,1)}},qs=function(r){if(r.tag===13){var s=Mr(r,134217728);if(s!==null){var a=Yt();Qn(s,r,134217728,a)}Gh(r,134217728)}},Gu=function(r){if(r.tag===13){var s=yi(r),a=Mr(r,s);if(a!==null){var c=Yt();Qn(a,r,s,c)}Gh(r,s)}},Xu=function(){return Pe},Yu=function(r,s){var a=Pe;try{return Pe=r,s()}finally{Pe=a}},Ls=function(r,s,a){switch(s){case"input":if(ea(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var d=ml(c);if(!d)throw Error(t(90));Ps(c),ea(c,d)}}}break;case"textarea":Vs(r,a);break;case"select":s=a.value,s!=null&&Cr(r,!!a.multiple,s,!1)}},zi=zh,ca=us;var EI={usingClientEntryPoint:!1,Events:[Da,oo,ml,nr,la,zh]},Wa={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TI={bundleType:Wa.bundleType,version:Wa.version,rendererPackageName:Wa.rendererPackageName,rendererConfig:Wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=da(r),r===null?null:r.stateNode},findFiberByHostInstance:Wa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{Ki=Zl.inject(TI),ln=Zl}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EI,on.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yh(s))throw Error(t(200));return vI(r,s,null,a)},on.createRoot=function(r,s){if(!Yh(r))throw Error(t(299));var a=!1,c="",d=s_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Qh(r,1,!1,null,null,a,!1,c,d),r[Vr]=s.current,Pa(r.nodeType===8?r.parentNode:r),new Xh(s)},on.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=da(s),r=r===null?null:r.stateNode,r},on.flushSync=function(r){return us(r)},on.hydrate=function(r,s,a){if(!Yl(s))throw Error(t(200));return Jl(null,r,s,!0,a)},on.hydrateRoot=function(r,s,a){if(!Yh(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",w=s_;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=r_(s,null,r,1,a??null,d,!1,g,w),r[Vr]=s.current,Pa(r),c)for(r=0;r<c.length;r++)a=c[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Xl(s)},on.render=function(r,s,a){if(!Yl(s))throw Error(t(200));return Jl(null,r,s,!1,a)},on.unmountComponentAtNode=function(r){if(!Yl(r))throw Error(t(40));return r._reactRootContainer?(us(function(){Jl(null,null,r,!1,function(){r._reactRootContainer=null,r[Vr]=null})}),!0):!1},on.unstable_batchedUpdates=zh,on.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Yl(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Jl(r,s,a,!1,c)},on.version="18.3.1-next-f1338f8080-20240426",on}var p_;function xI(){if(p_)return ed.exports;p_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ed.exports=PI(),ed.exports}var m_;function bI(){if(m_)return ec;m_=1;var n=xI();return ec.createRoot=n.createRoot,ec.hydrateRoot=n.hydrateRoot,ec}var DI=bI(),Qa={},g_;function VI(){if(g_)return Qa;g_=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.parse=f,Qa.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,R){const N=new u,B=S.length;if(B<2)return N;const D=(R==null?void 0:R.decode)||v;let H=0;do{const K=S.indexOf("=",H);if(K===-1)break;const z=S.indexOf(";",H),Z=z===-1?B:z;if(K>Z){H=S.lastIndexOf(";",K-1)+1;continue}const se=h(S,H,K),Q=p(S,K,se),P=S.slice(se,Q);if(N[P]===void 0){let I=h(S,K+1,Z),A=p(S,Z,I);const b=D(S.slice(I,A));N[P]=b}H=Z+1}while(H<B);return N}function h(S,R,N){do{const B=S.charCodeAt(R);if(B!==32&&B!==9)return R}while(++R<N);return N}function p(S,R,N){for(;R>N;){const B=S.charCodeAt(--R);if(B!==32&&B!==9)return R+1}return N}function y(S,R,N){const B=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const D=B(R);if(!e.test(D))throw new TypeError(`argument val is invalid: ${R}`);let H=S+"="+D;if(!N)return H;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);H+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);H+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);H+="; Path="+N.path}if(N.expires){if(!E(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);H+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(H+="; HttpOnly"),N.secure&&(H+="; Secure"),N.partitioned&&(H+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return H}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function E(S){return o.call(S)==="[object Date]"}return Qa}VI();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var y_="popstate";function NI(n={}){function e(i,o){let{pathname:u,search:f,hash:h}=i.location;return kd("",{pathname:u,search:f,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:fu(o)}return OI(e,t,null,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LI(){return Math.random().toString(36).substring(2,10)}function __(n,e){return{usr:n.state,key:n.key,idx:e}}function kd(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?jo(e):e,state:t,key:e&&e.key||i||LI()}}function fu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function jo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function OI(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,f=o.history,h="POP",p=null,y=v();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function v(){return(f.state||{idx:null}).idx}function E(){h="POP";let D=v(),H=D==null?null:D-y;y=D,p&&p({action:h,location:B.location,delta:H})}function S(D,H){h="PUSH";let K=kd(B.location,D,H);y=v()+1;let z=__(K,y),Z=B.createHref(K);try{f.pushState(z,"",Z)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(Z)}u&&p&&p({action:h,location:B.location,delta:1})}function R(D,H){h="REPLACE";let K=kd(B.location,D,H);y=v();let z=__(K,y),Z=B.createHref(K);f.replaceState(z,"",Z),u&&p&&p({action:h,location:B.location,delta:0})}function N(D){let H=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof D=="string"?D:fu(D);return K=K.replace(/ $/,"%20"),tt(H,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,H)}let B={get action(){return h},get location(){return n(o,f)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(y_,E),p=D,()=>{o.removeEventListener(y_,E),p=null}},createHref(D){return e(o,D)},createURL:N,encodeLocation(D){let H=N(D);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:S,replace:R,go(D){return f.go(D)}};return B}function ww(n,e,t="/"){return MI(n,e,t,!1)}function MI(n,e,t,i){let o=typeof e=="string"?jo(e):e,u=Ai(o.pathname||"/",t);if(u==null)return null;let f=Ew(n);FI(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let y=GI(u);h=KI(f[p],y,i)}return h}function Ew(n,e=[],t=[],i=""){let o=(u,f,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(tt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=zr([i,p.relativePath]),v=t.concat(p);u.children&&u.children.length>0&&(tt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Ew(u.children,e,v,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:HI(y,u.index),routesMeta:v})};return n.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,f);else for(let p of Tw(u.path))o(u,f,p)}),e}function Tw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let f=Tw(i.join("/")),h=[];return h.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&h.push(...f),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function FI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var UI=/^:[\w-]+$/,$I=3,jI=2,zI=1,BI=10,qI=-2,v_=n=>n==="*";function HI(n,e){let t=n.split("/"),i=t.length;return t.some(v_)&&(i+=qI),e&&(i+=jI),t.filter(o=>!v_(o)).reduce((o,u)=>o+(UI.test(u)?$I:u===""?zI:BI),i)}function WI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function KI(n,e,t=!1){let{routesMeta:i}=n,o={},u="/",f=[];for(let h=0;h<i.length;++h){let p=i[h],y=h===i.length-1,v=u==="/"?e:e.slice(u.length)||"/",E=Ec({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),S=p.route;if(!E&&y&&t&&!i[i.length-1].route.index&&(E=Ec({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:zr([u,E.pathname]),pathnameBase:ZI(zr([u,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(u=zr([u,E.pathnameBase]))}return f}function Ec(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=QI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((y,{paramName:v,isOptional:E},S)=>{if(v==="*"){let N=h[S]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const R=h[S];return E&&!R?y[v]=void 0:y[v]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:n}}function QI(n,e=!1,t=!0){gr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function GI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ai(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function XI(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?jo(n):n;return{pathname:t?t.startsWith("/")?t:YI(t,e):e,search:e1(i),hash:t1(o)}}function YI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function rd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sw(n){let e=JI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Iw(n,e,t,i=!1){let o;typeof n=="string"?o=jo(n):(o={...n},tt(!o.pathname||!o.pathname.includes("?"),rd("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),rd("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),rd("#","search","hash",o)));let u=n===""||o.pathname==="",f=u?"/":o.pathname,h;if(f==null)h=t;else{let E=e.length-1;if(!i&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}h=E>=0?e[E]:"/"}let p=XI(o,h),y=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var zr=n=>n.join("/").replace(/\/\/+/g,"/"),ZI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),e1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,t1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function n1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Cw=["POST","PUT","PATCH","DELETE"];new Set(Cw);var r1=["GET",...Cw];new Set(r1);var zo=W.createContext(null);zo.displayName="DataRouter";var Kc=W.createContext(null);Kc.displayName="DataRouterState";var Aw=W.createContext({isTransitioning:!1});Aw.displayName="ViewTransition";var i1=W.createContext(new Map);i1.displayName="Fetchers";var s1=W.createContext(null);s1.displayName="Await";var vr=W.createContext(null);vr.displayName="Navigation";var Ru=W.createContext(null);Ru.displayName="Location";var Gr=W.createContext({outlet:null,matches:[],isDataRoute:!1});Gr.displayName="Route";var Rp=W.createContext(null);Rp.displayName="RouteError";function o1(n,{relative:e}={}){tt(ku(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=W.useContext(vr),{hash:o,pathname:u,search:f}=Pu(n,{relative:e}),h=u;return t!=="/"&&(h=u==="/"?t:zr([t,u])),i.createHref({pathname:h,search:f,hash:o})}function ku(){return W.useContext(Ru)!=null}function Es(){return tt(ku(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Ru).location}var Rw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kw(n){W.useContext(vr).static||W.useLayoutEffect(n)}function a1(){let{isDataRoute:n}=W.useContext(Gr);return n?w1():u1()}function u1(){tt(ku(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(zo),{basename:e,navigator:t}=W.useContext(vr),{matches:i}=W.useContext(Gr),{pathname:o}=Es(),u=JSON.stringify(Sw(i)),f=W.useRef(!1);return kw(()=>{f.current=!0}),W.useCallback((p,y={})=>{if(gr(f.current,Rw),!f.current)return;if(typeof p=="number"){t.go(p);return}let v=Iw(p,JSON.parse(u),o,y.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:zr([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,u,o,n])}W.createContext(null);function Pu(n,{relative:e}={}){let{matches:t}=W.useContext(Gr),{pathname:i}=Es(),o=JSON.stringify(Sw(t));return W.useMemo(()=>Iw(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function l1(n,e){return Pw(n,e)}function Pw(n,e,t,i){var K;tt(ku(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=W.useContext(vr),{matches:f}=W.useContext(Gr),h=f[f.length-1],p=h?h.params:{},y=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let z=E&&E.path||"";xw(y,!E||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let S=Es(),R;if(e){let z=typeof e=="string"?jo(e):e;tt(v==="/"||((K=z.pathname)==null?void 0:K.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),R=z}else R=S;let N=R.pathname||"/",B=N;if(v!=="/"){let z=v.replace(/^\//,"").split("/");B="/"+N.replace(/^\//,"").split("/").slice(z.length).join("/")}let D=!u&&t&&t.matches&&t.matches.length>0?t.matches:ww(n,{pathname:B});gr(E||D!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),gr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=p1(D&&D.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:zr([v,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:zr([v,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),f,t,i);return e&&H?W.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},H):H}function c1(){let n=v1(),e=n1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:o},t):null,f)}var f1=W.createElement(c1,null),h1=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(Gr.Provider,{value:this.props.routeContext},W.createElement(Rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function d1({routeContext:n,match:e,children:t}){let i=W.useContext(zo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Gr.Provider,{value:n},t)}function p1(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=p),y.route.id){let{loaderData:v,errors:E}=t,S=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||S){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,y,v)=>{let E,S=!1,R=null,N=null;t&&(E=u&&y.route.id?u[y.route.id]:void 0,R=y.route.errorElement||f1,f&&(h<0&&v===0?(xw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):h===v&&(S=!0,N=y.route.hydrateFallbackElement||null)));let B=e.concat(o.slice(0,v+1)),D=()=>{let H;return E?H=R:S?H=N:y.route.Component?H=W.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=p,W.createElement(d1,{match:y,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:H})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?W.createElement(h1,{location:t.location,revalidation:t.revalidation,component:R,error:E,children:D(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):D()},null)}function kp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m1(n){let e=W.useContext(zo);return tt(e,kp(n)),e}function g1(n){let e=W.useContext(Kc);return tt(e,kp(n)),e}function y1(n){let e=W.useContext(Gr);return tt(e,kp(n)),e}function Pp(n){let e=y1(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function _1(){return Pp("useRouteId")}function v1(){var i;let n=W.useContext(Rp),e=g1("useRouteError"),t=Pp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function w1(){let{router:n}=m1("useNavigate"),e=Pp("useNavigate"),t=W.useRef(!1);return kw(()=>{t.current=!0}),W.useCallback(async(o,u={})=>{gr(t.current,Rw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var w_={};function xw(n,e,t){!e&&!w_[n]&&(w_[n]=!0,gr(!1,t))}W.memo(E1);function E1({routes:n,future:e,state:t}){return Pw(n,void 0,t,e)}function cc(n){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:u=!1}){tt(!ku(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=jo(t));let{pathname:p="/",search:y="",hash:v="",state:E=null,key:S="default"}=t,R=W.useMemo(()=>{let N=Ai(p,f);return N==null?null:{location:{pathname:N,search:y,hash:v,state:E,key:S},navigationType:i}},[f,p,y,v,E,S,i]);return gr(R!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:W.createElement(vr.Provider,{value:h},W.createElement(Ru.Provider,{children:e,value:R}))}function S1({children:n,location:e}){return l1(Pd(n),e)}function Pd(n,e=[]){let t=[];return W.Children.forEach(n,(i,o)=>{if(!W.isValidElement(i))return;let u=[...e,o];if(i.type===W.Fragment){t.push.apply(t,Pd(i.props.children,u));return}tt(i.type===cc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=Pd(i.props.children,u)),t.push(f)}),t}var fc="get",hc="application/x-www-form-urlencoded";function Qc(n){return n!=null&&typeof n.tagName=="string"}function I1(n){return Qc(n)&&n.tagName.toLowerCase()==="button"}function C1(n){return Qc(n)&&n.tagName.toLowerCase()==="form"}function A1(n){return Qc(n)&&n.tagName.toLowerCase()==="input"}function R1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function k1(n,e){return n.button===0&&(!e||e==="_self")&&!R1(n)}var tc=null;function P1(){if(tc===null)try{new FormData(document.createElement("form"),0),tc=!1}catch{tc=!0}return tc}var x1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function id(n){return n!=null&&!x1.has(n)?(gr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hc}"`),null):n}function b1(n,e){let t,i,o,u,f;if(C1(n)){let h=n.getAttribute("action");i=h?Ai(h,e):null,t=n.getAttribute("method")||fc,o=id(n.getAttribute("enctype"))||hc,u=new FormData(n)}else if(I1(n)||A1(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?Ai(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||fc,o=id(n.getAttribute("formenctype"))||id(h.getAttribute("enctype"))||hc,u=new FormData(h,n),!P1()){let{name:y,type:v,value:E}=n;if(v==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,E)}}else{if(Qc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fc,i=null,o=hc,f=n}return u&&o==="text/plain"&&(f=u,u=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:u,body:f}}function xp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function D1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function N1(n,e,t){let i=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await D1(u,t);return f.links?f.links():[]}return[]}));return F1(i.flat(1).filter(V1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function E_(n,e,t,i,o,u){let f=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,h=(p,y)=>{var v;return t[y].pathname!==p.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||h(p,y)):u==="data"?e.filter((p,y)=>{var E;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,y)||h(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function L1(n,e){return O1(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function O1(n){return[...new Set(n)]}function M1(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function F1(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let u=JSON.stringify(M1(o));return t.has(u)||(t.add(u),i.push({key:u,link:o})),i},[])}function U1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function $1(){let n=W.useContext(zo);return xp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function j1(){let n=W.useContext(Kc);return xp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var bp=W.createContext(void 0);bp.displayName="FrameworkContext";function bw(){let n=W.useContext(bp);return xp(n,"You must render this element inside a <HydratedRouter> element"),n}function z1(n,e){let t=W.useContext(bp),[i,o]=W.useState(!1),[u,f]=W.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:E}=e,S=W.useRef(null);W.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let B=H=>{H.forEach(K=>{f(K.isIntersecting)})},D=new IntersectionObserver(B,{threshold:.5});return S.current&&D.observe(S.current),()=>{D.disconnect()}}},[n]),W.useEffect(()=>{if(i){let B=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(B)}}},[i]);let R=()=>{o(!0)},N=()=>{o(!1),f(!1)};return t?n!=="intent"?[u,S,{}]:[u,S,{onFocus:Ga(h,R),onBlur:Ga(p,N),onMouseEnter:Ga(y,R),onMouseLeave:Ga(v,N),onTouchStart:Ga(E,R)}]:[!1,S,{}]}function Ga(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function B1({page:n,...e}){let{router:t}=$1(),i=W.useMemo(()=>ww(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?W.createElement(H1,{page:n,matches:i,...e}):null}function q1(n){let{manifest:e,routeModules:t}=bw(),[i,o]=W.useState([]);return W.useEffect(()=>{let u=!1;return N1(n,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[n,e,t]),i}function H1({page:n,matches:e,...t}){let i=Es(),{manifest:o,routeModules:u}=bw(),{loaderData:f,matches:h}=j1(),p=W.useMemo(()=>E_(n,e,h,o,i,"data"),[n,e,h,o,i]),y=W.useMemo(()=>E_(n,e,h,o,i,"assets"),[n,e,h,o,i]),v=W.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,N=!1;if(e.forEach(D=>{var K;let H=o.routes[D.route.id];!H||!H.hasLoader||(!p.some(z=>z.route.id===D.route.id)&&D.route.id in f&&((K=u[D.route.id])!=null&&K.shouldRevalidate)||H.hasClientLoader?N=!0:R.add(D.route.id))}),R.size===0)return[];let B=U1(n);return N&&R.size>0&&B.searchParams.set("_routes",e.filter(D=>R.has(D.route.id)).map(D=>D.route.id).join(",")),[B.pathname+B.search]},[f,i,o,p,e,n,u]),E=W.useMemo(()=>L1(y,o),[y,o]),S=q1(y);return W.createElement(W.Fragment,null,v.map(R=>W.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>W.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),S.map(({key:R,link:N})=>W.createElement("link",{key:R,...N})))}function W1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dw&&(window.__reactRouterVersion="7.1.5")}catch{}function K1({basename:n,children:e,window:t}){let i=W.useRef();i.current==null&&(i.current=NI({window:t,v5Compat:!0}));let o=i.current,[u,f]=W.useState({action:o.action,location:o.location}),h=W.useCallback(p=>{W.startTransition(()=>f(p))},[f]);return W.useLayoutEffect(()=>o.listen(h),[o,h]),W.createElement(T1,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o})}var Vw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nw=W.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:u,replace:f,state:h,target:p,to:y,preventScrollReset:v,viewTransition:E,...S},R){let{basename:N}=W.useContext(vr),B=typeof y=="string"&&Vw.test(y),D,H=!1;if(typeof y=="string"&&B&&(D=y,Dw))try{let A=new URL(window.location.href),b=y.startsWith("//")?new URL(A.protocol+y):new URL(y),L=Ai(b.pathname,N);b.origin===A.origin&&L!=null?y=L+b.search+b.hash:H=!0}catch{gr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=o1(y,{relative:o}),[z,Z,se]=z1(i,S),Q=X1(y,{replace:f,state:h,target:p,preventScrollReset:v,relative:o,viewTransition:E});function P(A){e&&e(A),A.defaultPrevented||Q(A)}let I=W.createElement("a",{...S,...se,href:D||K,onClick:H||u?e:P,ref:W1(R,Z),target:p,"data-discover":!B&&t==="render"?"true":void 0});return z&&!B?W.createElement(W.Fragment,null,I,W.createElement(B1,{page:K})):I});Nw.displayName="Link";var dc=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:u,to:f,viewTransition:h,children:p,...y},v){let E=Pu(f,{relative:y.relative}),S=Es(),R=W.useContext(Kc),{navigator:N,basename:B}=W.useContext(vr),D=R!=null&&tC(E)&&h===!0,H=N.encodeLocation?N.encodeLocation(E).pathname:E.pathname,K=S.pathname,z=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(K=K.toLowerCase(),z=z?z.toLowerCase():null,H=H.toLowerCase()),z&&B&&(z=Ai(z,B)||z);const Z=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let se=K===H||!o&&K.startsWith(H)&&K.charAt(Z)==="/",Q=z!=null&&(z===H||!o&&z.startsWith(H)&&z.charAt(H.length)==="/"),P={isActive:se,isPending:Q,isTransitioning:D},I=se?e:void 0,A;typeof i=="function"?A=i(P):A=[i,se?"active":null,Q?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let b=typeof u=="function"?u(P):u;return W.createElement(Nw,{...y,"aria-current":I,className:A,ref:v,style:b,to:f,viewTransition:h},typeof p=="function"?p(P):p)});dc.displayName="NavLink";var Q1=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:u,method:f=fc,action:h,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:E,...S},R)=>{let N=Z1(),B=eC(h,{relative:y}),D=f.toLowerCase()==="get"?"get":"post",H=typeof h=="string"&&Vw.test(h),K=z=>{if(p&&p(z),z.defaultPrevented)return;z.preventDefault();let Z=z.nativeEvent.submitter,se=(Z==null?void 0:Z.getAttribute("formmethod"))||f;N(Z||z.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:u,relative:y,preventScrollReset:v,viewTransition:E})};return W.createElement("form",{ref:R,method:D,action:B,onSubmit:i?p:K,...S,"data-discover":!H&&n==="render"?"true":void 0})});Q1.displayName="Form";function G1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lw(n){let e=W.useContext(zo);return tt(e,G1(n)),e}function X1(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:u,viewTransition:f}={}){let h=a1(),p=Es(),y=Pu(n,{relative:u});return W.useCallback(v=>{if(k1(v,e)){v.preventDefault();let E=t!==void 0?t:fu(p)===fu(y);h(n,{replace:E,state:i,preventScrollReset:o,relative:u,viewTransition:f})}},[p,h,y,t,i,e,n,o,u,f])}var Y1=0,J1=()=>`__${String(++Y1)}__`;function Z1(){let{router:n}=Lw("useSubmit"),{basename:e}=W.useContext(vr),t=_1();return W.useCallback(async(i,o={})=>{let{action:u,method:f,encType:h,formData:p,body:y}=b1(i,e);if(o.navigate===!1){let v=o.fetcherKey||J1();await n.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function eC(n,{relative:e}={}){let{basename:t}=W.useContext(vr),i=W.useContext(Gr);tt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Pu(n||".",{relative:e})},f=Es();if(n==null){u.search=f.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(v=>v==="")){h.delete("index"),p.filter(E=>E).forEach(E=>h.append("index",E));let v=h.toString();u.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:zr([t,u.pathname])),fu(u)}function tC(n,e={}){let t=W.useContext(Aw);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Lw("useViewTransitionState"),o=Pu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Ai(t.currentLocation.pathname,i)||t.currentLocation.pathname,f=Ai(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Ec(o.pathname,f)!=null||Ec(o.pathname,u)!=null}new TextEncoder;const nC="/assets/home-BlCGEQ9n.png",rC="/assets/shop-B2RSHZxo.png",iC="/assets/info-BeDfSXz3.png";function Dp(){return ye.jsx("div",{className:"foot",children:ye.jsxs("ul",{className:"foot-ul",children:[ye.jsx(dc,{to:"/",children:ye.jsx("li",{className:"foot-li",children:ye.jsx("img",{className:"panel-btn-img",src:nC,alt:""})})}),ye.jsx(dc,{to:"/addition",children:ye.jsx("li",{className:"foot-li",children:ye.jsx("img",{className:"panel-btn-img",src:rC,alt:""})})}),ye.jsx(dc,{to:"/other",children:ye.jsx("li",{className:"foot-li",children:ye.jsx("img",{className:"panel-btn-img",src:iC,alt:""})})})]})})}var sd={exports:{}},od={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function sC(){if(T_)return od;T_=1;var n=Wc();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,o=n.useRef,u=n.useEffect,f=n.useMemo,h=n.useDebugValue;return od.useSyncExternalStoreWithSelector=function(p,y,v,E,S){var R=o(null);if(R.current===null){var N={hasValue:!1,value:null};R.current=N}else N=R.current;R=f(function(){function D(se){if(!H){if(H=!0,K=se,se=E(se),S!==void 0&&N.hasValue){var Q=N.value;if(S(Q,se))return z=Q}return z=se}if(Q=z,t(K,se))return Q;var P=E(se);return S!==void 0&&S(Q,P)?(K=se,Q):(K=se,z=P)}var H=!1,K,z,Z=v===void 0?null:v;return[function(){return D(y())},Z===null?void 0:function(){return D(Z())}]},[y,v,E,S]);var B=i(p,R[0],R[1]);return u(function(){N.hasValue=!0,N.value=B},[B]),h(B),B},od}var S_;function oC(){return S_||(S_=1,sd.exports=sC()),sd.exports}var aC=oC();function uC(n){n()}function lC(){let n=null,e=null;return{clear(){n=null,e=null},notify(){uC(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!i||n===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var I_={notify(){},get:()=>[]};function cC(n,e){let t,i=I_,o=0,u=!1;function f(B){v();const D=i.subscribe(B);let H=!1;return()=>{H||(H=!0,D(),E())}}function h(){i.notify()}function p(){N.onStateChange&&N.onStateChange()}function y(){return u}function v(){o++,t||(t=n.subscribe(p),i=lC())}function E(){o--,t&&o===0&&(t(),t=void 0,i.clear(),i=I_)}function S(){u||(u=!0,v())}function R(){u&&(u=!1,E())}const N={addNestedSub:f,notifyNestedSubs:h,handleChangeWrapper:p,isSubscribed:y,trySubscribe:S,tryUnsubscribe:R,getListeners:()=>i};return N}var fC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hC=fC(),dC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pC=dC(),mC=()=>hC||pC?W.useLayoutEffect:W.useEffect,gC=mC(),ad=Symbol.for("react-redux-context"),ud=typeof globalThis<"u"?globalThis:{};function yC(){if(!W.createContext)return{};const n=ud[ad]??(ud[ad]=new Map);let e=n.get(W.createContext);return e||(e=W.createContext(null),n.set(W.createContext,e)),e}var Ri=yC();function _C(n){const{children:e,context:t,serverState:i,store:o}=n,u=W.useMemo(()=>{const p=cC(o);return{store:o,subscription:p,getServerState:i?()=>i:void 0}},[o,i]),f=W.useMemo(()=>o.getState(),[o]);gC(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),f!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,f]);const h=t||Ri;return W.createElement(h.Provider,{value:u},e)}var vC=_C;function Vp(n=Ri){return function(){return W.useContext(n)}}var Ow=Vp();function Mw(n=Ri){const e=n===Ri?Ow:Vp(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var wC=Mw();function EC(n=Ri){const e=n===Ri?wC:Mw(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Fw=EC(),TC=(n,e)=>n===e;function SC(n=Ri){const e=n===Ri?Ow:Vp(n),t=(i,o={})=>{const{equalityFn:u=TC}=typeof o=="function"?{equalityFn:o}:o,f=e(),{store:h,subscription:p,getServerState:y}=f;W.useRef(!0);const v=W.useCallback({[i.name](S){return i(S)}}[i.name],[i]),E=aC.useSyncExternalStoreWithSelector(p.addNestedSub,h.getState,y||h.getState,v,u);return W.useDebugValue(E),E};return Object.assign(t,{withTypes:()=>t}),t}var IC=SC();function Dt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var CC=typeof Symbol=="function"&&Symbol.observable||"@@observable",C_=CC,ld=()=>Math.random().toString(36).substring(7).split("").join("."),AC={INIT:`@@redux/INIT${ld()}`,REPLACE:`@@redux/REPLACE${ld()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ld()}`},Tc=AC;function Np(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Uw(n,e,t){if(typeof n!="function")throw new Error(Dt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Dt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Dt(1));return t(Uw)(n,e)}let i=n,o=e,u=new Map,f=u,h=0,p=!1;function y(){f===u&&(f=new Map,u.forEach((D,H)=>{f.set(H,D)}))}function v(){if(p)throw new Error(Dt(3));return o}function E(D){if(typeof D!="function")throw new Error(Dt(4));if(p)throw new Error(Dt(5));let H=!0;y();const K=h++;return f.set(K,D),function(){if(H){if(p)throw new Error(Dt(6));H=!1,y(),f.delete(K),u=null}}}function S(D){if(!Np(D))throw new Error(Dt(7));if(typeof D.type>"u")throw new Error(Dt(8));if(typeof D.type!="string")throw new Error(Dt(17));if(p)throw new Error(Dt(9));try{p=!0,o=i(o,D)}finally{p=!1}return(u=f).forEach(K=>{K()}),D}function R(D){if(typeof D!="function")throw new Error(Dt(10));i=D,S({type:Tc.REPLACE})}function N(){const D=E;return{subscribe(H){if(typeof H!="object"||H===null)throw new Error(Dt(11));function K(){const Z=H;Z.next&&Z.next(v())}return K(),{unsubscribe:D(K)}},[C_](){return this}}}return S({type:Tc.INIT}),{dispatch:S,subscribe:E,getState:v,replaceReducer:R,[C_]:N}}function RC(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Tc.INIT})>"u")throw new Error(Dt(12));if(typeof t(void 0,{type:Tc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dt(13))})}function kC(n){const e=Object.keys(n),t={};for(let u=0;u<e.length;u++){const f=e[u];typeof n[f]=="function"&&(t[f]=n[f])}const i=Object.keys(t);let o;try{RC(t)}catch(u){o=u}return function(f={},h){if(o)throw o;let p=!1;const y={};for(let v=0;v<i.length;v++){const E=i[v],S=t[E],R=f[E],N=S(R,h);if(typeof N>"u")throw h&&h.type,new Error(Dt(14));y[E]=N,p=p||N!==R}return p=p||i.length!==Object.keys(f).length,p?y:f}}function Sc(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function PC(...n){return e=>(t,i)=>{const o=e(t,i);let u=()=>{throw new Error(Dt(15))};const f={getState:o.getState,dispatch:(p,...y)=>u(p,...y)},h=n.map(p=>p(f));return u=Sc(...h)(o.dispatch),{...o,dispatch:u}}}function xC(n){return Np(n)&&"type"in n&&typeof n.type=="string"}var $w=Symbol.for("immer-nothing"),A_=Symbol.for("immer-draftable"),gn=Symbol.for("immer-state");function Xn(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var xo=Object.getPrototypeOf;function ys(n){return!!n&&!!n[gn]}function Hr(n){var e;return n?jw(n)||Array.isArray(n)||!!n[A_]||!!((e=n.constructor)!=null&&e[A_])||Xc(n)||Yc(n):!1}var bC=Object.prototype.constructor.toString();function jw(n){if(!n||typeof n!="object")return!1;const e=xo(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===bC}function Ic(n,e){Gc(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function Gc(n){const e=n[gn];return e?e.type_:Array.isArray(n)?1:Xc(n)?2:Yc(n)?3:0}function xd(n,e){return Gc(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function zw(n,e,t){const i=Gc(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function DC(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Xc(n){return n instanceof Map}function Yc(n){return n instanceof Set}function hs(n){return n.copy_||n.base_}function bd(n,e){if(Xc(n))return new Map(n);if(Yc(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=jw(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[gn];let o=Reflect.ownKeys(i);for(let u=0;u<o.length;u++){const f=o[u],h=i[f];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(i[f]={configurable:!0,writable:!0,enumerable:h.enumerable,value:n[f]})}return Object.create(xo(n),i)}else{const i=xo(n);if(i!==null&&t)return{...n};const o=Object.create(i);return Object.assign(o,n)}}function Lp(n,e=!1){return Jc(n)||ys(n)||!Hr(n)||(Gc(n)>1&&(n.set=n.add=n.clear=n.delete=VC),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>Lp(i,!0))),n}function VC(){Xn(2)}function Jc(n){return Object.isFrozen(n)}var NC={};function _s(n){const e=NC[n];return e||Xn(0,n),e}var hu;function Bw(){return hu}function LC(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function R_(n,e){e&&(_s("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Dd(n){Vd(n),n.drafts_.forEach(OC),n.drafts_=null}function Vd(n){n===hu&&(hu=n.parent_)}function k_(n){return hu=LC(hu,n)}function OC(n){const e=n[gn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function P_(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[gn].modified_&&(Dd(e),Xn(4)),Hr(n)&&(n=Cc(e,n),e.parent_||Ac(e,n)),e.patches_&&_s("Patches").generateReplacementPatches_(t[gn].base_,n,e.patches_,e.inversePatches_)):n=Cc(e,t,[]),Dd(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==$w?n:void 0}function Cc(n,e,t){if(Jc(e))return e;const i=e[gn];if(!i)return Ic(e,(o,u)=>x_(n,i,e,o,u,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return Ac(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let u=o,f=!1;i.type_===3&&(u=new Set(o),o.clear(),f=!0),Ic(u,(h,p)=>x_(n,i,o,h,p,t,f)),Ac(n,o,!1),t&&n.patches_&&_s("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function x_(n,e,t,i,o,u,f){if(ys(o)){const h=u&&e&&e.type_!==3&&!xd(e.assigned_,i)?u.concat(i):void 0,p=Cc(n,o,h);if(zw(t,i,p),ys(p))n.canAutoFreeze_=!1;else return}else f&&t.add(o);if(Hr(o)&&!Jc(o)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Cc(n,o),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&Ac(n,o)}}function Ac(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Lp(e,t)}function MC(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:Bw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,u=Op;t&&(o=[i],u=du);const{revoke:f,proxy:h}=Proxy.revocable(o,u);return i.draft_=h,i.revoke_=f,h}var Op={get(n,e){if(e===gn)return n;const t=hs(n);if(!xd(t,e))return FC(n,t,e);const i=t[e];return n.finalized_||!Hr(i)?i:i===cd(n.base_,e)?(fd(n),n.copy_[e]=Ld(i,n)):i},has(n,e){return e in hs(n)},ownKeys(n){return Reflect.ownKeys(hs(n))},set(n,e,t){const i=qw(hs(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const o=cd(hs(n),e),u=o==null?void 0:o[gn];if(u&&u.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(DC(t,o)&&(t!==void 0||xd(n.base_,e)))return!0;fd(n),Nd(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return cd(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,fd(n),Nd(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=hs(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Xn(11)},getPrototypeOf(n){return xo(n.base_)},setPrototypeOf(){Xn(12)}},du={};Ic(Op,(n,e)=>{du[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});du.deleteProperty=function(n,e){return du.set.call(this,n,e,void 0)};du.set=function(n,e,t){return Op.set.call(this,n[0],e,t,n[0])};function cd(n,e){const t=n[gn];return(t?hs(t):n)[e]}function FC(n,e,t){var o;const i=qw(e,t);return i?"value"in i?i.value:(o=i.get)==null?void 0:o.call(n.draft_):void 0}function qw(n,e){if(!(e in n))return;let t=xo(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=xo(t)}}function Nd(n){n.modified_||(n.modified_=!0,n.parent_&&Nd(n.parent_))}function fd(n){n.copy_||(n.copy_=bd(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var UC=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const u=t;t=e;const f=this;return function(p=u,...y){return f.produce(p,v=>t.call(this,v,...y))}}typeof t!="function"&&Xn(6),i!==void 0&&typeof i!="function"&&Xn(7);let o;if(Hr(e)){const u=k_(this),f=Ld(e,void 0);let h=!0;try{o=t(f),h=!1}finally{h?Dd(u):Vd(u)}return R_(u,i),P_(o,u)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===$w&&(o=void 0),this.autoFreeze_&&Lp(o,!0),i){const u=[],f=[];_s("Patches").generateReplacementPatches_(e,o,u,f),i(u,f)}return o}else Xn(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(f,...h)=>this.produceWithPatches(f,p=>e(p,...h));let i,o;return[this.produce(e,t,(f,h)=>{i=f,o=h}),i,o]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Hr(n)||Xn(8),ys(n)&&(n=$C(n));const e=k_(this),t=Ld(n,void 0);return t[gn].isManual_=!0,Vd(e),t}finishDraft(n,e){const t=n&&n[gn];(!t||!t.isManual_)&&Xn(9);const{scope_:i}=t;return R_(i,e),P_(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));const i=_s("Patches").applyPatches_;return ys(n)?i(n,e):this.produce(n,o=>i(o,e))}};function Ld(n,e){const t=Xc(n)?_s("MapSet").proxyMap_(n,e):Yc(n)?_s("MapSet").proxySet_(n,e):MC(n,e);return(e?e.scope_:Bw()).drafts_.push(t),t}function $C(n){return ys(n)||Xn(10,n),Hw(n)}function Hw(n){if(!Hr(n)||Jc(n))return n;const e=n[gn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=bd(n,e.scope_.immer_.useStrictShallowCopy_)}else t=bd(n,!0);return Ic(t,(i,o)=>{zw(t,i,Hw(o))}),e&&(e.finalized_=!1),t}var yn=new UC,Ww=yn.produce;yn.produceWithPatches.bind(yn);yn.setAutoFreeze.bind(yn);yn.setUseStrictShallowCopy.bind(yn);yn.applyPatches.bind(yn);yn.createDraft.bind(yn);yn.finishDraft.bind(yn);function Kw(n){return({dispatch:t,getState:i})=>o=>u=>typeof u=="function"?u(t,i,n):o(u)}var jC=Kw(),zC=Kw,BC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Sc:Sc.apply(null,arguments)};function b_(n,e){function t(...i){if(e){let o=e(...i);if(!o)throw new Error(Br(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>xC(i)&&i.type===n,t}var Qw=class Ya extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ya.prototype)}static get[Symbol.species](){return Ya}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ya(...e[0].concat(this)):new Ya(...e.concat(this))}};function D_(n){return Hr(n)?Ww(n,()=>{}):n}function V_(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function qC(n){return typeof n=="boolean"}var HC=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let f=new Qw;return t&&(qC(t)?f.push(jC):f.push(zC(t.extraArgument))),f},WC="RTK_autoBatch",N_=n=>e=>{setTimeout(e,n)},KC=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let o=!0,u=!1,f=!1;const h=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:N_(10):n.type==="callback"?n.queueNotification:N_(n.timeout),y=()=>{f=!1,u&&(u=!1,h.forEach(v=>v()))};return Object.assign({},i,{subscribe(v){const E=()=>o&&v(),S=i.subscribe(E);return h.add(v),()=>{S(),h.delete(v)}},dispatch(v){var E;try{return o=!((E=v==null?void 0:v.meta)!=null&&E[WC]),u=!o,u&&(f||(f=!0,p(y))),i.dispatch(v)}finally{o=!0}}})},QC=n=>function(t){const{autoBatch:i=!0}=t??{};let o=new Qw(n);return i&&o.push(KC(typeof i=="object"?i:void 0)),o};function GC(n){const e=HC(),{reducer:t=void 0,middleware:i,devTools:o=!0,preloadedState:u=void 0,enhancers:f=void 0}=n;let h;if(typeof t=="function")h=t;else if(Np(t))h=kC(t);else throw new Error(Br(1));let p;typeof i=="function"?p=i(e):p=e();let y=Sc;o&&(y=BC({trace:!1,...typeof o=="object"&&o}));const v=PC(...p),E=QC(v);let S=typeof f=="function"?f(E):E();const R=y(...S);return Uw(h,u,R)}function Gw(n){const e={},t=[];let i;const o={addCase(u,f){const h=typeof u=="string"?u:u.type;if(!h)throw new Error(Br(28));if(h in e)throw new Error(Br(29));return e[h]=f,o},addMatcher(u,f){return t.push({matcher:u,reducer:f}),o},addDefaultCase(u){return i=u,o}};return n(o),[e,t,i]}function XC(n){return typeof n=="function"}function YC(n,e){let[t,i,o]=Gw(e),u;if(XC(n))u=()=>D_(n());else{const h=D_(n);u=()=>h}function f(h=u(),p){let y=[t[p.type],...i.filter(({matcher:v})=>v(p)).map(({reducer:v})=>v)];return y.filter(v=>!!v).length===0&&(y=[o]),y.reduce((v,E)=>{if(E)if(ys(v)){const R=E(v,p);return R===void 0?v:R}else{if(Hr(v))return Ww(v,S=>E(S,p));{const S=E(v,p);if(S===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return v},h)}return f.getInitialState=u,f}var JC=Symbol.for("rtk-slice-createasyncthunk");function ZC(n,e){return`${n}/${e}`}function eA({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[JC];return function(o){const{name:u,reducerPath:f=u}=o;if(!u)throw new Error(Br(11));const h=(typeof o.reducers=="function"?o.reducers(rA()):o.reducers)||{},p=Object.keys(h),y={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},v={addCase(z,Z){const se=typeof z=="string"?z:z.type;if(!se)throw new Error(Br(12));if(se in y.sliceCaseReducersByType)throw new Error(Br(13));return y.sliceCaseReducersByType[se]=Z,v},addMatcher(z,Z){return y.sliceMatchers.push({matcher:z,reducer:Z}),v},exposeAction(z,Z){return y.actionCreators[z]=Z,v},exposeCaseReducer(z,Z){return y.sliceCaseReducersByName[z]=Z,v}};p.forEach(z=>{const Z=h[z],se={reducerName:z,type:ZC(u,z),createNotation:typeof o.reducers=="function"};sA(Z)?aA(se,Z,v,e):iA(se,Z,v)});function E(){const[z={},Z=[],se=void 0]=typeof o.extraReducers=="function"?Gw(o.extraReducers):[o.extraReducers],Q={...z,...y.sliceCaseReducersByType};return YC(o.initialState,P=>{for(let I in Q)P.addCase(I,Q[I]);for(let I of y.sliceMatchers)P.addMatcher(I.matcher,I.reducer);for(let I of Z)P.addMatcher(I.matcher,I.reducer);se&&P.addDefaultCase(se)})}const S=z=>z,R=new Map;let N;function B(z,Z){return N||(N=E()),N(z,Z)}function D(){return N||(N=E()),N.getInitialState()}function H(z,Z=!1){function se(P){let I=P[z];return typeof I>"u"&&Z&&(I=D()),I}function Q(P=S){const I=V_(R,Z,()=>new WeakMap);return V_(I,P,()=>{const A={};for(const[b,L]of Object.entries(o.selectors??{}))A[b]=tA(L,P,D,Z);return A})}return{reducerPath:z,getSelectors:Q,get selectors(){return Q(se)},selectSlice:se}}const K={name:u,reducer:B,actions:y.actionCreators,caseReducers:y.sliceCaseReducersByName,getInitialState:D,...H(f),injectInto(z,{reducerPath:Z,...se}={}){const Q=Z??f;return z.inject({reducerPath:Q,reducer:B},se),{...K,...H(Q,!0)}}};return K}}function tA(n,e,t,i){function o(u,...f){let h=e(u);return typeof h>"u"&&i&&(h=t()),n(h,...f)}return o.unwrapped=n,o}var nA=eA();function rA(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function iA({type:n,reducerName:e,createNotation:t},i,o){let u,f;if("reducer"in i){if(t&&!oA(i))throw new Error(Br(17));u=i.reducer,f=i.prepare}else u=i;o.addCase(n,u).exposeCaseReducer(e,u).exposeAction(e,f?b_(n,f):b_(n))}function sA(n){return n._reducerDefinitionType==="asyncThunk"}function oA(n){return n._reducerDefinitionType==="reducerWithPrepare"}function aA({type:n,reducerName:e},t,i,o){if(!o)throw new Error(Br(18));const{payloadCreator:u,fulfilled:f,pending:h,rejected:p,settled:y,options:v}=t,E=o(n,u,v);i.exposeAction(e,E),f&&i.addCase(E.fulfilled,f),h&&i.addCase(E.pending,h),p&&i.addCase(E.rejected,p),y&&i.addMatcher(E.settled,y),i.exposeCaseReducer(e,{fulfilled:f||nc,pending:h||nc,rejected:p||nc,settled:y||nc})}function nc(){}function Br(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const uA={value:0},Xw=nA({name:"number",initialState:uA,reducers:{addTalle:(n,e)=>{n.value+=e.payload},ButtonTalle:n=>{n.value++}}}),{addTalle:Yw,ButtonTalle:lA}=Xw.actions,cA=Xw.reducer,fA="/assets/alphabet-Bv0rshIN.png",hA="/assets/aac-BnZfgeha.png",dA="/assets/solider-Df1_lGQ4.png",pA="/assets/history-Bj64U8GF.png",mA="/assets/union-DgqhURmk.png",gA="/assets/church-BiYbUR2h.png",yA="/assets/tigranakert-DHI6cfG6.png",_A="/assets/greatarmeniaone-DHuYo9mk.png",vA="/assets/greatarmeniatwo-B7sECUiJ.png",wA="/assets/greatarmeniafri-Cc2yPhWE.png",L_=[{id:1,size:_A},{id:2,size:vA},{id:3,size:wA}],EA=[{id:1,img:fA,title:" ",coin:5},{id:2,img:hA,title:"  ",coin:15},{id:3,img:dA,title:"   !",coin:10},{id:4,img:pA,title:" ",coin:8},{id:5,img:mA,title:"  ",coin:12},{id:6,img:gA,title:" ",coin:10},{id:7,img:yA,title:" ",coin:10}],Jw="/assets/coin-B3axqJl2.png";var O_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},TA=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[t++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[t++],f=n[t++],h=n[t++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const u=n[t++],f=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},eE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,h=f?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,v=u>>2,E=(u&3)<<4|h>>4;let S=(h&15)<<2|y>>6,R=y&63;p||(R=64,f||(S=64)),i.push(t[v],t[E],t[S],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Zw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):TA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const u=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,u==null||h==null||y==null||E==null)throw new SA;const S=u<<2|h>>4;if(i.push(S),y!==64){const R=h<<4&240|y>>2;if(i.push(R),E!==64){const N=y<<6&192|E;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class SA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IA=function(n){const e=Zw(n);return eE.encodeByteArray(e,!0)},Rc=function(n){return IA(n).replace(/\./g,"")},CA=function(n){try{return eE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=()=>AA().__FIREBASE_DEFAULTS__,kA=()=>{if(typeof process>"u"||typeof O_>"u")return;const n=O_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&CA(n[1]);return e&&JSON.parse(e)},Mp=()=>{try{return RA()||kA()||PA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xA=n=>{var e,t;return(t=(e=Mp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},bA=n=>{const e=xA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},tE=()=>{var n;return(n=Mp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rc(JSON.stringify(t)),Rc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LA(){var n;const e=(n=Mp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OA(){return!LA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MA(){try{return typeof indexedDB=="object"}catch{return!1}}function FA(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="FirebaseError";class Bo extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=UA,Object.setPrototypeOf(this,Bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nE.prototype.create)}}class nE{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?$A(u,i):"Error",h=`${this.serviceName}: ${f} (${o}).`;return new Bo(o,h,i)}}function $A(n,e){return n.replace(jA,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const jA=/\{\$([^}]+)}/g;function Od(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const u=n[o],f=e[o];if(M_(u)&&M_(f)){if(!Od(u,f))return!1}else if(u!==f)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function M_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(n){return n&&n._delegate?n._delegate:n}class pu{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new DA;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qA(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);i===h&&f.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:BA(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BA(n){return n===ds?void 0:n}function qA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const WA={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},KA=Ve.INFO,QA={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},GA=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=QA[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rE{constructor(e){this.name=e,this._logLevel=KA,this._logHandler=GA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const XA=(n,e)=>e.some(t=>n instanceof t);let F_,U_;function YA(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JA(){return U_||(U_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iE=new WeakMap,Md=new WeakMap,sE=new WeakMap,hd=new WeakMap,Fp=new WeakMap;function ZA(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{t(Ti(n.result)),o()},f=()=>{i(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&iE.set(t,n)}).catch(()=>{}),Fp.set(e,n),e}function eR(n){if(Md.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});Md.set(n,e)}let Fd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Md.get(n);if(e==="objectStoreNames")return n.objectStoreNames||sE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ti(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function tR(n){Fd=n(Fd)}function nR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(dd(this),e,...t);return sE.set(i,e.sort?e.sort():[e]),Ti(i)}:JA().includes(n)?function(...e){return n.apply(dd(this),e),Ti(iE.get(this))}:function(...e){return Ti(n.apply(dd(this),e))}}function rR(n){return typeof n=="function"?nR(n):(n instanceof IDBTransaction&&eR(n),XA(n,YA())?new Proxy(n,Fd):n)}function Ti(n){if(n instanceof IDBRequest)return ZA(n);if(hd.has(n))return hd.get(n);const e=rR(n);return e!==n&&(hd.set(n,e),Fp.set(e,n)),e}const dd=n=>Fp.get(n);function iR(n,e,{blocked:t,upgrade:i,blocking:o,terminated:u}={}){const f=indexedDB.open(n,e),h=Ti(f);return i&&f.addEventListener("upgradeneeded",p=>{i(Ti(f.result),p.oldVersion,p.newVersion,Ti(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const sR=["get","getKey","getAll","getAllKeys","count"],oR=["put","add","delete","clear"],pd=new Map;function $_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=oR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||sR.includes(t)))return;const u=async function(f,...h){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(h.shift())),(await Promise.all([y[t](...h),o&&p.done]))[0]};return pd.set(e,u),u}tR(n=>({...n,get:(e,t,i)=>$_(e,t)||n.get(e,t,i),has:(e,t)=>!!$_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function uR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ud="@firebase/app",j_="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new rE("@firebase/app"),lR="@firebase/app-compat",cR="@firebase/analytics-compat",fR="@firebase/analytics",hR="@firebase/app-check-compat",dR="@firebase/app-check",pR="@firebase/auth",mR="@firebase/auth-compat",gR="@firebase/database",yR="@firebase/data-connect",_R="@firebase/database-compat",vR="@firebase/functions",wR="@firebase/functions-compat",ER="@firebase/installations",TR="@firebase/installations-compat",SR="@firebase/messaging",IR="@firebase/messaging-compat",CR="@firebase/performance",AR="@firebase/performance-compat",RR="@firebase/remote-config",kR="@firebase/remote-config-compat",PR="@firebase/storage",xR="@firebase/storage-compat",bR="@firebase/firestore",DR="@firebase/vertexai",VR="@firebase/firestore-compat",NR="firebase",LR="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",OR={[Ud]:"fire-core",[lR]:"fire-core-compat",[fR]:"fire-analytics",[cR]:"fire-analytics-compat",[dR]:"fire-app-check",[hR]:"fire-app-check-compat",[pR]:"fire-auth",[mR]:"fire-auth-compat",[gR]:"fire-rtdb",[yR]:"fire-data-connect",[_R]:"fire-rtdb-compat",[vR]:"fire-fn",[wR]:"fire-fn-compat",[ER]:"fire-iid",[TR]:"fire-iid-compat",[SR]:"fire-fcm",[IR]:"fire-fcm-compat",[CR]:"fire-perf",[AR]:"fire-perf-compat",[RR]:"fire-rc",[kR]:"fire-rc-compat",[PR]:"fire-gcs",[xR]:"fire-gcs-compat",[bR]:"fire-fst",[VR]:"fire-fst-compat",[DR]:"fire-vertex","fire-js":"fire-js",[NR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,MR=new Map,jd=new Map;function z_(n,e){try{n.container.addComponent(e)}catch(t){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xc(n){const e=n.name;if(jd.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;jd.set(e,n);for(const t of Pc.values())z_(t,n);for(const t of MR.values())z_(t,n);return!0}function FR(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function UR(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new nE("app","Firebase",$R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=LR;function oE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:$d,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Si.create("bad-app-name",{appName:String(o)});if(t||(t=tE()),!t)throw Si.create("no-options");const u=Pc.get(o);if(u){if(Od(t,u.options)&&Od(i,u.config))return u;throw Si.create("duplicate-app",{appName:o})}const f=new HA(o);for(const p of jd.values())f.addComponent(p);const h=new jR(t,i,f);return Pc.set(o,h),h}function BR(n=$d){const e=Pc.get(n);if(!e&&n===$d&&tE())return oE();if(!e)throw Si.create("no-app",{appName:n});return e}function Ro(n,e,t){var i;let o=(i=OR[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(h.join(" "));return}xc(new pu(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="firebase-heartbeat-database",HR=1,mu="firebase-heartbeat-store";let md=null;function aE(){return md||(md=iR(qR,HR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(mu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Si.create("idb-open",{originalErrorMessage:n.message})})),md}async function WR(n){try{const t=(await aE()).transaction(mu),i=await t.objectStore(mu).get(uE(n));return await t.done,i}catch(e){if(e instanceof Bo)Wr.warn(e.message);else{const t=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(t.message)}}}async function B_(n,e){try{const i=(await aE()).transaction(mu,"readwrite");await i.objectStore(mu).put(e,uE(n)),await i.done}catch(t){if(t instanceof Bo)Wr.warn(t.message);else{const i=Si.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Wr.warn(i.message)}}}function uE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=1024,QR=30;class GR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=q_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>QR){const f=JR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Wr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=q_(),{heartbeatsToSend:i,unsentEntries:o}=XR(this._heartbeatsCache.heartbeats),u=Rc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Wr.warn(t),""}}}function q_(){return new Date().toISOString().substring(0,10)}function XR(n,e=KR){const t=[];let i=n.slice();for(const o of n){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),H_(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),H_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class YR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MA()?FA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return B_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return B_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function H_(n){return Rc(JSON.stringify({version:2,heartbeats:n})).length}function JR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n){xc(new pu("platform-logger",e=>new aR(e),"PRIVATE")),xc(new pu("heartbeat",e=>new GR(e),"PRIVATE")),Ro(Ud,j_,n),Ro(Ud,j_,"esm2017"),Ro("fire-js","")}ZR("");var ek="firebase",tk="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ro(ek,tk,"app");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ii,lE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function A(){}A.prototype=I.prototype,P.D=I.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(b,L,M){for(var k=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)k[ot-2]=arguments[ot];return I.prototype[L].apply(b,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,I,A){A||(A=0);var b=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)b[L]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(L=0;16>L;++L)b[L]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=P.g[0],A=P.g[1],L=P.g[2];var M=P.g[3],k=I+(M^A&(L^M))+b[0]+3614090360&4294967295;I=A+(k<<7&4294967295|k>>>25),k=M+(L^I&(A^L))+b[1]+3905402710&4294967295,M=I+(k<<12&4294967295|k>>>20),k=L+(A^M&(I^A))+b[2]+606105819&4294967295,L=M+(k<<17&4294967295|k>>>15),k=A+(I^L&(M^I))+b[3]+3250441966&4294967295,A=L+(k<<22&4294967295|k>>>10),k=I+(M^A&(L^M))+b[4]+4118548399&4294967295,I=A+(k<<7&4294967295|k>>>25),k=M+(L^I&(A^L))+b[5]+1200080426&4294967295,M=I+(k<<12&4294967295|k>>>20),k=L+(A^M&(I^A))+b[6]+2821735955&4294967295,L=M+(k<<17&4294967295|k>>>15),k=A+(I^L&(M^I))+b[7]+4249261313&4294967295,A=L+(k<<22&4294967295|k>>>10),k=I+(M^A&(L^M))+b[8]+1770035416&4294967295,I=A+(k<<7&4294967295|k>>>25),k=M+(L^I&(A^L))+b[9]+2336552879&4294967295,M=I+(k<<12&4294967295|k>>>20),k=L+(A^M&(I^A))+b[10]+4294925233&4294967295,L=M+(k<<17&4294967295|k>>>15),k=A+(I^L&(M^I))+b[11]+2304563134&4294967295,A=L+(k<<22&4294967295|k>>>10),k=I+(M^A&(L^M))+b[12]+1804603682&4294967295,I=A+(k<<7&4294967295|k>>>25),k=M+(L^I&(A^L))+b[13]+4254626195&4294967295,M=I+(k<<12&4294967295|k>>>20),k=L+(A^M&(I^A))+b[14]+2792965006&4294967295,L=M+(k<<17&4294967295|k>>>15),k=A+(I^L&(M^I))+b[15]+1236535329&4294967295,A=L+(k<<22&4294967295|k>>>10),k=I+(L^M&(A^L))+b[1]+4129170786&4294967295,I=A+(k<<5&4294967295|k>>>27),k=M+(A^L&(I^A))+b[6]+3225465664&4294967295,M=I+(k<<9&4294967295|k>>>23),k=L+(I^A&(M^I))+b[11]+643717713&4294967295,L=M+(k<<14&4294967295|k>>>18),k=A+(M^I&(L^M))+b[0]+3921069994&4294967295,A=L+(k<<20&4294967295|k>>>12),k=I+(L^M&(A^L))+b[5]+3593408605&4294967295,I=A+(k<<5&4294967295|k>>>27),k=M+(A^L&(I^A))+b[10]+38016083&4294967295,M=I+(k<<9&4294967295|k>>>23),k=L+(I^A&(M^I))+b[15]+3634488961&4294967295,L=M+(k<<14&4294967295|k>>>18),k=A+(M^I&(L^M))+b[4]+3889429448&4294967295,A=L+(k<<20&4294967295|k>>>12),k=I+(L^M&(A^L))+b[9]+568446438&4294967295,I=A+(k<<5&4294967295|k>>>27),k=M+(A^L&(I^A))+b[14]+3275163606&4294967295,M=I+(k<<9&4294967295|k>>>23),k=L+(I^A&(M^I))+b[3]+4107603335&4294967295,L=M+(k<<14&4294967295|k>>>18),k=A+(M^I&(L^M))+b[8]+1163531501&4294967295,A=L+(k<<20&4294967295|k>>>12),k=I+(L^M&(A^L))+b[13]+2850285829&4294967295,I=A+(k<<5&4294967295|k>>>27),k=M+(A^L&(I^A))+b[2]+4243563512&4294967295,M=I+(k<<9&4294967295|k>>>23),k=L+(I^A&(M^I))+b[7]+1735328473&4294967295,L=M+(k<<14&4294967295|k>>>18),k=A+(M^I&(L^M))+b[12]+2368359562&4294967295,A=L+(k<<20&4294967295|k>>>12),k=I+(A^L^M)+b[5]+4294588738&4294967295,I=A+(k<<4&4294967295|k>>>28),k=M+(I^A^L)+b[8]+2272392833&4294967295,M=I+(k<<11&4294967295|k>>>21),k=L+(M^I^A)+b[11]+1839030562&4294967295,L=M+(k<<16&4294967295|k>>>16),k=A+(L^M^I)+b[14]+4259657740&4294967295,A=L+(k<<23&4294967295|k>>>9),k=I+(A^L^M)+b[1]+2763975236&4294967295,I=A+(k<<4&4294967295|k>>>28),k=M+(I^A^L)+b[4]+1272893353&4294967295,M=I+(k<<11&4294967295|k>>>21),k=L+(M^I^A)+b[7]+4139469664&4294967295,L=M+(k<<16&4294967295|k>>>16),k=A+(L^M^I)+b[10]+3200236656&4294967295,A=L+(k<<23&4294967295|k>>>9),k=I+(A^L^M)+b[13]+681279174&4294967295,I=A+(k<<4&4294967295|k>>>28),k=M+(I^A^L)+b[0]+3936430074&4294967295,M=I+(k<<11&4294967295|k>>>21),k=L+(M^I^A)+b[3]+3572445317&4294967295,L=M+(k<<16&4294967295|k>>>16),k=A+(L^M^I)+b[6]+76029189&4294967295,A=L+(k<<23&4294967295|k>>>9),k=I+(A^L^M)+b[9]+3654602809&4294967295,I=A+(k<<4&4294967295|k>>>28),k=M+(I^A^L)+b[12]+3873151461&4294967295,M=I+(k<<11&4294967295|k>>>21),k=L+(M^I^A)+b[15]+530742520&4294967295,L=M+(k<<16&4294967295|k>>>16),k=A+(L^M^I)+b[2]+3299628645&4294967295,A=L+(k<<23&4294967295|k>>>9),k=I+(L^(A|~M))+b[0]+4096336452&4294967295,I=A+(k<<6&4294967295|k>>>26),k=M+(A^(I|~L))+b[7]+1126891415&4294967295,M=I+(k<<10&4294967295|k>>>22),k=L+(I^(M|~A))+b[14]+2878612391&4294967295,L=M+(k<<15&4294967295|k>>>17),k=A+(M^(L|~I))+b[5]+4237533241&4294967295,A=L+(k<<21&4294967295|k>>>11),k=I+(L^(A|~M))+b[12]+1700485571&4294967295,I=A+(k<<6&4294967295|k>>>26),k=M+(A^(I|~L))+b[3]+2399980690&4294967295,M=I+(k<<10&4294967295|k>>>22),k=L+(I^(M|~A))+b[10]+4293915773&4294967295,L=M+(k<<15&4294967295|k>>>17),k=A+(M^(L|~I))+b[1]+2240044497&4294967295,A=L+(k<<21&4294967295|k>>>11),k=I+(L^(A|~M))+b[8]+1873313359&4294967295,I=A+(k<<6&4294967295|k>>>26),k=M+(A^(I|~L))+b[15]+4264355552&4294967295,M=I+(k<<10&4294967295|k>>>22),k=L+(I^(M|~A))+b[6]+2734768916&4294967295,L=M+(k<<15&4294967295|k>>>17),k=A+(M^(L|~I))+b[13]+1309151649&4294967295,A=L+(k<<21&4294967295|k>>>11),k=I+(L^(A|~M))+b[4]+4149444226&4294967295,I=A+(k<<6&4294967295|k>>>26),k=M+(A^(I|~L))+b[11]+3174756917&4294967295,M=I+(k<<10&4294967295|k>>>22),k=L+(I^(M|~A))+b[2]+718787259&4294967295,L=M+(k<<15&4294967295|k>>>17),k=A+(M^(L|~I))+b[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+M&4294967295}i.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var A=I-this.blockSize,b=this.B,L=this.h,M=0;M<I;){if(L==0)for(;M<=A;)o(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<I;)if(b[L++]=P.charCodeAt(M++),L==this.blockSize){o(this,b),L=0;break}}else for(;M<I;)if(b[L++]=P[M++],L==this.blockSize){o(this,b),L=0;break}}this.h=L,this.o+=I},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var A=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=A&255,A/=256;for(this.u(P),P=Array(16),I=A=0;4>I;++I)for(var b=0;32>b;b+=8)P[A++]=this.g[I]>>>b&255;return P};function u(P,I){var A=h;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=I(P)}function f(P,I){this.h=I;for(var A=[],b=!0,L=P.length-1;0<=L;L--){var M=P[L]|0;b&&M==I||(A[L]=M,b=!1)}this.g=A}var h={};function p(P){return-128<=P&&128>P?u(P,function(I){return new f([I|0],0>I?-1:0)}):new f([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return E;if(0>P)return D(y(-P));for(var I=[],A=1,b=0;P>=A;b++)I[b]=P/A|0,A*=4294967296;return new f(I,0)}function v(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return D(v(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(I,8)),b=E,L=0;L<P.length;L+=8){var M=Math.min(8,P.length-L),k=parseInt(P.substring(L,L+M),I);8>M?(M=y(Math.pow(I,M)),b=b.j(M).add(y(k))):(b=b.j(A),b=b.add(y(k)))}return b}var E=p(0),S=p(1),R=p(16777216);n=f.prototype,n.m=function(){if(B(this))return-D(this).m();for(var P=0,I=1,A=0;A<this.g.length;A++){var b=this.i(A);P+=(0<=b?b:4294967296+b)*I,I*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N(this))return"0";if(B(this))return"-"+D(this).toString(P);for(var I=y(Math.pow(P,6)),A=this,b="";;){var L=Z(A,I).g;A=H(A,L.j(I));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=L,N(A))return M+b;for(;6>M.length;)M="0"+M;b=M+b}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function N(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function B(P){return P.h==-1}n.l=function(P){return P=H(this,P),B(P)?-1:N(P)?0:1};function D(P){for(var I=P.g.length,A=[],b=0;b<I;b++)A[b]=~P.g[b];return new f(A,~P.h).add(S)}n.abs=function(){return B(this)?D(this):this},n.add=function(P){for(var I=Math.max(this.g.length,P.g.length),A=[],b=0,L=0;L<=I;L++){var M=b+(this.i(L)&65535)+(P.i(L)&65535),k=(M>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);b=k>>>16,M&=65535,k&=65535,A[L]=k<<16|M}return new f(A,A[A.length-1]&-2147483648?-1:0)};function H(P,I){return P.add(D(I))}n.j=function(P){if(N(this)||N(P))return E;if(B(this))return B(P)?D(this).j(D(P)):D(D(this).j(P));if(B(P))return D(this.j(D(P)));if(0>this.l(R)&&0>P.l(R))return y(this.m()*P.m());for(var I=this.g.length+P.g.length,A=[],b=0;b<2*I;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(var L=0;L<P.g.length;L++){var M=this.i(b)>>>16,k=this.i(b)&65535,ot=P.i(L)>>>16,Ot=P.i(L)&65535;A[2*b+2*L]+=k*Ot,K(A,2*b+2*L),A[2*b+2*L+1]+=M*Ot,K(A,2*b+2*L+1),A[2*b+2*L+1]+=k*ot,K(A,2*b+2*L+1),A[2*b+2*L+2]+=M*ot,K(A,2*b+2*L+2)}for(b=0;b<I;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=I;b<2*I;b++)A[b]=0;return new f(A,0)};function K(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function z(P,I){this.g=P,this.h=I}function Z(P,I){if(N(I))throw Error("division by zero");if(N(P))return new z(E,E);if(B(P))return I=Z(D(P),I),new z(D(I.g),D(I.h));if(B(I))return I=Z(P,D(I)),new z(D(I.g),I.h);if(30<P.g.length){if(B(P)||B(I))throw Error("slowDivide_ only works with positive integers.");for(var A=S,b=I;0>=b.l(P);)A=se(A),b=se(b);var L=Q(A,1),M=Q(b,1);for(b=Q(b,2),A=Q(A,2);!N(b);){var k=M.add(b);0>=k.l(P)&&(L=L.add(A),M=k),b=Q(b,1),A=Q(A,1)}return I=H(P,L.j(I)),new z(L,I)}for(L=E;0<=P.l(I);){for(A=Math.max(1,Math.floor(P.m()/I.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),M=y(A),k=M.j(I);B(k)||0<k.l(P);)A-=b,M=y(A),k=M.j(I);N(M)&&(M=S),L=L.add(M),P=H(P,k)}return new z(L,P)}n.A=function(P){return Z(this,P).h},n.and=function(P){for(var I=Math.max(this.g.length,P.g.length),A=[],b=0;b<I;b++)A[b]=this.i(b)&P.i(b);return new f(A,this.h&P.h)},n.or=function(P){for(var I=Math.max(this.g.length,P.g.length),A=[],b=0;b<I;b++)A[b]=this.i(b)|P.i(b);return new f(A,this.h|P.h)},n.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),A=[],b=0;b<I;b++)A[b]=this.i(b)^P.i(b);return new f(A,this.h^P.h)};function se(P){for(var I=P.g.length+1,A=[],b=0;b<I;b++)A[b]=P.i(b)<<1|P.i(b-1)>>>31;return new f(A,P.h)}function Q(P,I){var A=I>>5;I%=32;for(var b=P.g.length-A,L=[],M=0;M<b;M++)L[M]=0<I?P.i(M+A)>>>I|P.i(M+A+1)<<32-I:P.i(M+A);return new f(L,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,lE=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=v,Ii=f}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cE,Ja,fE,pc,zd,hE,dE,pE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,_){return l==Array.prototype||l==Object.prototype||(l[m]=_.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var m=0;m<l.length;++m){var _=l[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(l,m){if(m)e:{var _=i;l=l.split(".");for(var T=0;T<l.length-1;T++){var F=l[T];if(!(F in _))break e;_=_[F]}l=l[l.length-1],T=_[l],m=m(T),m!=T&&m!=null&&e(_,l,{configurable:!0,writable:!0,value:m})}}function u(l,m){l instanceof String&&(l+="");var _=0,T=!1,F={next:function(){if(!T&&_<l.length){var q=_++;return{value:m(q,l[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(l){return l||function(){return u(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},h=this||self;function p(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function y(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function v(l,m,_){return l.call.apply(l.bind,arguments)}function E(l,m,_){if(!l)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,T),l.apply(m,F)}}return function(){return l.apply(m,arguments)}}function S(l,m,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,S.apply(null,arguments)}function R(l,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function N(l,m){function _(){}_.prototype=m.prototype,l.aa=m.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(T,F,q){for(var re=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)re[Ue-2]=arguments[Ue];return m.prototype[F].apply(T,re)}}function B(l){const m=l.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=l[T];return _}return[]}function D(l,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const F=l.length||0,q=T.length||0;l.length=F+q;for(let re=0;re<q;re++)l[F+re]=T[re]}else l.push(T)}}class H{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(l){return/^[\s\xa0]*$/.test(l)}function z(){var l=h.navigator;return l&&(l=l.userAgent)?l:""}function Z(l){return Z[" "](l),l}Z[" "]=function(){};var se=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Q(l,m,_){for(const T in l)m.call(_,l[T],T,l)}function P(l,m){for(const _ in l)m.call(void 0,l[_],_,l)}function I(l){const m={};for(const _ in l)m[_]=l[_];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,m){let _,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(_ in T)l[_]=T[_];for(let q=0;q<A.length;q++)_=A[q],Object.prototype.hasOwnProperty.call(T,_)&&(l[_]=T[_])}}function L(l){var m=1;l=l.split(":");const _=[];for(;0<m&&l.length;)_.push(l.shift()),m--;return l.length&&_.push(l.join(":")),_}function M(l){h.setTimeout(()=>{throw l},0)}function k(){var l=pe;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class ot{constructor(){this.h=this.g=null}add(m,_){const T=Ot.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Ot=new H(()=>new Mt,l=>l.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,ie=!1,pe=new ot,ae=()=>{const l=h.Promise.resolve(void 0);$e=()=>{l.then(O)}};var O=()=>{for(var l;l=k();){try{l.h.call(l.g)}catch(_){M(_)}var m=Ot;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}ie=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};h.addEventListener("test",_,m),h.removeEventListener("test",_,m)}catch{}return l}();function Ce(l,m){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(se){e:{try{Z(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else _=="mouseover"?m=l.fromElement:_=="mouseout"&&(m=l.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,de);var xe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Be(l,m,_,T,F){this.listener=l,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=F,this.key=++Me,this.da=this.fa=!1}function Et(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Sr(l){this.src=l,this.g={},this.h=0}Sr.prototype.add=function(l,m,_,T,F){var q=l.toString();l=this.g[q],l||(l=this.g[q]=[],this.h++);var re=Xr(l,m,T,F);return-1<re?(m=l[re],_||(m.fa=!1)):(m=new Be(m,this.src,q,!!T,F),m.fa=_,l.push(m)),m};function Ps(l,m){var _=m.type;if(_ in l.g){var T=l.g[_],F=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=F)&&Array.prototype.splice.call(T,F,1),q&&(Et(m),l.g[_].length==0&&(delete l.g[_],l.h--))}}function Xr(l,m,_,T){for(var F=0;F<l.length;++F){var q=l[F];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==T)return F}return-1}var Fi="closure_lm_"+(1e6*Math.random()|0),xs={};function Zo(l,m,_,T,F){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Zo(l,m[q],_,T,F);return null}return _=na(_),l&&l[Oe]?l.K(m,_,y(T)?!!T.capture:!1,F):ea(l,m,_,!1,T,F)}function ea(l,m,_,T,F,q){if(!m)throw Error("Invalid event type");var re=y(F)?!!F.capture:!!F,Ue=Ds(l);if(Ue||(l[Fi]=Ue=new Sr(l)),_=Ue.add(m,_,T,re,q),_.proxy)return _;if(T=Uu(),_.proxy=T,T.src=l,T.listener=_,l.addEventListener)Ie||(F=re),F===void 0&&(F=!1),l.addEventListener(m.toString(),T,F);else if(l.attachEvent)l.attachEvent(Cr(m.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Uu(){function l(_){return m.call(l.src,l.listener,_)}const m=ta;return l}function bs(l,m,_,T,F){if(Array.isArray(m))for(var q=0;q<m.length;q++)bs(l,m[q],_,T,F);else T=y(T)?!!T.capture:!!T,_=na(_),l&&l[Oe]?(l=l.i,m=String(m).toString(),m in l.g&&(q=l.g[m],_=Xr(q,_,T,F),-1<_&&(Et(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete l.g[m],l.h--)))):l&&(l=Ds(l))&&(m=l.g[m.toString()],l=-1,m&&(l=Xr(m,_,T,F)),(_=-1<l?m[l]:null)&&Ir(_))}function Ir(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[Oe])Ps(m.i,l);else{var _=l.type,T=l.proxy;m.removeEventListener?m.removeEventListener(_,T,l.capture):m.detachEvent?m.detachEvent(Cr(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Ds(m))?(Ps(_,l),_.h==0&&(_.src=null,m[Fi]=null)):Et(l)}}}function Cr(l){return l in xs?xs[l]:xs[l]="on"+l}function ta(l,m){if(l.da)l=!0;else{m=new Ce(m,this);var _=l.listener,T=l.ha||l.src;l.fa&&Ir(l),l=_.call(T,m)}return l}function Ds(l){return l=l[Fi],l instanceof Sr?l:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function na(l){return typeof l=="function"?l:(l[Vs]||(l[Vs]=function(m){return l.handleEvent(m)}),l[Vs])}function dt(){X.call(this),this.i=new Sr(this),this.M=this,this.F=null}N(dt,X),dt.prototype[Oe]=!0,dt.prototype.removeEventListener=function(l,m,_,T){bs(this,l,m,_,T)};function pt(l,m){var _,T=l.F;if(T)for(_=[];T;T=T.F)_.push(T);if(l=l.M,T=m.type||m,typeof m=="string")m=new de(m,l);else if(m instanceof de)m.target=m.target||l;else{var F=m;m=new de(T,l),b(m,F)}if(F=!0,_)for(var q=_.length-1;0<=q;q--){var re=m.g=_[q];F=Ar(re,T,!0,m)&&F}if(re=m.g=l,F=Ar(re,T,!0,m)&&F,F=Ar(re,T,!1,m)&&F,_)for(q=0;q<_.length;q++)re=m.g=_[q],F=Ar(re,T,!1,m)&&F}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var _=l.g[m],T=0;T<_.length;T++)Et(_[T]);delete l.g[m],l.h--}}this.F=null},dt.prototype.K=function(l,m,_,T){return this.i.add(String(l),m,!1,_,T)},dt.prototype.L=function(l,m,_,T){return this.i.add(String(l),m,!0,_,T)};function Ar(l,m,_,T){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,q=0;q<m.length;++q){var re=m[q];if(re&&!re.da&&re.capture==_){var Ue=re.listener,mt=re.ha||re.src;re.fa&&Ps(l.i,re),F=Ue.call(mt,T)!==!1&&F}}return F&&!T.defaultPrevented}function ra(l,m,_){if(typeof l=="function")_&&(l=S(l,_));else if(l&&typeof l.handleEvent=="function")l=S(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(l,m||0)}function Yr(l){l.g=ra(()=>{l.g=null,l.i&&(l.i=!1,Yr(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class Ui extends X{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(l){X.call(this),this.h=l,this.g={}}N($i,X);var ia=[];function sa(l){Q(l.g,function(m,_){this.g.hasOwnProperty(_)&&Ir(m)},l),l.g={}}$i.prototype.N=function(){$i.aa.N.call(this),sa(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oa=h.JSON.stringify,aa=h.JSON.parse,ua=class{stringify(l){return h.JSON.stringify(l,void 0)}parse(l){return h.JSON.parse(l,void 0)}};function ji(){}ji.prototype.h=null;function Ns(l){return l.h||(l.h=l.i())}function Ls(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){de.call(this,"d")}N(tr,de);function Os(){de.call(this,"c")}N(Os,de);var nr={},la=null;function zi(){return la=la||new dt}nr.La="serverreachability";function ca(l){de.call(this,nr.La,l)}N(ca,de);function Rr(l){const m=zi();pt(m,new ca(m))}nr.STAT_EVENT="statevent";function fa(l,m){de.call(this,nr.STAT_EVENT,l),this.stat=m}N(fa,de);function at(l){const m=zi();pt(m,new fa(m,l))}nr.Ma="timingevent";function Ms(l,m){de.call(this,nr.Ma,l),this.size=m}N(Ms,de);function Nn(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){l()},m)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function qi(l,m,_,T,F,q){l.info(function(){if(l.g)if(q)for(var re="",Ue=q.split("&"),mt=0;mt<Ue.length;mt++){var be=Ue[mt].split("=");if(1<be.length){var Tt=be[0];be=be[1];var ct=Tt.split("_");re=2<=ct.length&&ct[1]=="type"?re+(Tt+"="+be+"&"):re+(Tt+"=redacted&")}}else re=null;else re=q;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+m+`
`+_+`
`+re})}function Fs(l,m,_,T,F,q,re){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+m+`
`+_+`
`+q+" "+re})}function Ln(l,m,_,T){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+Af(l,_)+(T?" "+T:"")})}function ha(l,m){l.info(function(){return"TIMEOUT: "+m})}Bi.prototype.info=function(){};function Af(l,m){if(!l.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var T=_[l];if(!(2>T.length)){var F=T[1];if(Array.isArray(F)&&!(1>F.length)){var q=F[0];if(q!="noop"&&q!="stop"&&q!="close")for(var re=1;re<F.length;re++)F[re]=""}}}}return oa(_)}catch{return m}}var Us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$u={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Hi(){}N(Hi,ji),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},On=new Hi;function Mn(l,m,_,T){this.j=l,this.i=m,this.l=_,this.R=T||1,this.U=new $i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ju}function ju(){this.i=null,this.g="",this.h=!1}var da={},$s={};function js(l,m,_){l.L=1,l.v=ni(cn(m)),l.m=_,l.P=!0,pa(l,null)}function pa(l,m){l.F=Date.now(),qe(l),l.A=cn(l.v);var _=l.A,T=l.R;Array.isArray(T)||(T=[String(T)]),ii(_.i,"t",T),l.C=0,_=l.j.J,l.h=new ju,l.g=sl(l.j,_?m:null,!l.m),0<l.O&&(l.M=new Ui(S(l.Y,l,l.g),l.O)),m=l.U,_=l.g,T=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(ia[0]=F.toString()),F=ia);for(var q=0;q<F.length;q++){var re=Zo(_,F[q],T||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),Rr(),qi(l.i,l.u,l.A,l.l,l.R,l.m)}Mn.prototype.ca=function(l){l=l.target;const m=this.M;m&&Zt(l)==3?m.j():this.Y(l)},Mn.prototype.Y=function(l){try{if(l==this.g)e:{const ct=Zt(this.g);var m=this.g.Ba();const Sn=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||wa(this.g)))){this.J||ct!=4||m==7||(m==8||0>=Sn?Rr(3):Rr(2)),Wi(this);var _=this.g.Z();this.X=_;t:if(zu(this)){var T=wa(this.g);l="";var F=T.length,q=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),Jr(this);var re="";break t}this.h.i=new h.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,l+=this.h.i.decode(T[m],{stream:!(q&&m==F-1)});T.length=0,this.h.g+=l,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Fs(this.i,this.u,this.A,this.l,this.R,ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,mt=this.g;if((Ue=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ue)){var be=Ue;break t}}be=null}if(_=be)Ln(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ma(this,_);else{this.o=!1,this.s=3,at(12),En(this),Jr(this);break e}}if(this.P){_=!0;let hn;for(;!this.J&&this.C<re.length;)if(hn=Rf(this,re),hn==$s){ct==4&&(this.s=4,at(14),_=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==da){this.s=4,at(15),Ln(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else Ln(this.i,this.l,hn,null),ma(this,hn);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||re.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)Ln(this.i,this.l,re,"[Invalid Chunked Response]"),En(this),Jr(this);else if(0<re.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Ta(Tt),Tt.M=!0,at(11))}}else Ln(this.i,this.l,re,null),ma(this,re);ct==4&&En(this),this.o&&!this.J&&(ct==4?Js(this.j,this):(this.o=!1,qe(this)))}else Ks(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),En(this),Jr(this)}}}catch{}finally{}};function zu(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Rf(l,m){var _=l.C,T=m.indexOf(`
`,_);return T==-1?$s:(_=Number(m.substring(_,T)),isNaN(_)?da:(T+=1,T+_>m.length?$s:(m=m.slice(T,T+_),l.C=T+_,m)))}Mn.prototype.cancel=function(){this.J=!0,En(this)};function qe(l){l.S=Date.now()+l.I,Bu(l,l.I)}function Bu(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Nn(S(l.ba,l),m)}function Wi(l){l.B&&(h.clearTimeout(l.B),l.B=null)}Mn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ha(this.i,this.A),this.L!=2&&(Rr(),at(17)),En(this),this.s=2,Jr(this)):Bu(this,this.S-l)};function Jr(l){l.j.G==0||l.J||Js(l.j,l)}function En(l){Wi(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,sa(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function ma(l,m){try{var _=l.j;if(_.G!=0&&(_.g==l||Qt(_.h,l))){if(!l.K&&Qt(_.h,l)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)Ys(_),zn(_);else break e;Xs(_),at(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Nn(S(_.Za,_),6e3));if(1>=Hu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Dr(_,11)}else if((l.K||_.g==l)&&Ys(_),!K(m))for(F=_.Da.g.parse(m),m=0;m<F.length;m++){let be=F[m];if(_.T=be[0],be=be[1],_.G==2)if(be[0]=="c"){_.K=be[1],_.ia=be[2];const Tt=be[3];Tt!=null&&(_.la=Tt,_.j.info("VER="+_.la));const ct=be[4];ct!=null&&(_.Aa=ct,_.j.info("SVER="+_.Aa));const Sn=be[5];Sn!=null&&typeof Sn=="number"&&0<Sn&&(T=1.5*Sn,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const hn=l.g;if(hn){const Zi=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var q=T.h;q.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ga(q,q.h),q.h=null))}if(T.D){const eo=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;eo&&(T.ya=eo,je(T.I,T.D,eo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var re=l;if(T.qa=il(T,T.J?T.ia:null,T.W),re.K){Wu(T.h,re);var Ue=re,mt=T.L;mt&&(Ue.I=mt),Ue.B&&(Wi(Ue),qe(Ue)),T.g=re}else Ji(T);0<_.i.length&&or(_)}else be[0]!="stop"&&be[0]!="close"||Dr(_,7);else _.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Dr(_,7):Pt(_):be[0]!="noop"&&_.l&&_.l.ta(be),_.v=0)}}Rr(4)}catch{}}var qu=class{constructor(l,m){this.g=l,this.map=m}};function Ki(l){this.l=l||10,h.PerformanceNavigationTiming?(l=h.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Hu(l){return l.h?1:l.g?l.g.size:0}function Qt(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function ga(l,m){l.g?l.g.add(m):l.h=m}function Wu(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}Ki.prototype.cancel=function(){if(this.i=Ku(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ku(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const _ of l.g.values())m=m.concat(_.D);return m}return B(l.i)}function zs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(p(l)){for(var m=[],_=l.length,T=0;T<_;T++)m.push(l[T]);return m}m=[],_=0;for(T in l)m[_++]=l[T];return m}function Bs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(p(l)||typeof l=="string"){var m=[];l=l.length;for(var _=0;_<l;_++)m.push(_);return m}m=[],_=0;for(const T in l)m[_++]=T;return m}}}function Zr(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(p(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var _=Bs(l),T=zs(l),F=T.length,q=0;q<F;q++)m.call(void 0,T[q],_&&_[q],l)}var Qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kf(l,m){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var T=l[_].indexOf("="),F=null;if(0<=T){var q=l[_].substring(0,T);F=l[_].substring(T+1)}else q=l[_];m(q,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function kr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof kr){this.h=l.h,Gi(this,l.j),this.o=l.o,this.g=l.g,ei(this,l.s),this.l=l.l;var m=l.i,_=new rr;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),ti(this,_),this.m=l.m}else l&&(m=String(l).match(Qi))?(this.h=!1,Gi(this,m[1]||"",!0),this.o=Pe(m[2]||""),this.g=Pe(m[3]||"",!0),ei(this,m[4]),this.l=Pe(m[5]||"",!0),ti(this,m[6]||"",!0),this.m=Pe(m[7]||"")):(this.h=!1,this.i=new rr(null,this.h))}kr.prototype.toString=function(){var l=[],m=this.j;m&&l.push(ri(m,qs,!0),":");var _=this.g;return(_||m=="file")&&(l.push("//"),(m=this.o)&&l.push(ri(m,qs,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(ri(_,_.charAt(0)=="/"?Xu:Gu,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",ri(_,ya)),l.join("")};function cn(l){return new kr(l)}function Gi(l,m,_){l.j=_?Pe(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function ei(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function ti(l,m,_){m instanceof rr?(l.i=m,ir(l.i,l.h)):(_||(m=ri(m,Yu)),l.i=new rr(m,l.h))}function je(l,m,_){l.i.set(m,_)}function ni(l){return je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ri(l,m,_){return typeof l=="string"?(l=encodeURI(l).replace(m,Qu),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Qu(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var qs=/[#\/\?@]/g,Gu=/[#\?:]/g,Xu=/[#\?]/g,Yu=/[#\?@]/g,ya=/#/g;function rr(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function kt(l){l.g||(l.g=new Map,l.h=0,l.i&&kf(l.i,function(m,_){l.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=rr.prototype,n.add=function(l,m){kt(this),this.i=null,l=Tn(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(m),this.h+=1,this};function Fn(l,m){kt(l),m=Tn(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function Un(l,m){return kt(l),m=Tn(l,m),l.g.has(m)}n.forEach=function(l,m){kt(this),this.g.forEach(function(_,T){_.forEach(function(F){l.call(m,F,T,this)},this)},this)},n.na=function(){kt(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const F=l[T];for(let q=0;q<F.length;q++)_.push(m[T])}return _},n.V=function(l){kt(this);let m=[];if(typeof l=="string")Un(this,l)&&(m=m.concat(this.g.get(Tn(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)m=m.concat(l[_])}return m},n.set=function(l,m){return kt(this),this.i=null,l=Tn(this,l),Un(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},n.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function ii(l,m,_){Fn(l,m),0<_.length&&(l.i=null,l.g.set(Tn(l,m),B(_)),l.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const q=encodeURIComponent(String(T)),re=this.V(T);for(T=0;T<re.length;T++){var F=q;re[T]!==""&&(F+="="+encodeURIComponent(String(re[T]))),l.push(F)}}return this.i=l.join("&")};function Tn(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function ir(l,m){m&&!l.j&&(kt(l),l.i=null,l.g.forEach(function(_,T){var F=T.toLowerCase();T!=F&&(Fn(this,T),ii(this,F,_))},l)),l.j=m}function Pf(l,m){const _=new Bi;if(h.Image){const T=new Image;T.onload=R(Jt,_,"TestLoadImage: loaded",!0,m,T),T.onerror=R(Jt,_,"TestLoadImage: error",!1,m,T),T.onabort=R(Jt,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=R(Jt,_,"TestLoadImage: timeout",!1,m,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else m(!1)}function Ju(l,m){const _=new Bi,T=new AbortController,F=setTimeout(()=>{T.abort(),Jt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:T.signal}).then(q=>{clearTimeout(F),q.ok?Jt(_,"TestPingServer: ok",!0,m):Jt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Jt(_,"TestPingServer: error",!1,m)})}function Jt(l,m,_,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(_)}catch{}}function xf(){this.g=new ua}function Zu(l,m,_){const T=_||"";try{Zr(l,function(F,q){let re=F;y(F)&&(re=oa(F)),m.push(T+q+"="+encodeURIComponent(re))})}catch(F){throw m.push(T+"type="+encodeURIComponent("_badmap")),F}}function Pr(l){this.l=l.Ub||null,this.j=l.eb||!1}N(Pr,ji),Pr.prototype.g=function(){return new Xi(this.l,this.j)},Pr.prototype.i=function(l){return function(){return l}}({});function Xi(l,m){dt.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Xi,dt),n=Xi.prototype,n.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,jn(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?$n(this):jn(this),this.readyState==3&&el(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,$n(this))},n.Qa=function(l){this.g&&(this.response=l,$n(this))},n.ga=function(){this.g&&$n(this)};function $n(l){l.readyState=4,l.l=null,l.j=null,l.v=null,jn(l)}n.setRequestHeader=function(l,m){this.u.append(l,m)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=m.next();return l.join(`\r
`)};function jn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function xr(l){let m="";return Q(l,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function si(l,m,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=xr(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):je(l,m,_))}function Xe(l){dt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Xe,dt);var bf=/^https?$/i,_a=["POST","PUT"];n=Xe.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?Ns(this.o):Ns(On),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(q){Yi(this,q);return}if(l=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)_.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),F=h.FormData&&l instanceof h.FormData,!(0<=Array.prototype.indexOf.call(_a,m,void 0))||T||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of _)this.g.setRequestHeader(q,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ws(this),this.u=!0,this.g.send(l),this.u=!1}catch(q){Yi(this,q)}};function Yi(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,Hs(l),fn(l)}function Hs(l){l.A||(l.A=!0,pt(l,"complete"),pt(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,pt(this,"complete"),pt(this,"abort"),fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},n.bb=function(){va(this)};function va(l){if(l.h&&typeof f<"u"&&(!l.v[1]||Zt(l)!=4||l.Z()!=2)){if(l.u&&Zt(l)==4)ra(l.Ea,0,l);else if(pt(l,"readystatechange"),Zt(l)==4){l.h=!1;try{const re=l.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var T;if(T=re===0){var F=String(l.D).match(Qi)[1]||null;!F&&h.self&&h.self.location&&(F=h.self.location.protocol.slice(0,-1)),T=!bf.test(F?F.toLowerCase():"")}_=T}if(_)pt(l,"complete"),pt(l,"success");else{l.m=6;try{var q=2<Zt(l)?l.g.statusText:""}catch{q=""}l.l=q+" ["+l.Z()+"]",Hs(l)}}finally{fn(l)}}}}function fn(l,m){if(l.g){Ws(l);const _=l.g,T=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||pt(l,"ready");try{_.onreadystatechange=T}catch{}}}function Ws(l){l.I&&(h.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Zt(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),aa(m)}};function wa(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ks(l){const m={};l=(l.g&&2<=Zt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(K(l[T]))continue;var _=L(l[T]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[F]||[];m[F]=q,q.push(_)}P(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(l,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||m}function Ea(l){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sr("baseRetryDelayMs",5e3,l),this.cb=sr("retryDelaySeedMs",1e4,l),this.Wa=sr("forwardChannelMaxRetries",2,l),this.wa=sr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(l&&l.concurrentRequestLimit),this.Da=new xf,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ea.prototype,n.la=8,n.G=1,n.connect=function(l,m,_,T){at(0),this.W=l,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=il(this,null,this.W),or(this)};function Pt(l){if(Qs(l),l.G==3){var m=l.U++,_=cn(l.I);if(je(_,"SID",l.K),je(_,"RID",m),je(_,"TYPE","terminate"),br(l,_),m=new Mn(l,l.j,m),m.L=2,m.v=ni(cn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=m.v,_=!0),_||(m.g=sl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qe(m)}rl(l)}function zn(l){l.g&&(Ta(l),l.g.cancel(),l.g=null)}function Qs(l){zn(l),l.u&&(h.clearTimeout(l.u),l.u=null),Ys(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&h.clearTimeout(l.s),l.s=null)}function or(l){if(!ln(l.h)&&!l.s){l.s=!0;var m=l.Ga;$e||ae(),ie||($e(),ie=!0),pe.add(m,l),l.B=0}}function Df(l,m){return Hu(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Nn(S(l.Ga,l,m),nl(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new Mn(this,this.j,l);let q=this.o;if(this.S&&(q?(q=I(q),b(q,this.S)):q=this.S),this.m!==null||this.O||(F.H=q,q=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=oi(this,F,m),_=cn(this.I),je(_,"RID",l),je(_,"CVER",22),this.D&&je(_,"X-HTTP-Session-Id",this.D),br(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(xr(q)))+"&"+m:this.m&&si(_,this.m,q)),ga(this.h,F),this.Ua&&je(_,"TYPE","init"),this.P?(je(_,"$req",m),je(_,"SID","null"),F.T=!0,js(F,_,null)):js(F,_,m),this.G=2}}else this.G==3&&(l?Gs(this,l):this.i.length==0||ln(this.h)||Gs(this))};function Gs(l,m){var _;m?_=m.l:_=l.U++;const T=cn(l.I);je(T,"SID",l.K),je(T,"RID",_),je(T,"AID",l.T),br(l,T),l.m&&l.o&&si(T,l.m,l.o),_=new Mn(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),m&&(l.i=m.D.concat(l.i)),m=oi(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ga(l.h,_),js(_,T,m)}function br(l,m){l.H&&Q(l.H,function(_,T){je(m,T,_)}),l.l&&Zr({},function(_,T){je(m,T,_)})}function oi(l,m,_){_=Math.min(l.i.length,_);var T=l.l?S(l.l.Na,l.l,l):null;e:{var F=l.i;let q=-1;for(;;){const re=["count="+_];q==-1?0<_?(q=F[0].g,re.push("ofs="+q)):q=0:re.push("ofs="+q);let Ue=!0;for(let mt=0;mt<_;mt++){let be=F[mt].g;const Tt=F[mt].map;if(be-=q,0>be)q=Math.max(0,F[mt].g-100),Ue=!1;else try{Zu(Tt,re,"req"+be+"_")}catch{T&&T(Tt)}}if(Ue){T=re.join("&");break e}}}return l=l.i.splice(0,_),m.D=l,T}function Ji(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;$e||ae(),ie||($e(),ie=!0),pe.add(m,l),l.v=0}}function Xs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Nn(S(l.Fa,l),nl(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,tl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Nn(S(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),zn(this),tl(this))};function Ta(l){l.A!=null&&(h.clearTimeout(l.A),l.A=null)}function tl(l){l.g=new Mn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=cn(l.qa);je(m,"RID","rpc"),je(m,"SID",l.K),je(m,"AID",l.T),je(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&je(m,"TO",l.ja),je(m,"TYPE","xmlhttp"),br(l,m),l.m&&l.o&&si(m,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=ni(cn(m)),_.m=null,_.P=!0,pa(_,l)}n.Za=function(){this.C!=null&&(this.C=null,zn(this),Xs(this),at(19))};function Ys(l){l.C!=null&&(h.clearTimeout(l.C),l.C=null)}function Js(l,m){var _=null;if(l.g==m){Ys(l),Ta(l),l.g=null;var T=2}else if(Qt(l.h,m))_=m.D,Wu(l.h,m),T=1;else return;if(l.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var F=l.B;T=zi(),pt(T,new Ms(T,_)),or(l)}else Ji(l);else if(F=m.s,F==3||F==0&&0<m.X||!(T==1&&Df(l,m)||T==2&&Xs(l)))switch(_&&0<_.length&&(m=l.h,m.i=m.i.concat(_)),F){case 1:Dr(l,5);break;case 4:Dr(l,10);break;case 3:Dr(l,6);break;default:Dr(l,2)}}}function nl(l,m){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*m}function Dr(l,m){if(l.j.info("Error code "+m),m==2){var _=S(l.fb,l),T=l.Xa;const F=!T;T=new kr(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Gi(T,"https"),ni(T),F?Pf(T.toString(),_):Ju(T.toString(),_)}else at(2);l.G=0,l.l&&l.l.sa(m),rl(l),Qs(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function rl(l){if(l.G=0,l.ka=[],l.l){const m=Ku(l.h);(m.length!=0||l.i.length!=0)&&(D(l.ka,m),D(l.ka,l.i),l.h.i.length=0,B(l.i),l.i.length=0),l.l.ra()}}function il(l,m,_){var T=_ instanceof kr?cn(_):new kr(_);if(T.g!="")m&&(T.g=m+"."+T.g),ei(T,T.s);else{var F=h.location;T=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var q=new kr(null);T&&Gi(q,T),m&&(q.g=m),F&&ei(q,F),_&&(q.l=_),T=q}return _=l.D,m=l.ya,_&&m&&je(T,_,m),je(T,"VER",l.la),br(l,T),T}function sl(l,m,_){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new Xe(new Pr({eb:_})):new Xe(l.pa),m.Ha(l.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sa(){}n=Sa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Zs(){}Zs.prototype.g=function(l,m){return new Gt(l,m)};function Gt(l,m){dt.call(this),this.g=new Ea(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!K(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!K(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new ar(this)}N(Gt,dt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Pt(this.g)},Gt.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=oa(l),l=_);m.i.push(new qu(m.Ya++,l)),m.G==3&&or(m)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Pt(this.g),delete this.g,Gt.aa.N.call(this)};function ol(l){tr.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const _ in m){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}N(ol,tr);function al(){Os.call(this),this.status=1}N(al,Os);function ar(l){this.g=l}N(ar,Sa),ar.prototype.ua=function(){pt(this.g,"a")},ar.prototype.ta=function(l){pt(this.g,new ol(l))},ar.prototype.sa=function(l){pt(this.g,new al)},ar.prototype.ra=function(){pt(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,pE=function(){return new Zs},dE=function(){return zi()},hE=nr,zd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,pc=Us,$u.COMPLETE="complete",fE=$u,Ls.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Ja=Ls,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,cE=Xe}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const K_="@firebase/firestore",Q_="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new rE("@firebase/firestore");function To(){return vs.logLevel}function ue(n,...e){if(vs.logLevel<=Ve.DEBUG){const t=e.map(Up);vs.debug(`Firestore (${qo}): ${n}`,...t)}}function Kr(n,...e){if(vs.logLevel<=Ve.ERROR){const t=e.map(Up);vs.error(`Firestore (${qo}): ${n}`,...t)}}function bo(n,...e){if(vs.logLevel<=Ve.WARN){const t=e.map(Up);vs.warn(`Firestore (${qo}): ${n}`,...t)}}function Up(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+n;throw Kr(e),new Error(e)}function Fe(n,e){n||Ee()}function Se(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Bo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class rk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ik{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let u=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ci,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},h=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ci)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Fe(typeof i.accessToken=="string"),new mE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new qt(e)}}class sk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ok{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new sk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ak{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,UR(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Fe(this.o===void 0);const i=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new G_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string"),this.R=t.token,new G_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=uk(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<t&&(i+=e.charAt(o[u]%62))}return i}}function Re(n,e){return n<e?-1:n>e?1:0}function qd(n,e){const t=Bd().encode(n),i=Bd().encode(e);for(let o=0;o<Math.min(t.length,i.length);o++){const u=Re(t[o],i[o]);if(u!==0)return u}return Re(t.length,i.length)}function Do(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,Y_=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Y_);return new vt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<X_)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-X_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new vt(0,0))}static max(){return new Te(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="__name__";class hr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ee(),i===void 0?i=e.length-t:i>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const u=hr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Re(e.length,t.length)}static compareSegments(e,t){const i=hr.isNumericId(e),o=hr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?hr.extractNumericId(e).compare(hr.extractNumericId(t)):qd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ii.fromString(e.substring(4,e.length-2))}}class it extends hr{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new it(t)}static emptyPath(){return new it([])}}const lk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends hr{construct(e,t,i){return new Nt(e,t,i)}static isValidIdentifier(e){return lk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J_}static keyField(){return new Nt([J_])}static fromServerFormat(e){const t=[];let i="",o=0;const u=()=>{if(i.length===0)throw new _e(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let f=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new _e(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else h==="`"?(f=!f,o++):h!=="."||f?(i+=h,o++):(u(),o++)}if(u(),f)throw new _e(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(t)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function ck(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(i===1e9?new vt(t+1,0):new vt(t,i));return new ki(o,ve.empty(),e)}function fk(n){return new ki(n.readTime,n.key,gu)}class ki{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ki(Te.min(),ve.empty(),gu)}static max(){return new ki(Te.max(),ve.empty(),gu)}}function hk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==dk)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,i)=>{t(e)})}static reject(e){return new G((t,i)=>{i(e)})}static waitFor(e){return new G((t,i)=>{let o=0,u=0,f=!1;e.forEach(h=>{++o,h.next(()=>{++u,f&&u===o&&t()},p=>i(p))}),f=!0,u===o&&t()})}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next(o=>o?G.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,u)=>{i.push(t.call(this,o,u))}),this.waitFor(i)}static mapArray(e,t){return new G((i,o)=>{const u=e.length,f=new Array(u);let h=0;for(let p=0;p<u;p++){const y=p;t(e[y]).next(v=>{f[y]=v,++h,h===u&&i(f)},v=>o(v))}})}static doWhile(e,t){return new G((i,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):i()};u()})}}function mk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Zc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=-1;function ef(n){return n==null}function bc(n){return n===0&&1/n==-1/0}function gk(n){return typeof n=="number"&&Number.isInteger(n)&&!bc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="";function yk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Z_(e)),e=_k(n.get(t),e);return Z_(e)}function _k(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const u=n.charAt(o);switch(u){case"\0":t+="";break;case yE:t+="";break;default:t+=u}}return t}function Z_(n){return n+yE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ts(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _E(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t){this.comparator=e,this.root=t||Vt.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ic(this.root,e,this.comparator,!0)}}class ic{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,t,i,o,u){this.key=e,this.value=t,this.color=i??Vt.RED,this.left=o??Vt.EMPTY,this.right=u??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,u){return new Vt(e??this.key,t??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,i),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Vt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,i,o,u){return this}insert(e,t,i){return new Vt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tv(this.data.getIterator())}getIteratorFrom(e){return new tv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class tv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new wt(Nt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vE("Invalid base64 string: "+u):u}}(e);return new Lt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(n){if(Fe(!!n),typeof n=="string"){let e=0;const t=vk.exec(n);if(Fe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:lt(n.seconds),nanos:lt(n.nanos)}}function lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xi(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="server_timestamp",EE="__type__",TE="__previous_value__",SE="__local_write_time__";function jp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[EE])===null||t===void 0?void 0:t.stringValue)===wE}function tf(n){const e=n.mapValue.fields[TE];return jp(e)?tf(e):e}function yu(n){const e=Pi(n.mapValue.fields[SE].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t,i,o,u,f,h,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=y}}const Dc="(default)";class _u{constructor(e,t){this.projectId=e,this.database=t||Dc}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===Dc}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="__type__",CE="__max__",sc={mapValue:{fields:{__type__:{stringValue:CE}}}},AE="__vector__",Vc="value";function bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jp(n)?4:Tk(n)?9007199254740991:Ek(n)?10:11:Ee()}function yr(n,e){if(n===e)return!0;const t=bi(n);if(t!==bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yu(n).isEqual(yu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Pi(o.timestampValue),h=Pi(u.timestampValue);return f.seconds===h.seconds&&f.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,u){return xi(o.bytesValue).isEqual(xi(u.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,u){return lt(o.geoPointValue.latitude)===lt(u.geoPointValue.latitude)&&lt(o.geoPointValue.longitude)===lt(u.geoPointValue.longitude)}(n,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return lt(o.integerValue)===lt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=lt(o.doubleValue),h=lt(u.doubleValue);return f===h?bc(f)===bc(h):isNaN(f)&&isNaN(h)}return!1}(n,e);case 9:return Do(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},h=u.mapValue.fields||{};if(ev(f)!==ev(h))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(h[p]===void 0||!yr(f[p],h[p])))return!1;return!0}(n,e);default:return Ee()}}function vu(n,e){return(n.values||[]).find(t=>yr(t,e))!==void 0}function Vo(n,e){if(n===e)return 0;const t=bi(n),i=bi(e);if(t!==i)return Re(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(u,f){const h=lt(u.integerValue||u.doubleValue),p=lt(f.integerValue||f.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return nv(n.timestampValue,e.timestampValue);case 4:return nv(yu(n),yu(e));case 5:return qd(n.stringValue,e.stringValue);case 6:return function(u,f){const h=xi(u),p=xi(f);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(u,f){const h=u.split("/"),p=f.split("/");for(let y=0;y<h.length&&y<p.length;y++){const v=Re(h[y],p[y]);if(v!==0)return v}return Re(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(u,f){const h=Re(lt(u.latitude),lt(f.latitude));return h!==0?h:Re(lt(u.longitude),lt(f.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return rv(n.arrayValue,e.arrayValue);case 10:return function(u,f){var h,p,y,v;const E=u.fields||{},S=f.fields||{},R=(h=E[Vc])===null||h===void 0?void 0:h.arrayValue,N=(p=S[Vc])===null||p===void 0?void 0:p.arrayValue,B=Re(((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0,((v=N==null?void 0:N.values)===null||v===void 0?void 0:v.length)||0);return B!==0?B:rv(R,N)}(n.mapValue,e.mapValue);case 11:return function(u,f){if(u===sc.mapValue&&f===sc.mapValue)return 0;if(u===sc.mapValue)return 1;if(f===sc.mapValue)return-1;const h=u.fields||{},p=Object.keys(h),y=f.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=qd(p[E],v[E]);if(S!==0)return S;const R=Vo(h[p[E]],y[v[E]]);if(R!==0)return R}return Re(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function nv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);const t=Pi(n),i=Pi(e),o=Re(t.seconds,i.seconds);return o!==0?o:Re(t.nanos,i.nanos)}function rv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const u=Vo(t[o],i[o]);if(u)return u}return Re(t.length,i.length)}function No(n){return Hd(n)}function Hd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Pi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return xi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const u of t.values||[])o?o=!1:i+=",",i+=Hd(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of i)u?u=!1:o+=",",o+=`${f}:${Hd(t.fields[f])}`;return o+"}"}(n.mapValue):Ee()}function mc(n){switch(bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(n);return e?16+mc(e):16;case 5:return 2*n.stringValue.length;case 6:return xi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,u)=>o+mc(u),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Ts(i.fields,(u,f)=>{o+=u.length+mc(f)}),o}(n.mapValue);default:throw Ee()}}function Wd(n){return!!n&&"integerValue"in n}function zp(n){return!!n&&"arrayValue"in n}function iv(n){return!!n&&"nullValue"in n}function sv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gc(n){return!!n&&"mapValue"in n}function Ek(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[IE])===null||t===void 0?void 0:t.stringValue)===AE}function ru(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ts(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ru(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ru(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Tk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(t)}setAll(e){let t=Nt.emptyPath(),i={},o=[];e.forEach((f,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=h.popLast()}f?i[h.lastSegment()]=ru(f):o.push(h.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,o)}delete(e){const t=this.field(e.popLast());gc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ts(t,(o,u)=>e[o]=u);for(const o of i)delete e[o]}clone(){return new xn(ru(this.value))}}function RE(n){const e=[];return Ts(n.fields,(t,i)=>{const o=new Nt([t]);if(gc(i)){const u=RE(i.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,i,o,u,f,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=u,this.data=f,this.documentState=h}static newInvalidDocument(e){return new Ht(e,0,Te.min(),Te.min(),Te.min(),xn.empty(),0)}static newFoundDocument(e,t,i,o){return new Ht(e,1,t,Te.min(),i,o,0)}static newNoDocument(e,t){return new Ht(e,2,t,Te.min(),Te.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,Te.min(),Te.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this.position=e,this.inclusive=t}}function ov(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const u=e[o],f=n.position[o];if(u.field.isKeyField()?i=ve.comparator(ve.fromName(f.referenceValue),t.key):i=Vo(f,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function av(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Sk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{}class _t extends kE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Ck(e,t,i):t==="array-contains"?new kk(e,i):t==="in"?new Pk(e,i):t==="not-in"?new xk(e,i):t==="array-contains-any"?new bk(e,i):new _t(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Ak(e,i):new Rk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Vo(t,this.value)):t!==null&&bi(this.value)===bi(t)&&this.matchesComparison(Vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends kE{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new _r(e,t)}matches(e){return PE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function PE(n){return n.op==="and"}function xE(n){return Ik(n)&&PE(n)}function Ik(n){for(const e of n.filters)if(e instanceof _r)return!1;return!0}function Kd(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+No(n.value);if(xE(n))return n.filters.map(e=>Kd(e)).join(",");{const e=n.filters.map(t=>Kd(t)).join(",");return`${n.op}(${e})`}}function bE(n,e){return n instanceof _t?function(i,o){return o instanceof _t&&i.op===o.op&&i.field.isEqual(o.field)&&yr(i.value,o.value)}(n,e):n instanceof _r?function(i,o){return o instanceof _r&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((u,f,h)=>u&&bE(f,o.filters[h]),!0):!1}(n,e):void Ee()}function DE(n){return n instanceof _t?function(t){return`${t.field.canonicalString()} ${t.op} ${No(t.value)}`}(n):n instanceof _r?function(t){return t.op.toString()+" {"+t.getFilters().map(DE).join(" ,")+"}"}(n):"Filter"}class Ck extends _t{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ak extends _t{constructor(e,t){super(e,"in",t),this.keys=VE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Rk extends _t{constructor(e,t){super(e,"not-in",t),this.keys=VE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function VE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class kk extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zp(t)&&vu(t.arrayValue,this.value)}}class Pk extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&vu(this.value.arrayValue,t)}}class xk extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!vu(this.value.arrayValue,t)}}class bk extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>vu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t=null,i=[],o=[],u=null,f=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=f,this.endAt=h,this.le=null}}function uv(n,e=null,t=[],i=[],o=null,u=null,f=null){return new Dk(n,e,t,i,o,u,f)}function Bp(n){const e=Se(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Kd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),ef(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>No(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>No(i)).join(",")),e.le=t}return e.le}function qp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Sk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!av(n.startAt,e.startAt)&&av(n.endAt,e.endAt)}function Qd(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t=null,i=[],o=[],u=null,f="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=f,this.startAt=h,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Vk(n,e,t,i,o,u,f,h){return new nf(n,e,t,i,o,u,f,h)}function Hp(n){return new nf(n)}function lv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Nk(n){return n.collectionGroup!==null}function iu(n){const e=Se(n);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let h=new wt(Nt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(h=h.add(y.field))})}),h})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Lc(u,i))}),t.has(Nt.keyField().canonicalString())||e.he.push(new Lc(Nt.keyField(),i))}return e.he}function pr(n){const e=Se(n);return e.Pe||(e.Pe=Lk(e,iu(n))),e.Pe}function Lk(n,e){if(n.limitType==="F")return uv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Lc(o.field,u)});const t=n.endAt?new Nc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Nc(n.startAt.position,n.startAt.inclusive):null;return uv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Gd(n,e,t){return new nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rf(n,e){return qp(pr(n),pr(e))&&n.limitType===e.limitType}function NE(n){return`${Bp(pr(n))}|lt:${n.limitType}`}function So(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>DE(o)).join(", ")}]`),ef(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>No(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>No(o)).join(",")),`Target(${i})`}(pr(n))}; limitType=${n.limitType})`}function sf(n,e){return e.isFoundDocument()&&function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):ve.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(n,e)&&function(i,o){for(const u of iu(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(f,h,p){const y=ov(f,h,p);return f.inclusive?y<=0:y<0}(i.startAt,iu(i),o)||i.endAt&&!function(f,h,p){const y=ov(f,h,p);return f.inclusive?y>=0:y>0}(i.endAt,iu(i),o))}(n,e)}function Ok(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LE(n){return(e,t)=>{let i=!1;for(const o of iu(n)){const u=Mk(o,e,t);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function Mk(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(u,f,h){const p=f.data.field(u),y=h.data.field(u);return p!==null&&y!==null?Vo(p,y):Ee()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(t,i)=>{for(const[o,u]of i)e(o,u)})}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=new nt(ve.comparator);function Qr(){return Fk}const OE=new nt(ve.comparator);function Za(...n){let e=OE;for(const t of n)e=e.insert(t.key,t);return e}function ME(n){let e=OE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function gs(){return su()}function FE(){return su()}function su(){return new Ss(n=>n.toString(),(n,e)=>n.isEqual(e))}const Uk=new nt(ve.comparator),$k=new wt(ve.comparator);function ke(...n){let e=$k;for(const t of n)e=e.add(t);return e}const jk=new wt(Re);function zk(){return jk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function UE(n){return{integerValue:""+n}}function Bk(n,e){return gk(e)?UE(e):Wp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function qk(n,e,t){return n instanceof Oc?function(o,u){const f={fields:{[EE]:{stringValue:wE},[SE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&jp(u)&&(u=tf(u)),u&&(f.fields[TE]=u),{mapValue:f}}(t,e):n instanceof wu?jE(n,e):n instanceof Eu?zE(n,e):function(o,u){const f=$E(o,u),h=cv(f)+cv(o.Ie);return Wd(f)&&Wd(o.Ie)?UE(h):Wp(o.serializer,h)}(n,e)}function Hk(n,e,t){return n instanceof wu?jE(n,e):n instanceof Eu?zE(n,e):t}function $E(n,e){return n instanceof Mc?function(i){return Wd(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class Oc extends of{}class wu extends of{constructor(e){super(),this.elements=e}}function jE(n,e){const t=BE(e);for(const i of n.elements)t.some(o=>yr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Eu extends of{constructor(e){super(),this.elements=e}}function zE(n,e){let t=BE(e);for(const i of n.elements)t=t.filter(o=>!yr(o,i));return{arrayValue:{values:t}}}class Mc extends of{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function cv(n){return lt(n.integerValue||n.doubleValue)}function BE(n){return zp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Wk(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof wu&&o instanceof wu||i instanceof Eu&&o instanceof Eu?Do(i.elements,o.elements,yr):i instanceof Mc&&o instanceof Mc?yr(i.Ie,o.Ie):i instanceof Oc&&o instanceof Oc}(n.transform,e.transform)}class Kk{constructor(e,t){this.version=e,this.transformResults=t}}class qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class af{}function qE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new WE(n.key,qr.none()):new xu(n.key,n.data,qr.none());{const t=n.data,i=xn.empty();let o=new wt(Nt.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?i.delete(u):i.set(u,f),o=o.add(u)}return new Is(n.key,i,new Yn(o.toArray()),qr.none())}}function Qk(n,e,t){n instanceof xu?function(o,u,f){const h=o.value.clone(),p=hv(o.fieldTransforms,u,f.transformResults);h.setAll(p),u.convertToFoundDocument(f.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Is?function(o,u,f){if(!yc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const h=hv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(HE(o)),p.setAll(h),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(n,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function ou(n,e,t,i){return n instanceof xu?function(u,f,h,p){if(!yc(u.precondition,f))return h;const y=u.value.clone(),v=dv(u.fieldTransforms,p,f);return y.setAll(v),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Is?function(u,f,h,p){if(!yc(u.precondition,f))return h;const y=dv(u.fieldTransforms,p,f),v=f.data;return v.setAll(HE(u)),v.setAll(y),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),h===null?null:h.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(u,f,h){return yc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):h}(n,e,t)}function Gk(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),u=$E(i.transform,o||null);u!=null&&(t===null&&(t=xn.empty()),t.set(i.field,u))}return t||null}function fv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Do(i,o,(u,f)=>Wk(u,f))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xu extends af{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Is extends af{constructor(e,t,i,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function HE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function hv(n,e,t){const i=new Map;Fe(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],f=u.transform,h=e.data.field(u.field);i.set(u.field,Hk(f,h,t[o]))}return i}function dv(n,e,t){const i=new Map;for(const o of n){const u=o.transform,f=t.data.field(o.field);i.set(o.field,qk(u,f,e))}return i}class WE extends af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xk extends af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Qk(u,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ou(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ou(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=FE();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let h=this.applyToLocalView(f,u.mutatedFields);h=t.has(o.key)?null:h;const p=qE(f,h);p!==null&&i.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Te.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(t,i)=>fv(t,i))&&Do(this.baseMutations,e.baseMutations,(t,i)=>fv(t,i))}}class Kp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Fe(e.mutations.length===i.length);let o=function(){return Uk}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,i[f].version);return new Kp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,De;function eP(n){switch(n){case te.OK:return Ee();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee()}}function KE(n){if(n===void 0)return Kr("GRPC error has no .code"),te.UNKNOWN;switch(n){case ht.OK:return te.OK;case ht.CANCELLED:return te.CANCELLED;case ht.UNKNOWN:return te.UNKNOWN;case ht.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case ht.INTERNAL:return te.INTERNAL;case ht.UNAVAILABLE:return te.UNAVAILABLE;case ht.UNAUTHENTICATED:return te.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case ht.NOT_FOUND:return te.NOT_FOUND;case ht.ALREADY_EXISTS:return te.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return te.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case ht.ABORTED:return te.ABORTED;case ht.OUT_OF_RANGE:return te.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return te.UNIMPLEMENTED;case ht.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}(De=ht||(ht={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new Ii([4294967295,4294967295],0);function pv(n){const e=Bd().encode(n),t=new lE;return t.update(e),new Uint8Array(t.digest())}function mv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ii([t,i],0),new Ii([o,u],0)]}class Qp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new eu(`Invalid padding: ${t}`);if(i<0)throw new eu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new eu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ii.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Ii.fromNumber(i)));return o.compare(tP)===1&&(o=new Ii([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=pv(e),[i,o]=mv(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(i,o,u);if(!this.Re(f))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Qp(u,o,t);return i.forEach(h=>f.insert(h)),f}insert(e){if(this.Ee===0)return;const t=pv(e),[i,o]=mv(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(i,o,u);this.Ve(f)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t,i,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new uf(Te.min(),o,new nt(Re),Qr(),ke())}}class bu{constructor(e,t,i,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new bu(i,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class QE{constructor(e,t){this.targetId=e,this.ge=t}}class GE{constructor(e,t,i=Lt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class gv{constructor(){this.pe=0,this.ye=yv(),this.we=Lt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ke(),t=ke(),i=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ee()}}),new bu(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=yv()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Fe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class nP{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Qr(),this.$e=oc(),this.Ue=oc(),this.Ke=new nt(Re)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(Qd(u))if(i===0){const f=new ve(u.path);this.ze(t,f,Ht.newNoDocument(f,Te.min()))}else Fe(i===1);else{const f=this.et(t);if(f!==i){const h=this.tt(e),p=h?this.nt(h,e,f):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=t;let f,h;try{f=xi(i).toUint8Array()}catch(p){if(p instanceof vE)return bo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Qp(f,o,u)}catch(p){return bo(p instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Ee===0?null:h}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(u=>{const f=this.ke.it(),h=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,f)=>{const h=this.Xe(f);if(h){if(u.current&&Qd(h.target)){const p=new ve(h.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Ht.newNoDocument(p,e))}u.ve&&(t.set(f,u.Fe()),u.Me())}});let i=ke();this.Ue.forEach((u,f)=>{let h=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new uf(e,t,this.Ke,this.Qe,i);return this.Qe=Qr(),this.$e=oc(),this.Ue=oc(),this.Ke=new nt(Re),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new gv,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new wt(Re),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new wt(Re),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new gv),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function oc(){return new nt(ve.comparator)}function yv(){return new nt(ve.comparator)}const rP={asc:"ASCENDING",desc:"DESCENDING"},iP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sP={and:"AND",or:"OR"};class oP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Xd(n,e){return n.useProto3Json||ef(e)?e:{value:e}}function Fc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function aP(n,e){return Fc(n,e.toTimestamp())}function mr(n){return Fe(!!n),Te.fromTimestamp(function(t){const i=Pi(t);return new vt(i.seconds,i.nanos)}(n))}function Gp(n,e){return Yd(n,e).canonicalString()}function Yd(n,e){const t=function(o){return new it(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function YE(n){const e=it.fromString(n);return Fe(nT(e)),e}function Jd(n,e){return Gp(n.databaseId,e.path)}function gd(n,e){const t=YE(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(ZE(t))}function JE(n,e){return Gp(n.databaseId,e)}function uP(n){const e=YE(n);return e.length===4?it.emptyPath():ZE(e)}function Zd(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZE(n){return Fe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function _v(n,e,t){return{name:Jd(n,e),fields:t.value.mapValue.fields}}function lP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,v){return y.useProto3Json?(Fe(v===void 0||typeof v=="string"),Lt.fromBase64String(v||"")):(Fe(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Lt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,h=f&&function(y){const v=y.code===void 0?te.UNKNOWN:KE(y.code);return new _e(v,y.message||"")}(f);t=new GE(i,o,u,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=gd(n,i.document.name),u=mr(i.document.updateTime),f=i.document.createTime?mr(i.document.createTime):Te.min(),h=new xn({mapValue:{fields:i.document.fields}}),p=Ht.newFoundDocument(o,u,f,h),y=i.targetIds||[],v=i.removedTargetIds||[];t=new _c(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=gd(n,i.document),u=i.readTime?mr(i.readTime):Te.min(),f=Ht.newNoDocument(o,u),h=i.removedTargetIds||[];t=new _c([],h,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=gd(n,i.document),u=i.removedTargetIds||[];t=new _c([],u,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,f=new Zk(o,u),h=i.targetId;t=new QE(h,f)}}return t}function cP(n,e){let t;if(e instanceof xu)t={update:_v(n,e.key,e.value)};else if(e instanceof WE)t={delete:Jd(n,e.key)};else if(e instanceof Is)t={update:_v(n,e.key,e.data),updateMask:vP(e.fieldMask)};else{if(!(e instanceof Xk))return Ee();t={verify:Jd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(u,f){const h=f.transform;if(h instanceof Oc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof wu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Mc)return{fieldPath:f.field.canonicalString(),increment:h.Ie};throw Ee()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:aP(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(n,e.precondition)),t}function fP(n,e){return n&&n.length>0?(Fe(e!==void 0),n.map(t=>function(o,u){let f=o.updateTime?mr(o.updateTime):mr(u);return f.isEqual(Te.min())&&(f=mr(u)),new Kk(f,o.transformResults||[])}(t,e))):[]}function hP(n,e){return{documents:[JE(n,e.path)]}}function dP(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=JE(n,o);const u=function(y){if(y.length!==0)return tT(_r.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(v=>function(S){return{field:Io(S.field),direction:gP(S.dir)}}(v))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const h=Xd(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function pP(n){let e=uP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Fe(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(E){const S=eT(E);return S instanceof _r&&xE(S)?S.getFilters():[S]}(t.where));let f=[];t.orderBy&&(f=function(E){return E.map(S=>function(N){return new Lc(Co(N.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(t.orderBy));let h=null;t.limit&&(h=function(E){let S;return S=typeof E=="object"?E.value:E,ef(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(E){const S=!!E.before,R=E.values||[];return new Nc(R,S)}(t.startAt));let y=null;return t.endAt&&(y=function(E){const S=!E.before,R=E.values||[];return new Nc(R,S)}(t.endAt)),Vk(e,o,f,u,h,"F",p,y)}function mP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Co(t.unaryFilter.field);return _t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(t.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Co(t.unaryFilter.field);return _t.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Co(t.unaryFilter.field);return _t.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return _t.create(Co(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _r.create(t.compositeFilter.filters.map(i=>eT(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function gP(n){return rP[n]}function yP(n){return iP[n]}function _P(n){return sP[n]}function Io(n){return{fieldPath:n.canonicalString()}}function Co(n){return Nt.fromServerFormat(n.fieldPath)}function tT(n){return n instanceof _t?function(t){if(t.op==="=="){if(sv(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(iv(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sv(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(iv(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:yP(t.op),value:t.value}}}(n):n instanceof _r?function(t){const i=t.getFilters().map(o=>tT(o));return i.length===1?i[0]:{compositeFilter:{op:_P(t.op),filters:i}}}(n):Ee()}function vP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,t,i,o,u=Te.min(),f=Te.min(),h=Lt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.Tt=e}}function EP(n){const e=pP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.Tn=new SP}addToCollectionParentIndex(e,t){return this.Tn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(ki.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class SP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new wt(it.comparator),u=!o.has(i);return this.index[t]=o.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new wt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rT=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(rT,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Lo(0)}static Kn(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="LruGarbageCollector",IP=1048576;function Ev([n,e],[t,i]){const o=Re(n,t);return o===0?Re(e,i):o}class CP{constructor(e){this.Hn=e,this.buffer=new wt(Ev),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ev(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class AP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(wv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wo(t)?ue(wv,"Ignoring IndexedDB error during garbage collection: ",t):await Ho(t)}await this.er(3e5)})}}class RP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Zc.ae);const i=new CP(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(vv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vv):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,u,f,h,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,h=Date.now(),this.removeTargets(e,i,t))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(y=Date.now(),To()<=Ve.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(h-f)+`ms
	Removed ${u} targets in `+(p-h)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function kP(n,e){return new RP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.changes=new Ss(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&ou(i.mutation,o,Yn.empty(),vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ke()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ke()){const o=gs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(u=>{let f=Za();return u.forEach((h,p)=>{f=f.insert(h,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const i=gs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ke()))}populateOverlays(e,t,i){const o=[];return i.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,h)=>{t.set(f,h)})})}computeViews(e,t,i,o){let u=Qr();const f=su(),h=function(){return su()}();return t.forEach((p,y)=>{const v=i.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Is)?u=u.insert(y.key,y):v!==void 0?(f.set(y.key,v.mutation.getFieldMask()),ou(v.mutation,y,v.mutation.getFieldMask(),vt.now())):f.set(y.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,v)=>f.set(y,v)),t.forEach((y,v)=>{var E;return h.set(y,new xP(v,(E=f.get(y))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const i=su();let o=new nt((f,h)=>f-h),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const h of f)h.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let v=i.get(p)||Yn.empty();v=h.applyToLocalView(y,v),i.set(p,v);const E=(o.get(h.batchId)||ke()).add(p);o=o.insert(h.batchId,E)})}).next(()=>{const f=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,v=p.value,E=FE();v.forEach(S=>{if(!u.has(S)){const R=qE(t.get(S),i.get(S));R!==null&&E.set(S,R),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,E))}return G.waitFor(f)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-u.size):G.resolve(gs());let h=gu,p=u;return f.next(y=>G.forEach(y,(v,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),u.get(v)?G.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,ke())).next(v=>({batchId:h,changes:ME(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let o=Za();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const u=t.collectionGroup;let f=Za();return this.indexManager.getCollectionParents(e,u).next(h=>G.forEach(h,p=>{const y=function(E,S){return new nf(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(v=>{v.forEach((E,S)=>{f=f.insert(E,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,o))).next(f=>{u.forEach((p,y)=>{const v=y.getKey();f.get(v)===null&&(f=f.insert(v,Ht.newInvalidDocument(v)))});let h=Za();return f.forEach((p,y)=>{const v=u.get(p);v!==void 0&&ou(v.mutation,y,Yn.empty(),vt.now()),sf(t,y)&&(h=h.insert(p,y))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return G.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:EP(o.bundledQuery),readTime:mr(o.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.overlays=new nt(ve.comparator),this.Rr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=gs();return G.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&i.set(o,u)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,u)=>{this.Et(e,t,u)}),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=gs(),u=t.length+1,f=new ve(t.child("")),h=this.overlays.getIteratorFrom(f);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>i&&o.set(p.getKey(),p)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let u=new nt((y,v)=>y-v);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let v=u.get(y.largestBatchId);v===null&&(v=gs(),u=u.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const h=gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,v)=>h.set(y,v)),!(h.size()>=o)););return G.resolve(h)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new Jk(t,i));let u=this.Rr.get(t);u===void 0&&(u=ke(),this.Rr.set(t,u)),this.Rr.set(t,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.Vr=new wt(At.mr),this.gr=new wt(At.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new At(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new At(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new ve(new it([])),i=new At(t,e),o=new At(t,e+1),u=[];return this.gr.forEachInRange([i,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new it([])),i=new At(t,e),o=new At(t,e+1);let u=ke();return this.gr.forEachInRange([i,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new At(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class At{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||Re(e.Cr,t.Cr)}static pr(e,t){return Re(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new wt(At.mr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Yk(u,t,i,o);this.mutationQueue.push(f);for(const h of o)this.Mr=this.Mr.add(new At(h.key,u)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return G.resolve(f)}lookupMutationBatch(e,t){return G.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),u=o<0?0:o;return G.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?$p:this.Fr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new At(t,0),o=new At(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([i,o],f=>{const h=this.Or(f.Cr);u.push(h)}),G.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new wt(Re);return t.forEach(o=>{const u=new At(o,0),f=new At(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],h=>{i=i.add(h.Cr)})}),G.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let u=i;ve.isDocumentKey(u)||(u=u.child(""));const f=new At(new ve(u),0);let h=new wt(Re);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(h=h.add(p.Cr)),!0)},f),G.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Fe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return G.forEach(t.mutations,o=>{const u=new At(o.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new At(t,0),o=this.Mr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.kr=e,this.docs=function(){return new nt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),u=o?o.size:0,f=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let i=Qr();return t.forEach(o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():Ht.newInvalidDocument(o))}),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let u=Qr();const f=t.path,h=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||hk(fk(v),i)<=0||(o.has(v.key)||sf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return G.resolve(u)}getAllFromCollectionGroup(e,t,i,o){Ee()}qr(e,t){return G.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new MP(this)}getSize(e){return G.resolve(this.size)}}class MP extends PP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),G.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.persistence=e,this.Qr=new Ss(t=>Bp(t),qp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Xp,this.targetCount=0,this.Kr=Lo.Un()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),G.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Lo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.zn(t),G.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const u=[];return this.Qr.forEach((f,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),G.waitFor(u).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),G.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Zc(0),this.zr=!1,this.zr=!0,this.jr=new NP,this.referenceDelegate=e(this),this.Hr=new FP(this),this.indexManager=new TP,this.remoteDocumentCache=function(o){return new OP(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new wP(t),this.Yr=new DP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new LP(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ue("MemoryPersistence","Starting transaction:",e);const o=new UP(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return G.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class UP extends pk{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.ti=new Xp,this.ni=null}static ri(e){return new Yp(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),G.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,i=>{const o=ve.fromPath(i);return this.si(e,o).next(u=>{u||t.removeEntry(o,Te.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return G.or([()=>G.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Uc{constructor(e,t){this.persistence=e,this.oi=new Ss(i=>yk(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=kP(this,t)}static ri(e,t){return new Uc(e,t)}Zr(){}Xr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return G.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(u=>u?G.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,t).next(h=>{h||(i++,u.removeEntry(f,Te.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mc(e.data.value)),t}ar(e,t,i){return G.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return OA()?8:mk(NA())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const u={result:null};return this.rs(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,t,o,i).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new $P;return this._s(e,t,f).next(h=>{if(u.result=h,this.Xi)return this.us(e,t,f,h.size)})}).next(()=>u.result)}us(e,t,i,o){return i.documentReadCount<this.es?(To()<=Ve.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",So(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(To()<=Ve.DEBUG&&ue("QueryEngine","Query:",So(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(To()<=Ve.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",So(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):G.resolve())}rs(e,t){if(lv(t))return G.resolve(null);let i=pr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Gd(t,null,"F"),i=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const f=ke(...u);return this.ns.getDocuments(e,f).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.cs(t,h);return this.ls(t,y,f,p.readTime)?this.rs(e,Gd(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,i,o){return lv(t)||o.isEqual(Te.min())?G.resolve(null):this.ns.getDocuments(e,i).next(u=>{const f=this.cs(t,u);return this.ls(t,f,i,o)?G.resolve(null):(To()<=Ve.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(t)),this.hs(e,f,t,ck(o,gu)).next(h=>h))})}cs(e,t){let i=new wt(LE(e));return t.forEach((o,u)=>{sf(e,u)&&(i=i.add(u))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,i){return To()<=Ve.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",So(t)),this.ns.getDocumentsMatchingQuery(e,t,ki.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="LocalStore",zP=3e8;class BP{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new nt(Re),this.Is=new Ss(u=>Bp(u),qp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function qP(n,e,t,i){return new BP(n,e,t,i)}async function sT(n,e){const t=Se(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(u=>{const f=[],h=[];let p=ke();for(const y of o){f.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of u){h.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:h}))})})}function HP(n,e){const t=Se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,p,y,v){const E=y.batch,S=E.keys();let R=G.resolve();return S.forEach(N=>{R=R.next(()=>v.getEntry(p,N)).next(B=>{const D=y.docVersions.get(N);Fe(D!==null),B.version.compareTo(D)<0&&(E.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),v.addEntry(B)))})}),R.next(()=>h.mutationQueue.removeMutationBatch(p,E))}(t,i,e,u).next(()=>u.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=ke();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(p=p.add(h.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function oT(n){const e=Se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function WP(n,e){const t=Se(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const h=[];e.targetChanges.forEach((v,E)=>{const S=o.get(E);if(!S)return;h.push(t.Hr.removeMatchingKeys(u,v.removedDocuments,E).next(()=>t.Hr.addMatchingKeys(u,v.addedDocuments,E)));let R=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(Lt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),o=o.insert(E,R),function(B,D,H){return B.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=zP?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(S,R,v)&&h.push(t.Hr.updateTargetData(u,R))});let p=Qr(),y=ke();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),h.push(KP(u,f,e.documentUpdates).next(v=>{p=v.Vs,y=v.fs})),!i.isEqual(Te.min())){const v=t.Hr.getLastRemoteSnapshotVersion(u).next(E=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,i));h.push(v)}return G.waitFor(h).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(t.Ts=o,u))}function KP(n,e,t){let i=ke(),o=ke();return t.forEach(u=>i=i.add(u)),e.getEntries(n,i).next(u=>{let f=Qr();return t.forEach((h,p)=>{const y=u.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(h,p.readTime),f=f.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(h,p)):ue(Zp,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function QP(n,e){const t=Se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=$p),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function GP(n,e){const t=Se(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(u=>u?(o=u,G.resolve(o)):t.Hr.allocateTargetId(i).next(f=>(o=new Ei(e,f,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function ep(n,e,t){const i=Se(n),o=i.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,f=>i.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Wo(f))throw f;ue(Zp,`Failed to update sequence numbers for target ${e}: ${f}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function Tv(n,e,t){const i=Se(n);let o=Te.min(),u=ke();return i.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,v){const E=Se(p),S=E.Is.get(v);return S!==void 0?G.resolve(E.Ts.get(S)):E.Hr.getTargetData(y,v)}(i,f,pr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(f,h.targetId).next(p=>{u=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(f,e,t?o:Te.min(),t?u:ke())).next(h=>(XP(i,Ok(e),h),{documents:h,gs:u})))}function XP(n,e,t){let i=n.Es.get(e)||Te.min();t.forEach((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),n.Es.set(e,i)}class Sv{constructor(){this.activeTargetIds=zk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YP{constructor(){this.ho=new Sv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Sv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="ConnectivityMonitor";class Cv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(Iv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(Iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function tp(){return ac===null?ac=function(){return 268435456+Math.round(2147483648*Math.random())}():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="RestConnection",ZP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ex{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Dc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,u){const f=tp(),h=this.bo(e,t.toUriEncodedString());ue(yd,`Sending RPC '${e}' ${f}:`,h,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,h,p,i).then(y=>(ue(yd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw bo(yd,`RPC '${e}' ${f} failed with error: `,y,"url: ",h,"request:",i),y})}Co(e,t,i,o,u,f){return this.So(e,t,i,o,u)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),i&&i.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const i=ZP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class nx extends ex{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const u=tp();return new Promise((f,h)=>{const p=new cE;p.setWithCredentials(!0),p.listenOnce(fE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case pc.NO_ERROR:const v=p.getResponseJson();ue(zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),f(v);break;case pc.TIMEOUT:ue(zt,`RPC '${e}' ${u} timed out`),h(new _e(te.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const E=p.getStatus();if(ue(zt,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S==null?void 0:S.error;if(R&&R.status&&R.message){const N=function(D){const H=D.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(H)>=0?H:te.UNKNOWN}(R.status);h(new _e(N,R.message))}else h(new _e(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new _e(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ue(zt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ue(zt,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=tp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=pE(),h=dE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=u.join("");ue(zt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const E=f.createWebChannel(v,p);let S=!1,R=!1;const N=new tx({Fo:D=>{R?ue(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(S||(ue(zt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),ue(zt,`RPC '${e}' stream ${o} sending:`,D),E.send(D))},Mo:()=>E.close()}),B=(D,H,K)=>{D.listen(H,z=>{try{K(z)}catch(Z){setTimeout(()=>{throw Z},0)}})};return B(E,Ja.EventType.OPEN,()=>{R||(ue(zt,`RPC '${e}' stream ${o} transport opened.`),N.Qo())}),B(E,Ja.EventType.CLOSE,()=>{R||(R=!0,ue(zt,`RPC '${e}' stream ${o} transport closed`),N.Uo())}),B(E,Ja.EventType.ERROR,D=>{R||(R=!0,bo(zt,`RPC '${e}' stream ${o} transport errored:`,D),N.Uo(new _e(te.UNAVAILABLE,"The operation could not be completed")))}),B(E,Ja.EventType.MESSAGE,D=>{var H;if(!R){const K=D.data[0];Fe(!!K);const z=K,Z=(z==null?void 0:z.error)||((H=z[0])===null||H===void 0?void 0:H.error);if(Z){ue(zt,`RPC '${e}' stream ${o} received error:`,Z);const se=Z.status;let Q=function(A){const b=ht[A];if(b!==void 0)return KE(b)}(se),P=Z.message;Q===void 0&&(Q=te.INTERNAL,P="Unknown error status: "+se+" with message "+Z.message),R=!0,N.Uo(new _e(Q,P)),E.close()}else ue(zt,`RPC '${e}' stream ${o} received:`,K),N.Ko(K)}}),B(h,hE.STAT_EVENT,D=>{D.stat===zd.PROXY?ue(zt,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===zd.NOPROXY&&ue(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(n){return new oP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,t,i=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="PersistentStream";class uT{constructor(e,t,i,o,u,f,h,p){this.Ti=e,this.n_=i,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new aT(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Kr(t.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new _e(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(Av,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ue(Av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rx extends uT{constructor(e,t,i,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,f),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=lP(this.serializer,e),i=function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?mr(f.readTime):Te.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Zd(this.serializer),t.addTarget=function(u,f){let h;const p=f.target;if(h=Qd(p)?{documents:hP(u,p)}:{query:dP(u,p).ht},h.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){h.resumeToken=XE(u,f.resumeToken);const y=Xd(u,f.expectedCount);y!==null&&(h.expectedCount=y)}else if(f.snapshotVersion.compareTo(Te.min())>0){h.readTime=Fc(u,f.snapshotVersion.toTimestamp());const y=Xd(u,f.expectedCount);y!==null&&(h.expectedCount=y)}return h}(this.serializer,e);const i=mP(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Zd(this.serializer),t.removeTarget=e,this.I_(t)}}class ix extends uT{constructor(e,t,i,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=fP(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Zd(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>cP(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{}class ox extends sx{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Yd(t,i),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(te.UNKNOWN,u.toString())})}Co(e,t,i,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,h])=>this.connection.Co(e,Yd(t,i),o,f,h,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _e(te.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ax{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Kr(t),this.N_=!1):ue("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="RemoteStore";class ux{constructor(e,t,i,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{i.enqueueAndForget(async()=>{Cs(this)&&(ue(ws,"Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.W_.add(4),await Du(y),y.j_.set("Unknown"),y.W_.delete(4),await cf(y)}(this))})}),this.j_=new ax(i,o)}}async function cf(n){if(Cs(n))for(const e of n.G_)await e(!0)}async function Du(n){for(const e of n.G_)await e(!1)}function lT(n,e){const t=Se(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),rm(t)?nm(t):Ko(t).c_()&&tm(t,e))}function em(n,e){const t=Se(n),i=Ko(t);t.K_.delete(e),i.c_()&&cT(t,e),t.K_.size===0&&(i.c_()?i.P_():Cs(t)&&t.j_.set("Unknown"))}function tm(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ko(n).y_(e)}function cT(n,e){n.H_.Ne(e),Ko(n).w_(e)}function nm(n){n.H_=new nP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Ko(n).start(),n.j_.B_()}function rm(n){return Cs(n)&&!Ko(n).u_()&&n.K_.size>0}function Cs(n){return Se(n).W_.size===0}function fT(n){n.H_=void 0}async function lx(n){n.j_.set("Online")}async function cx(n){n.K_.forEach((e,t)=>{tm(n,e)})}async function fx(n,e){fT(n),rm(n)?(n.j_.q_(e),nm(n)):n.j_.set("Unknown")}async function hx(n,e,t){if(n.j_.set("Online"),e instanceof GE&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const h of u.targetIds)o.K_.has(h)&&(await o.remoteSyncer.rejectListen(h,f),o.K_.delete(h),o.H_.removeTarget(h))}(n,e)}catch(i){ue(ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await $c(n,i)}else if(e instanceof _c?n.H_.We(e):e instanceof QE?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Te.min()))try{const i=await oT(n.localStore);t.compareTo(i)>=0&&await function(u,f){const h=u.H_.ot(f);return h.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.K_.get(y);v&&u.K_.set(y,v.withResumeToken(p.resumeToken,f))}}),h.targetMismatches.forEach((p,y)=>{const v=u.K_.get(p);if(!v)return;u.K_.set(p,v.withResumeToken(Lt.EMPTY_BYTE_STRING,v.snapshotVersion)),cT(u,p);const E=new Ei(v.target,p,y,v.sequenceNumber);tm(u,E)}),u.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){ue(ws,"Failed to raise snapshot:",i),await $c(n,i)}}async function $c(n,e,t){if(!Wo(e))throw e;n.W_.add(1),await Du(n),n.j_.set("Offline"),t||(t=()=>oT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(ws,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await cf(n)})}function hT(n,e){return e().catch(t=>$c(n,t,e))}async function ff(n){const e=Se(n),t=Di(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:$p;for(;dx(e);)try{const o=await QP(e.localStore,i);if(o===null){e.U_.length===0&&t.P_();break}i=o.batchId,px(e,o)}catch(o){await $c(e,o)}dT(e)&&pT(e)}function dx(n){return Cs(n)&&n.U_.length<10}function px(n,e){n.U_.push(e);const t=Di(n);t.c_()&&t.S_&&t.b_(e.mutations)}function dT(n){return Cs(n)&&!Di(n).u_()&&n.U_.length>0}function pT(n){Di(n).start()}async function mx(n){Di(n).C_()}async function gx(n){const e=Di(n);for(const t of n.U_)e.b_(t.mutations)}async function yx(n,e,t){const i=n.U_.shift(),o=Kp.from(i,e,t);await hT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await ff(n)}async function _x(n,e){e&&Di(n).S_&&await async function(i,o){if(function(f){return eP(f)&&f!==te.ABORTED}(o.code)){const u=i.U_.shift();Di(i).h_(),await hT(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ff(i)}}(n,e),dT(n)&&pT(n)}async function Rv(n,e){const t=Se(n);t.asyncQueue.verifyOperationInProgress(),ue(ws,"RemoteStore received new credentials");const i=Cs(t);t.W_.add(3),await Du(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await cf(t)}async function vx(n,e){const t=Se(n);e?(t.W_.delete(2),await cf(t)):e||(t.W_.add(2),await Du(t),t.j_.set("Unknown"))}function Ko(n){return n.J_||(n.J_=function(t,i,o){const u=Se(t);return u.M_(),new rx(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{xo:lx.bind(null,n),No:cx.bind(null,n),Lo:fx.bind(null,n),p_:hx.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),rm(n)?nm(n):n.j_.set("Unknown")):(await n.J_.stop(),fT(n))})),n.J_}function Di(n){return n.Y_||(n.Y_=function(t,i,o){const u=Se(t);return u.M_(),new ix(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:mx.bind(null,n),Lo:_x.bind(null,n),D_:gx.bind(null,n),v_:yx.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await ff(n)):(await n.Y_.stop(),n.U_.length>0&&(ue(ws,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t,i,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,u){const f=Date.now()+i,h=new im(e,t,f,o,u);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sm(n,e){if(Kr("AsyncQueue",`${e}: ${n}`),Wo(n))return new _e(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=Za(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.Z_=new nt(ve.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Oo{constructor(e,t,i,o,u,f,h,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,u){const f=[];return t.forEach(h=>{f.push({type:0,doc:h})}),new Oo(e,t,ko.emptySet(t),f,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Ex{constructor(){this.queries=Pv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=Se(t),u=o.queries;o.queries=Pv(),u.forEach((f,h)=>{for(const p of h.ta)p.onError(i)})})(this,new _e(te.ABORTED,"Firestore shutting down"))}}function Pv(){return new Ss(n=>NE(n),rf)}async function Tx(n,e){const t=Se(n);let i=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(i=2):(u=new wx,i=e.ra()?0:1);try{switch(i){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const h=sm(f,`Initialization of query '${So(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&om(t)}async function Sx(n,e){const t=Se(n),i=e.query;let o=3;const u=t.queries.get(i);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Ix(n,e){const t=Se(n);let i=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const h of f.ta)h.oa(o)&&(i=!0);f.ea=o}}i&&om(t)}function Cx(n,e,t){const i=Se(n),o=i.queries.get(e);if(o)for(const u of o.ta)u.onError(t);i.queries.delete(e)}function om(n){n.ia.forEach(e=>{e.next()})}var np,xv;(xv=np||(np={}))._a="default",xv.Cache="cache";class Ax{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Oo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.key=e}}class gT{constructor(e){this.key=e}}class Rx{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=LE(e),this.wa=new ko(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new kv,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,E)=>{const S=o.get(v),R=sf(this.query,E)?E:null,N=!!S&&this.mutatedKeys.has(S.key),B=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let D=!1;S&&R?S.data.isEqual(R.data)?N!==B&&(i.track({type:3,doc:R}),D=!0):this.va(S,R)||(i.track({type:2,doc:R}),D=!0,(p&&this.ya(R,p)>0||y&&this.ya(R,y)<0)&&(h=!0)):!S&&R?(i.track({type:0,doc:R}),D=!0):S&&!R&&(i.track({type:1,doc:S}),D=!0,(p||y)&&(h=!0)),D&&(R?(f=f.add(R),u=B?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),i.track({type:1,doc:v})}return{wa:f,Da:i,ls:h,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((v,E)=>function(R,N){const B=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return B(R)-B(N)}(v.type,E.type)||this.ya(v.doc,E.doc)),this.Ca(i),o=o!=null&&o;const h=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Oo(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new kv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new gT(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new mT(i))}),t}Oa(e){this.fa=e.gs,this.pa=ke();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Oo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const am="SyncEngine";class kx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Px{constructor(e){this.key=e,this.Ba=!1}}class xx{constructor(e,t,i,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ss(h=>NE(h),rf),this.qa=new Map,this.Qa=new Set,this.$a=new nt(ve.comparator),this.Ua=new Map,this.Ka=new Xp,this.Wa={},this.Ga=new Map,this.za=Lo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bx(n,e,t=!0){const i=TT(n);let o;const u=i.ka.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await yT(i,e,t,!0),o}async function Dx(n,e){const t=TT(n);await yT(t,e,!0,!1)}async function yT(n,e,t,i){const o=await GP(n.localStore,pr(e)),u=o.targetId,f=n.sharedClientState.addLocalQueryTarget(u,t);let h;return i&&(h=await Vx(n,e,u,f==="current",o.resumeToken)),n.isPrimaryClient&&t&&lT(n.remoteStore,o),h}async function Vx(n,e,t,i,o){n.Ha=(E,S,R)=>async function(B,D,H,K){let z=D.view.ba(H);z.ls&&(z=await Tv(B.localStore,D.query,!1).then(({documents:P})=>D.view.ba(P,z)));const Z=K&&K.targetChanges.get(D.targetId),se=K&&K.targetMismatches.get(D.targetId)!=null,Q=D.view.applyChanges(z,B.isPrimaryClient,Z,se);return Dv(B,D.targetId,Q.Ma),Q.snapshot}(n,E,S,R);const u=await Tv(n.localStore,e,!0),f=new Rx(e,u.gs),h=f.ba(u.documents),p=bu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=f.applyChanges(h,n.isPrimaryClient,p);Dv(n,t,y.Ma);const v=new kx(e,t,f);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function Nx(n,e,t){const i=Se(n),o=i.ka.get(e),u=i.qa.get(o.targetId);if(u.length>1)return i.qa.set(o.targetId,u.filter(f=>!rf(f,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await ep(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&em(i.remoteStore,o.targetId),rp(i,o.targetId)}).catch(Ho)):(rp(i,o.targetId),await ep(i.localStore,o.targetId,!0))}async function Lx(n,e){const t=Se(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),em(t.remoteStore,i.targetId))}async function Ox(n,e,t){const i=Bx(n);try{const o=await function(f,h){const p=Se(f),y=vt.now(),v=h.reduce((R,N)=>R.add(N.key),ke());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let N=Qr(),B=ke();return p.ds.getEntries(R,v).next(D=>{N=D,N.forEach((H,K)=>{K.isValidDocument()||(B=B.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,N)).next(D=>{E=D;const H=[];for(const K of h){const z=Gk(K,E.get(K.key).overlayedDocument);z!=null&&H.push(new Is(K.key,z,RE(z.value.mapValue),qr.exists(!0)))}return p.mutationQueue.addMutationBatch(R,y,H,h)}).next(D=>{S=D;const H=D.applyToLocalDocumentSet(E,B);return p.documentOverlayCache.saveOverlays(R,D.batchId,H)})}).then(()=>({batchId:S.batchId,changes:ME(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(f,h,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new nt(Re)),y=y.insert(h,p),f.Wa[f.currentUser.toKey()]=y}(i,o.batchId,t),await Vu(i,o.changes),await ff(i.remoteStore)}catch(o){const u=sm(o,"Failed to persist write");t.reject(u)}}async function _T(n,e){const t=Se(n);try{const i=await WP(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Ua.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Fe(f.Ba):o.removedDocuments.size>0&&(Fe(f.Ba),f.Ba=!1))}),await Vu(t,i,e)}catch(i){await Ho(i)}}function bv(n,e,t){const i=Se(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((u,f)=>{const h=f.view.sa(e);h.snapshot&&o.push(h.snapshot)}),function(f,h){const p=Se(f);p.onlineState=h;let y=!1;p.queries.forEach((v,E)=>{for(const S of E.ta)S.sa(h)&&(y=!0)}),y&&om(p)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Mx(n,e,t){const i=Se(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ua.get(e),u=o&&o.key;if(u){let f=new nt(ve.comparator);f=f.insert(u,Ht.newNoDocument(u,Te.min()));const h=ke().add(u),p=new uf(Te.min(),new Map,new nt(Re),f,h);await _T(i,p),i.$a=i.$a.remove(u),i.Ua.delete(e),um(i)}else await ep(i.localStore,e,!1).then(()=>rp(i,e,t)).catch(Ho)}async function Fx(n,e){const t=Se(n),i=e.batch.batchId;try{const o=await HP(t.localStore,e);wT(t,i,null),vT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Vu(t,o)}catch(o){await Ho(o)}}async function Ux(n,e,t){const i=Se(n);try{const o=await function(f,h){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return p.mutationQueue.lookupMutationBatch(y,h).next(E=>(Fe(E!==null),v=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>p.localDocuments.getDocuments(y,v))})}(i.localStore,e);wT(i,e,t),vT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Vu(i,o)}catch(o){await Ho(o)}}function vT(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function wT(n,e,t){const i=Se(n);let o=i.Wa[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function rp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||ET(n,i)})}function ET(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(em(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),um(n))}function Dv(n,e,t){for(const i of t)i instanceof mT?(n.Ka.addReference(i.key,e),$x(n,i)):i instanceof gT?(ue(am,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||ET(n,i.key)):Ee()}function $x(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(ue(am,"New document in limbo: "+t),n.Qa.add(i),um(n))}function um(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ve(it.fromString(e)),i=n.za.next();n.Ua.set(i,new Px(t)),n.$a=n.$a.insert(t,i),lT(n.remoteStore,new Ei(pr(Hp(t.path)),i,"TargetPurposeLimboResolution",Zc.ae))}}async function Vu(n,e,t){const i=Se(n),o=[],u=[],f=[];i.ka.isEmpty()||(i.ka.forEach((h,p)=>{f.push(i.Ha(p,e,t).then(y=>{var v;if((y||t)&&i.isPrimaryClient){const E=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Jp.Yi(p.targetId,y);u.push(E)}}))}),await Promise.all(f),i.La.p_(o),await async function(p,y){const v=Se(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>G.forEach(y,S=>G.forEach(S.Hi,R=>v.persistence.referenceDelegate.addReference(E,S.targetId,R)).next(()=>G.forEach(S.Ji,R=>v.persistence.referenceDelegate.removeReference(E,S.targetId,R)))))}catch(E){if(!Wo(E))throw E;ue(Zp,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const R=v.Ts.get(S),N=R.snapshotVersion,B=R.withLastLimboFreeSnapshotVersion(N);v.Ts=v.Ts.insert(S,B)}}}(i.localStore,u))}async function jx(n,e){const t=Se(n);if(!t.currentUser.isEqual(e)){ue(am,"User change. New user:",e.toKey());const i=await sT(t.localStore,e);t.currentUser=e,function(u,f){u.Ga.forEach(h=>{h.forEach(p=>{p.reject(new _e(te.CANCELLED,f))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Vu(t,i.Rs)}}function zx(n,e){const t=Se(n),i=t.Ua.get(e);if(i&&i.Ba)return ke().add(i.key);{let o=ke();const u=t.qa.get(e);if(!u)return o;for(const f of u){const h=t.ka.get(f);o=o.unionWith(h.view.Sa)}return o}}function TT(n){const e=Se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mx.bind(null,e),e.La.p_=Ix.bind(null,e.eventManager),e.La.Ja=Cx.bind(null,e.eventManager),e}function Bx(n){const e=Se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ux.bind(null,e),e}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return qP(this.persistence,new jP,e.initialUser,this.serializer)}Xa(e){return new iT(Yp.ri,this.serializer)}Za(e){return new YP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class qx extends jc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Fe(this.persistence.referenceDelegate instanceof Uc);const i=this.persistence.referenceDelegate.garbageCollector;return new AP(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new iT(i=>Uc.ri(i,t),this.serializer)}}class ip{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=jx.bind(null,this.syncEngine),await vx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ex}()}createDatastore(e){const t=lf(e.databaseInfo.databaseId),i=function(u){return new nx(u)}(e.databaseInfo);return function(u,f,h,p){return new ox(u,f,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,u,f,h){return new ux(i,o,u,f,h)}(this.localStore,this.datastore,e.asyncQueue,t=>bv(this.syncEngine,t,0),function(){return Cv.D()?new Cv:new JP}())}createSyncEngine(e,t){return function(o,u,f,h,p,y,v){const E=new xx(o,u,f,h,p,y);return v&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);ue(ws,"RemoteStore shutting down."),u.W_.add(5),await Du(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="FirestoreClient";class Wx{constructor(e,t,i,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=gE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async f=>{ue(Vi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(i,f=>(ue(Vi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=sm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function vd(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Vi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await sT(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Vv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Kx(n);ue(Vi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Rv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Rv(e.remoteStore,o)),n._onlineComponents=e}async function Kx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Vi,"Using user provided OfflineComponentProvider");try{await vd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;bo("Error using user provided cache. Falling back to memory cache: "+t),await vd(n,new jc)}}else ue(Vi,"Using default OfflineComponentProvider"),await vd(n,new qx(void 0));return n._offlineComponents}async function ST(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Vi,"Using user provided OnlineComponentProvider"),await Vv(n,n._uninitializedComponentsProvider._online)):(ue(Vi,"Using default OnlineComponentProvider"),await Vv(n,new ip))),n._onlineComponents}function Qx(n){return ST(n).then(e=>e.syncEngine)}async function Gx(n){const e=await ST(n),t=e.eventManager;return t.onListen=bx.bind(null,e.syncEngine),t.onUnlisten=Nx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Dx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Lx.bind(null,e.syncEngine),t}function Xx(n,e,t={}){const i=new Ci;return n.asyncQueue.enqueueAndForget(async()=>function(u,f,h,p,y){const v=new Hx({next:S=>{v.su(),f.enqueueAndForget(()=>Sx(u,E));const R=S.docs.has(h);!R&&S.fromCache?y.reject(new _e(te.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&p&&p.source==="server"?y.reject(new _e(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new Ax(Hp(h.path),v,{includeMetadataChanges:!0,Ta:!0});return Tx(u,E)}(await Gx(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n,e,t){if(!t)throw new _e(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Jx(n,e,t,i){if(e===!0&&i===!0)throw new _e(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Lv(n){if(!ve.isDocumentKey(n))throw new _e(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function Tu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lm(n);throw new _e(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firestore.googleapis.com",Ov=!0;class Mv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CT,this.ssl=Ov}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ov;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IP)throw new _e(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new _e(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cm{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new nk;switch(i.type){case"firstParty":return new ok(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Nv.get(t);i&&(ue("ComponentProvider","Removing Datastore"),Nv.delete(t),i.terminate())}(this),Promise.resolve()}}function Zx(n,e,t,i={}){var o;const u=(n=Tu(n,cm))._getSettings(),f=`${e}:${t}`;if(u.host!==CT&&u.host!==f&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),i.mockUserToken){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=qt.MOCK_USER;else{h=VA(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new _e(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qt(y)}n._authCredentials=new rk(new mE(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fm(this.firestore,e,this._query)}}class bn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Su extends fm{constructor(e,t,i){super(e,t,Hp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ve(e))}withConverter(e){return new Su(this.firestore,e,this._path)}}function sp(n,e,...t){if(n=kc(n),arguments.length===1&&(e=gE.newId()),Yx("doc","path",e),n instanceof cm){const i=it.fromString(e,...t);return Lv(i),new bn(n,null,new ve(i))}{if(!(n instanceof bn||n instanceof Su))throw new _e(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return Lv(i),new bn(n.firestore,n instanceof Su?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="AsyncQueue";class Uv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new aT(this,"async_queue_retry"),this.Su=()=>{const i=_d();i&&ue(Fv,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=_d();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=_d();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ci;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Wo(e))throw e;ue(Fv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(f){let h=f.message||"";return f.stack&&(h=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),h}(i);throw Kr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=im.createAndSchedule(this,e,t,i,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class hm extends cm{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Uv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uv(e),this._firestoreClient=void 0,await e}}}function eb(n,e){const t=typeof n=="object"?n:BR(),i=typeof n=="string"?n:Dc,o=FR(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=bA("firestore");u&&Zx(o,...u)}return o}function AT(n){if(n._terminated)throw new _e(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tb(n),n._firestoreClient}function tb(n){var e,t,i;const o=n._freezeSettings(),u=function(h,p,y,v){return new wk(h,p,y,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,IT(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Wx(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(Lt.fromBase64String(e))}catch(t){throw new _e(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=/^__.*__$/;class rb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}function kT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class gm{constructor(e,t,i,o,u,f){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new gm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return zc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(kT(this.Lu)&&nb.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class ib{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||lf(e)}ju(e,t,i,o=!1){return new gm({Lu:e,methodName:t,zu:i,path:Nt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sb(n){const e=n._freezeSettings(),t=lf(n._databaseId);return new ib(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ob(n,e,t,i,o,u={}){const f=n.ju(u.merge||u.mergeFields?2:0,e,t,o);DT("Data must be an object, but it was:",f,i);const h=xT(i,f);let p,y;if(u.merge)p=new Yn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const S=ab(e,E,t);if(!f.contains(S))throw new _e(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);lb(v,S)||v.push(S)}p=new Yn(v),y=f.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=f.fieldTransforms;return new rb(new xn(h),p,y)}function PT(n,e){if(bT(n=kc(n)))return DT("Unsupported field value:",e,n),xT(n,e);if(n instanceof RT)return function(i,o){if(!kT(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const u=[];let f=0;for(const h of i){let p=PT(h,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(n,e)}return function(i,o){if((i=kc(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Bk(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=vt.fromDate(i);return{timestampValue:Fc(o.serializer,u)}}if(i instanceof vt){const u=new vt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fc(o.serializer,u)}}if(i instanceof pm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mo)return{bytesValue:XE(o.serializer,i._byteString)};if(i instanceof bn){const u=o.databaseId,f=i.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof mm)return function(f,h){return{mapValue:{fields:{[IE]:{stringValue:AE},[Vc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw h.Wu("VectorValues must only contain numeric values.");return Wp(h.serializer,y)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${lm(i)}`)}(n,e)}function xT(n,e){const t={};return _E(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(n,(i,o)=>{const u=PT(o,e.qu(i));u!=null&&(t[i]=u)}),{mapValue:{fields:t}}}function bT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof pm||n instanceof Mo||n instanceof bn||n instanceof RT||n instanceof mm)}function DT(n,e,t){if(!bT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=lm(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function ab(n,e,t){if((e=kc(e))instanceof dm)return e._internalPath;if(typeof e=="string")return VT(n,e);throw zc("Field path arguments must be of type string or ",n,!1,void 0,t)}const ub=new RegExp("[~\\*/\\[\\]]");function VT(n,e,t){if(e.search(ub)>=0)throw zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dm(...e.split("."))._internalPath}catch{throw zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zc(n,e,t,i,o){const u=i&&!i.isEmpty(),f=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${i}`),f&&(p+=` in document ${o}`),p+=")"),new _e(te.INVALID_ARGUMENT,h+n+p)}function lb(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,t,i,o,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class cb extends NT{data(){return super.data()}}function LT(n,e){return typeof e=="string"?VT(n,e):e instanceof dm?e._internalPath:e._delegate._internalPath}class fb{convertValue(e,t="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ts(e,(o,u)=>{i[o]=this.convertValue(u,t)}),i}convertVectorValue(e){var t,i,o;const u=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Vc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(f=>lt(f.doubleValue));return new mm(u)}convertGeoPoint(e){return new pm(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=tf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const t=Pi(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);Fe(nT(i));const o=new _u(i.get(1),i.get(3)),u=new ve(i.popFirst(5));return o.isEqual(t)||Kr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OT extends NT{constructor(e,t,i,o,u,f){super(e,t,i,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new pb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(LT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class pb extends OT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(n){n=Tu(n,bn);const e=Tu(n.firestore,hm);return Xx(AT(e),n._key).then(t=>_b(e,n,t))}class mb extends fb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,t)}}function gb(n,e,t){n=Tu(n,bn);const i=Tu(n.firestore,hm),o=hb(n.converter,e);return yb(i,[ob(sb(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,qr.none())])}function yb(n,e){return function(i,o){const u=new Ci;return i.asyncQueue.enqueueAndForget(async()=>Ox(await Qx(i),o,u)),u.promise}(AT(n),e)}function _b(n,e,t){const i=t.docs.get(e._key),o=new mb(n);return new OT(n,o,e._key,i,new db(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){qo=o})(zR),xc(new pu("firestore",(i,{instanceIdentifier:o,options:u})=>{const f=i.getProvider("app").getImmediate(),h=new hm(new ik(i.getProvider("auth-internal")),new ak(f,i.getProvider("app-check-internal")),function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _e(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(y.options.projectId,v)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),h._setSettings(u),h},"PUBLIC").setMultipleInstances(!0)),Ro(K_,Q_,e),Ro(K_,Q_,"esm2017")})();const vb={apiKey:"AIzaSyCX00iXEka5DWeKR9Bd9kdGHX2s7Wmjs30",authDomain:"tagand-18c91.firebaseapp.com",projectId:"tagand-18c91",storageBucket:"tagand-18c91.firebasestorage.app",messagingSenderId:"G-P1LKTVJTRS",appId:"1:1043227878078:web:215f4c337795d011b6f4ef"},$v=async n=>{try{const e=await MT(sp(op,"scores",n));return e.exists()?e.data().score:0}catch(e){return console.error("  :",e),0}},wb=oE(vb),op=eb(wb),jv=[10,1e3,1e4],Eb=[0,1,2];function Tb(){const[n,e]=W.useState(0),t=IC(h=>h.counter.value),i=Fw(),o="user1",u=async h=>{try{await gb(sp(op,"scores",o),{score:h}),console.log("   Firebase:",h)}catch(p){console.error("  :",p)}},f=async()=>{try{const h=await MT(sp(op,"scores",o));return h.exists()?(console.log(" :",h.data().score),h.data().score):0}catch(h){return console.error("  :",h),0}};return W.useEffect(()=>{(async()=>{const p=await f();i(Yw(p))})()},[i]),W.useEffect(()=>{u(t)},[t]),W.useEffect(()=>{let h=0;for(let p=0;p<jv.length&&t>=jv[p];p++)h=Eb[p];h!==n&&e(h)},[t,n]),ye.jsxs("div",{className:"game-countainer",children:[ye.jsx("h1",{className:"title-game",children:"TAGAND"}),ye.jsxs("div",{className:"buttomsheet",children:[ye.jsx("div",{className:"coin-div",children:ye.jsxs("p",{className:"coin-p",children:[ye.jsx("img",{className:"coin-img",src:Jw,alt:"coin"})," : ",t]})}),ye.jsx("div",{className:"contry-div",children:L_[n]&&ye.jsx("img",{className:"contry-img",src:L_[n].size,alt:"Armenia"})}),ye.jsx("button",{onClick:()=>i(lA()),className:"game-btn",children:"+"}),ye.jsx(Dp,{})]})]})}function Sb(n){const e=Fw();return ye.jsx("div",{children:ye.jsxs("div",{className:"achive-div",onClick:()=>e(Yw(n.data.coin)),children:[ye.jsx("img",{className:"achive-img",src:n.data.img,alt:"coinapp"}),ye.jsx("p",{className:"achive-title",children:n.data.title}),ye.jsx("div",{className:"achive-coin-div",children:ye.jsx("p",{className:"achive-coin",children:n.data.coin})})]})})}function Ib(){return ye.jsxs("div",{className:"addition-countainer",children:[ye.jsx("h1",{className:"title-game",children:"TAGAND"}),ye.jsxs("div",{className:"buttomsheet",children:[ye.jsx("div",{className:"achive-countainer",children:EA.map(n=>ye.jsx(Sb,{data:n},n.id))}),ye.jsx(Dp,{})]})]})}const Cb=GC({reducer:{counter:cA}});function Ab(){return ye.jsx("div",{className:"other-countainer",children:ye.jsxs("div",{className:"div-other",children:[ye.jsx("h1",{className:"other-h1",children:"         II "}),ye.jsx("p",{className:"other-p",children:"      ,      ,      ,    !"}),ye.jsx("div",{className:"other-img-div",children:ye.jsx("img",{className:"other-img",src:Jw,alt:"coin"})}),ye.jsx(Dp,{})]})})}function Rb(){return ye.jsx("div",{children:ye.jsx(vC,{store:Cb,children:ye.jsx(K1,{children:ye.jsxs(S1,{children:[ye.jsx(cc,{path:"/",element:ye.jsx(Tb,{})}),ye.jsx(cc,{path:"/addition",element:ye.jsx(Ib,{})}),ye.jsx(cc,{path:"/other",element:ye.jsx(Ab,{})})]})})})})}function FT(n){return{lang:(n==null?void 0:n.lang)??void 0,message:n==null?void 0:n.message,abortEarly:(n==null?void 0:n.abortEarly)??void 0,abortPipeEarly:(n==null?void 0:n.abortPipeEarly)??void 0}}function kb(n,e){var t;return(t=void 0)==null?void 0:t.get(e)}function Pb(n){var e,t;const i=typeof n;return i==="string"?`"${n}"`:i==="number"||i==="bigint"||i==="boolean"?`${n}`:i==="object"||i==="function"?(n&&((t=(e=Object.getPrototypeOf(n))==null?void 0:e.constructor)==null?void 0:t.name))??"null":i}function Fo(n,e,t,i,o){const u=o&&"input"in o?o.input:t.value,f=(o==null?void 0:o.expected)??n.expects??null,h=(o==null?void 0:o.received)??Pb(u),p={kind:n.kind,type:n.type,input:u,expected:f,received:h,message:`Invalid ${e}: ${f?`Expected ${f} but r`:"R"}eceived ${h}`,requirement:n.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:i.lang,abortEarly:i.abortEarly,abortPipeEarly:i.abortPipeEarly},y=n.kind==="schema",v=(o==null?void 0:o.message)??n.message??kb(n.reference,p.lang)??(y?(p.lang,void 0):null)??i.message??(p.lang,void 0);v&&(p.message=typeof v=="function"?v(p):v),y&&(t.typed=!1),t.issues?t.issues.push(p):t.issues=[p]}function wr(n){return{version:1,vendor:"valibot",validate(e){return n["~run"]({value:e},FT())}}}function xb(n,e){return Object.hasOwn(n,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}var bb=class extends Error{constructor(n){super(n[0].message),this.name="ValiError",this.issues=n}};function ym(n,e,t){return typeof n.default=="function"?n.default(e,t):n.default}function _m(n,e){return!n["~run"]({value:e},{abortEarly:!0}).issues}function UT(){return{kind:"schema",type:"any",reference:UT,expects:"any",async:!1,get"~standard"(){return wr(this)},"~run"(n){return n.typed=!0,n}}}function ap(n){return{kind:"schema",type:"boolean",reference:ap,expects:"boolean",async:!1,message:n,get"~standard"(){return wr(this)},"~run"(e,t){return typeof e.value=="boolean"?e.typed=!0:Fo(this,"type",e,t),e}}}function vm(n){return{kind:"schema",type:"function",reference:vm,expects:"Function",async:!1,message:n,get"~standard"(){return wr(this)},"~run"(e,t){return typeof e.value=="function"?e.typed=!0:Fo(this,"type",e,t),e}}}function dr(n,e){return{kind:"schema",type:"loose_object",reference:dr,expects:"Object",async:!1,entries:n,message:e,get"~standard"(){return wr(this)},"~run"(t,i){var o;const u=t.value;if(u&&typeof u=="object"){t.typed=!0,t.value={};for(const f in this.entries){const h=this.entries[f];if(f in u||(h.type==="exact_optional"||h.type==="optional"||h.type==="nullish")&&h.default!==void 0){const p=f in u?u[f]:ym(h),y=h["~run"]({value:p},i);if(y.issues){const v={type:"object",origin:"value",input:u,key:f,value:p};for(const E of y.issues)E.path?E.path.unshift(v):E.path=[v],(o=t.issues)==null||o.push(E);if(t.issues||(t.issues=y.issues),i.abortEarly){t.typed=!1;break}}y.typed||(t.typed=!1),t.value[f]=y.value}else if(h.type!=="exact_optional"&&h.type!=="optional"&&h.type!=="nullish"&&(Fo(this,"key",t,i,{input:void 0,expected:`"${f}"`,path:[{type:"object",origin:"key",input:u,key:f,value:u[f]}]}),i.abortEarly))break}if(!t.issues||!i.abortEarly)for(const f in u)xb(u,f)&&!(f in this.entries)&&(t.value[f]=u[f])}else Fo(this,"type",t,i);return t}}}function tu(n,e){return{kind:"schema",type:"nullish",reference:tu,expects:`(${n.expects} | null | undefined)`,async:!1,wrapped:n,default:e,get"~standard"(){return wr(this)},"~run"(t,i){return(t.value===null||t.value===void 0)&&(this.default!==void 0&&(t.value=ym(this,t,i)),t.value===null||t.value===void 0)?(t.typed=!0,t):this.wrapped["~run"](t,i)}}}function up(n){return{kind:"schema",type:"number",reference:up,expects:"number",async:!1,message:n,get"~standard"(){return wr(this)},"~run"(e,t){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:Fo(this,"type",e,t),e}}}function lp(n,e){return{kind:"schema",type:"optional",reference:lp,expects:`(${n.expects} | undefined)`,async:!1,wrapped:n,default:e,get"~standard"(){return wr(this)},"~run"(t,i){return t.value===void 0&&(this.default!==void 0&&(t.value=ym(this,t,i)),t.value===void 0)?(t.typed=!0,t):this.wrapped["~run"](t,i)}}}function ps(n){return{kind:"schema",type:"string",reference:ps,expects:"string",async:!1,message:n,get"~standard"(){return wr(this)},"~run"(e,t){return typeof e.value=="string"?e.typed=!0:Fo(this,"type",e,t),e}}}function $T(){return{kind:"schema",type:"unknown",reference:$T,expects:"unknown",async:!1,get"~standard"(){return wr(this)},"~run"(n){return n.typed=!0,n}}}function zv(n,e,t){const i=n["~run"]({value:e},FT(t));if(i.issues)throw new bb(i.issues);return i.value}function Db(...n){return{...n[0],pipe:n,get"~standard"(){return wr(this)},"~run"(e,t){for(const i of n)if(i.kind!=="metadata"){if(e.issues&&(i.kind==="schema"||i.kind==="transformation")){e.typed=!1;break}(!e.issues||!t.abortEarly&&!t.abortPipeEarly)&&(e=i["~run"](e,t))}return e}}}function jT(n){return _m(dr({TelegramWebviewProxy:dr({postEvent:vm()})}),n)}function Vb(){try{return window.self!==window.top}catch{return!0}}var Nb=Object.defineProperty,Lb=(n,e,t)=>e in n?Nb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bv=(n,e,t)=>Lb(n,typeof e!="symbol"?e+"":e,t);function Ob(n){return e=>e instanceof n}function zT(n,e){e||(e=[]);class t extends Error{constructor(...o){const u=typeof e=="function"?e(...o):typeof e=="string"?[e]:e||[];super(...u),this.name=n}}return Object.defineProperty(t,"name",{value:n}),[t,Ob(t)]}const[Mb,EN]=zT("CancelledError","Promise was canceled"),[Fb,TN]=zT("TimeoutError",(n,e)=>[`Timeout reached: ${n}ms`,{cause:e}]),BT=Symbol("Resolved");function qv(n){return Array.isArray(n)&&n[0]===BT}function Ub(n){return[BT,n]}function Hv(n,e){return n.reject=e.reject,n.abort=e.abort,n}let qT=class cp extends Promise{constructor(e,t){let i,o;super((u,f)=>{let h,p;typeof e=="function"?(h=e,p=t):p=e;const y=[],v=Q=>(...P)=>{const I=Q(...P);return y.forEach(A=>A()),I},E=new AbortController,{signal:S}=E;o=Q=>{!S.aborted&&E.abort(Q)};const R=()=>S.reason,N=Q=>{const P=()=>{Q(R())};S.addEventListener("abort",P,!0);const I=()=>{S.removeEventListener("abort",P,!0)};return y.push(I),I},B=v(Q=>{u(Q),o(Ub(Q))});i=v(Q=>{f(Q),o(Q)}),p||(p={});const{abortSignal:D,rejectOnAbort:H=!0}=p;if(D)if(D.aborted){const{reason:Q}=D;if(H)return i(Q);o(Q)}else{const Q=()=>{o(D.reason)};D.addEventListener("abort",Q),y.push(()=>{D.removeEventListener("abort",Q)})}H&&N(f);const{timeout:K}=p;if(K){const Q=setTimeout(()=>{o(new Fb(K))},K);y.push(()=>{clearTimeout(Q)})}const z=()=>S.aborted,Z=()=>qv(R()),se=()=>{const Q=R();return qv(Q)?Q[1]:void 0};try{const Q=h&&h(B,i,{abortReason:R,abortSignal:S,isAborted:z,isResolved:Z,onAborted:N,onResolved:P=>N(()=>{Z()&&P(se())}),resolved:se,throwIfAborted(){if(z())throw R()}});Q instanceof Promise&&Q.catch(i)}catch(Q){i(Q)}}),Bv(this,"abort"),Bv(this,"reject"),this.abort=o,this.reject=i}static fn(e,t){return new cp(async(i,o,u)=>{try{i(await e(u))}catch(f){o(f)}},t)}static resolve(e){return this.fn(()=>e)}static reject(e){return new cp((t,i)=>{i(e)})}cancel(){this.abort(new Mb)}catch(e){return this.then(void 0,e)}finally(e){return Hv(super.finally(e),this)}then(e,t){return Hv(super.then(e,t),this)}};function HT(n){return`tapps/${n}`}function $b(n,e){sessionStorage.setItem(HT(n),JSON.stringify(e))}function jb(n){const e=sessionStorage.getItem(HT(n));try{return e?JSON.parse(e):void 0}catch{}}function zb(...n){const e=n.flat(1);return[e.push.bind(e),()=>{e.forEach(t=>{t()})}]}function Bb(n,e){const{textColor:t,bgColor:i,shouldLog:o}=e,u=o===void 0?!0:o,f=typeof u=="boolean"?()=>u:u;function h(p,y,...v){if(y||f()){const E="font-weight:bold;padding:0 5px;border-radius:5px";console[p](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${n}`,`${E};background-color: lightblue;color:black`,"",`${E};${t?`color:${t};`:""}${i?`background-color:${i}`:""}`,...v)}}return[h.bind(void 0,"log"),h.bind(void 0,"error")]}function WT(n){return{lang:(n==null?void 0:n.lang)??void 0,message:n==null?void 0:n.message,abortEarly:(n==null?void 0:n.abortEarly)??void 0,abortPipeEarly:(n==null?void 0:n.abortPipeEarly)??void 0}}function qb(n,e){var t;return(t=void 0)==null?void 0:t.get(e)}function Hb(n){var e,t;const i=typeof n;return i==="string"?`"${n}"`:i==="number"||i==="bigint"||i==="boolean"?`${n}`:i==="object"||i==="function"?(n&&((t=(e=Object.getPrototypeOf(n))==null?void 0:e.constructor)==null?void 0:t.name))??"null":i}function _n(n,e,t,i,o){const u=o&&"input"in o?o.input:t.value,f=(o==null?void 0:o.expected)??n.expects??null,h=(o==null?void 0:o.received)??Hb(u),p={kind:n.kind,type:n.type,input:u,expected:f,received:h,message:`Invalid ${e}: ${f?`Expected ${f} but r`:"R"}eceived ${h}`,requirement:n.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:i.lang,abortEarly:i.abortEarly,abortPipeEarly:i.abortPipeEarly},y=n.kind==="schema",v=(o==null?void 0:o.message)??n.message??qb(n.reference,p.lang)??(y?(p.lang,void 0):null)??i.message??(p.lang,void 0);v&&(p.message=typeof v=="function"?v(p):v),y&&(t.typed=!1),t.issues?t.issues.push(p):t.issues=[p]}function Vn(n){return{version:1,vendor:"valibot",validate(e){return n["~run"]({value:e},WT())}}}function KT(n,e){return Object.hasOwn(n,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}function Wb(n,e){const t=[...new Set(n)];return t.length>1?`(${t.join(` ${e} `)})`:t[0]??"never"}var Kb=class extends Error{constructor(n){super(n[0].message),this.name="ValiError",this.issues=n}};function QT(n,e){return{kind:"validation",type:"check",reference:QT,async:!1,expects:null,requirement:n,message:e,"~run"(t,i){return t.typed&&!this.requirement(t.value)&&_n(this,"input",t,i),t}}}function GT(n){return{kind:"validation",type:"integer",reference:GT,async:!1,expects:null,requirement:Number.isInteger,message:n,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&_n(this,"integer",e,t),e}}}function Ni(n){return{kind:"transformation",type:"transform",reference:Ni,async:!1,operation:n,"~run"(e){return e.value=this.operation(e.value),e}}}function XT(n,e,t){return typeof n.default=="function"?n.default(e,t):n.default}function Qb(n,e){return!n["~run"]({value:e},{abortEarly:!0}).issues}function nu(n){return{kind:"schema",type:"boolean",reference:nu,expects:"boolean",async:!1,message:n,get"~standard"(){return Vn(this)},"~run"(e,t){return typeof e.value=="boolean"?e.typed=!0:_n(this,"type",e,t),e}}}function YT(n){return{kind:"schema",type:"date",reference:YT,expects:"Date",async:!1,message:n,get"~standard"(){return Vn(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?_n(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:_n(this,"type",e,t),e}}}function JT(n,e){return{kind:"schema",type:"instance",reference:JT,expects:n.name,async:!1,class:n,message:e,get"~standard"(){return Vn(this)},"~run"(t,i){return t.value instanceof this.class?t.typed=!0:_n(this,"type",t,i),t}}}function wm(n){return{kind:"schema",type:"lazy",reference:wm,expects:"unknown",async:!1,getter:n,get"~standard"(){return Vn(this)},"~run"(e,t){return this.getter(e.value)["~run"](e,t)}}}function Qo(n,e){return{kind:"schema",type:"loose_object",reference:Qo,expects:"Object",async:!1,entries:n,message:e,get"~standard"(){return Vn(this)},"~run"(t,i){var o;const u=t.value;if(u&&typeof u=="object"){t.typed=!0,t.value={};for(const f in this.entries){const h=this.entries[f];if(f in u||(h.type==="exact_optional"||h.type==="optional"||h.type==="nullish")&&h.default!==void 0){const p=f in u?u[f]:XT(h),y=h["~run"]({value:p},i);if(y.issues){const v={type:"object",origin:"value",input:u,key:f,value:p};for(const E of y.issues)E.path?E.path.unshift(v):E.path=[v],(o=t.issues)==null||o.push(E);if(t.issues||(t.issues=y.issues),i.abortEarly){t.typed=!1;break}}y.typed||(t.typed=!1),t.value[f]=y.value}else if(h.type!=="exact_optional"&&h.type!=="optional"&&h.type!=="nullish"&&(_n(this,"key",t,i,{input:void 0,expected:`"${f}"`,path:[{type:"object",origin:"key",input:u,key:f,value:u[f]}]}),i.abortEarly))break}if(!t.issues||!i.abortEarly)for(const f in u)KT(u,f)&&!(f in this.entries)&&(t.value[f]=u[f])}else _n(this,"type",t,i);return t}}}function Em(n){return{kind:"schema",type:"number",reference:Em,expects:"number",async:!1,message:n,get"~standard"(){return Vn(this)},"~run"(e,t){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:_n(this,"type",e,t),e}}}function et(n,e){return{kind:"schema",type:"optional",reference:et,expects:`(${n.expects} | undefined)`,async:!1,wrapped:n,default:e,get"~standard"(){return Vn(this)},"~run"(t,i){return t.value===void 0&&(this.default!==void 0&&(t.value=XT(this,t,i)),t.value===void 0)?(t.typed=!0,t):this.wrapped["~run"](t,i)}}}function ZT(n,e,t){return{kind:"schema",type:"record",reference:ZT,expects:"Object",async:!1,key:n,value:e,message:t,get"~standard"(){return Vn(this)},"~run"(i,o){var u,f;const h=i.value;if(h&&typeof h=="object"){i.typed=!0,i.value={};for(const p in h)if(KT(h,p)){const y=h[p],v=this.key["~run"]({value:p},o);if(v.issues){const S={type:"object",origin:"key",input:h,key:p,value:y};for(const R of v.issues)R.path=[S],(u=i.issues)==null||u.push(R);if(i.issues||(i.issues=v.issues),o.abortEarly){i.typed=!1;break}}const E=this.value["~run"]({value:y},o);if(E.issues){const S={type:"object",origin:"value",input:h,key:p,value:y};for(const R of E.issues)R.path?R.path.unshift(S):R.path=[S],(f=i.issues)==null||f.push(R);if(i.issues||(i.issues=E.issues),o.abortEarly){i.typed=!1;break}}(!v.typed||!E.typed)&&(i.typed=!1),v.typed&&(i.value[v.value]=E.value)}}else _n(this,"type",i,o);return i}}}function ze(n){return{kind:"schema",type:"string",reference:ze,expects:"string",async:!1,message:n,get"~standard"(){return Vn(this)},"~run"(e,t){return typeof e.value=="string"?e.typed=!0:_n(this,"type",e,t),e}}}function Wv(n){let e;if(n)for(const t of n)e?e.push(...t.issues):e=t.issues;return e}function e0(n,e){return{kind:"schema",type:"union",reference:e0,expects:Wb(n.map(t=>t.expects),"|"),async:!1,options:n,message:e,get"~standard"(){return Vn(this)},"~run"(t,i){let o,u,f;for(const h of this.options){const p=h["~run"]({value:t.value},i);if(p.typed)if(p.issues)u?u.push(p):u=[p];else{o=p;break}else f?f.push(p):f=[p]}if(o)return o;if(u){if(u.length===1)return u[0];_n(this,"type",t,i,{issues:Wv(u)}),t.typed=!0}else{if((f==null?void 0:f.length)===1)return f[0];_n(this,"type",t,i,{issues:Wv(f)})}return t}}}function t0(){return{kind:"schema",type:"unknown",reference:t0,expects:"unknown",async:!1,get"~standard"(){return Vn(this)},"~run"(n){return n.typed=!0,n}}}function n0(n,e,t){const i=n["~run"]({value:e},WT(t));if(i.issues)throw new Kb(i.issues);return i.value}function Li(...n){return{...n[0],pipe:n,get"~standard"(){return Vn(this)},"~run"(e,t){for(const i of n)if(i.kind!=="metadata"){if(e.issues&&(i.kind==="schema"||i.kind==="transformation")){e.typed=!1;break}(!e.issues||!t.abortEarly&&!t.abortPipeEarly)&&(e=i["~run"](e,t))}return e}}}function Gb(n){return n.replace(/_[a-z]/g,e=>e[1].toUpperCase())}function Xb(n){return Object.entries(n).reduce((e,[t,i])=>(e[Gb(t)]=i,e),{})}function fp(n){const e=Xb(n);for(const t in e){const i=e[t];i&&typeof i=="object"&&!(i instanceof Date)&&(e[t]=Array.isArray(i)?i.map(fp):fp(i))}return e}function Tm(n){return Ni(e=>n?fp(e):e)}function r0(n){return e=>Li(n,Tm(e))}function Yb(n){return(e,t)=>n0(Li(n,Tm(t)),e)}function i0(){return Ni(JSON.parse)}function Sm(n){const e=r0(n);return t=>Li(ze(),i0(),e(t))}function Jb(n){return Ni(e=>{const t={};return new URLSearchParams(e).forEach((i,o)=>{const u=t[o];Array.isArray(u)?u.push(i):u===void 0?t[o]=i:t[o]=[u,i]}),n0(n,t)})}function s0(n){return e=>Li(e0([ze(),JT(URLSearchParams)]),Jb(n),Tm(e))}const Kv=et(wm(()=>r2())),Zb=Qo({id:Em(),photo_url:et(ze()),type:ze(),title:ze(),username:et(ze())}),e2=Qo({added_to_attachment_menu:et(nu()),allows_write_to_pm:et(nu()),first_name:ze(),id:Em(),is_bot:et(nu()),is_premium:et(nu()),last_name:et(ze()),language_code:et(ze()),photo_url:et(ze()),username:et(ze())}),t2=Qo({auth_date:Li(ze(),Ni(n=>new Date(Number(n)*1e3)),YT()),can_send_after:et(Li(ze(),Ni(Number),GT())),chat:et(wm(()=>n2())),chat_type:et(ze()),chat_instance:et(ze()),hash:ze(),query_id:et(ze()),receiver:Kv,start_param:et(ze()),signature:ze(),user:Kv}),n2=Sm(Zb),r2=Sm(e2),i2=s0(t2);function s2(n){return/^#[\da-f]{6}$/i.test(n)}const o2=r0(ZT(ze(),Li(ze(),QT(s2),Ni(n=>n)))),wd=et(Li(ze(),Ni(n=>n==="1"))),Qv=Sm(o2()),a2=Qo({tgWebAppBotInline:wd,tgWebAppData:et(i2()),tgWebAppDefaultColors:et(Qv()),tgWebAppFullscreen:wd,tgWebAppPlatform:ze(),tgWebAppShowSettings:wd,tgWebAppStartParam:et(ze()),tgWebAppThemeParams:Qv(),tgWebAppVersion:ze()}),o0=s0(a2),u2=Yb(o0()),l2=Qo({eventType:ze(),eventData:et(t0())});function c2(n){try{return Qb(o0(),n)}catch{return!1}}function f2(n){return{all:n=n||new Map,on:function(e,t){var i=n.get(e);i?i.push(t):n.set(e,[t])},off:function(e,t){var i=n.get(e);i&&(t?i.splice(i.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var i=n.get(e);i&&i.slice().map(function(o){o(t)}),(i=n.get("*"))&&i.slice().map(function(o){o(e,t)})}}}function h2(n,e){const t=f2(),i=new Map,o=(u,f,h)=>{h||(h=!1);const p=i.get(u)||new Map;i.set(u,p);const y=p.get(f)||[];p.set(f,y);const v=y.findIndex(E=>E[1]===h);v>=0&&(t.off(u,y[v][0]),y.splice(v,1),!y.length&&p.delete(f),p.size||(i.delete(u),!i.size&&e()))};return[function(u,f,h){!i.size&&n();function p(){o(u,f,h)}function y(...S){h&&p(),u==="*"?f(S):f(...S)}t.on(u,y);const v=i.get(u)||new Map;i.set(u,v);const E=v.get(f)||[];return v.set(f,E),E.push([y,h||!1]),p},o,t.emit,function(){const u=t.all.size;t.all.clear(),i.clear(),u&&e()}]}function Gv(n,e){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:n,eventData:e}),source:window.parent}))}let d2=!1;const[p2,m2]=Bb("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog(){return d2}}),g2={clipboard_text_received:dr({req_id:ps(),data:tu(ps())}),custom_method_invoked:dr({req_id:ps(),result:lp($T()),error:lp(ps())}),popup_closed:tu(dr({button_id:tu(ps(),()=>{})}),{}),viewport_changed:dr({height:up(),width:tu(up(),()=>window.innerWidth),is_state_stable:ap(),is_expanded:ap()})};function Xv(n){if(n.source!==window.parent)return;let e;try{e=zv(Db(ps(),i0(),l2),n.data)}catch{return}const{eventType:t,eventData:i}=e,o=g2[t];try{const u=o?zv(o,i):i;y2(t,u)}catch(u){m2(!0,[`An error occurred processing the "${t}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),e,u)}}const[Wt,Nu,y2,SN]=h2(()=>{const n=window,e={receiveEvent:Gv};n.TelegramGameProxy_receiveEvent=Gv,n.TelegramGameProxy=e,n.Telegram={WebView:e},window.addEventListener("message",Xv)},()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(n=>{delete window[n]}),window.removeEventListener("message",Xv)});function _2(n){return e=>e instanceof n}function Go(n,e){e||(e=[]);class t extends Error{constructor(...o){const u=typeof e=="function"?e(...o):typeof e=="string"?[e]:e||[];super(...u),this.name=n}}return Object.defineProperty(t,"name",{value:n}),[t,_2(t)]}const[v2,IN]=Go("MethodUnsupportedError",(n,e)=>[`Method "${n}" is unsupported in Mini Apps version ${e}`]),[w2,CN]=Go("MethodParameterUnsupportedError",(n,e,t)=>[`Parameter "${e}" of "${n}" method is unsupported in Mini Apps version ${t}`]),E2=["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?"," Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment"].join(`
`),[T2,AN]=Go("LaunchParamsRetrieveError",E2);Go("InvalidLaunchParamsError",n=>[`Invalid value for launch params: ${n}`]);const[S2,RN]=Go("UnknownEnvError"),[I2,kN]=Go("InvokeCustomMethodError",n=>[`Server returned error: ${n}`]);function C2(n,e){e()}function A2(n,e){e||(e={});const t=e.equals||Object.is;let i=[],o=n;const u=y=>{if(!t(o,y)){const v=o;o=y,C2(p,()=>{[...i].forEach(([E,S])=>{E(y,v),S&&h(E,!0)})})}};function f(y){const v=typeof y!="object"?{once:y}:y;return{once:v.once||!1,signal:v.signal||!1}}const h=(y,v)=>{const E=f(v),S=i.findIndex(([R,N])=>R===y&&N.once===E.once&&N.signal===E.signal);S>=0&&i.splice(S,1)},p=Object.assign(function(){return R2(p),o},{destroy(){i=[]},set:u,reset(){u(n)},sub(y,v){return i.push([y,f(v)]),()=>h(y,v)},unsub:h,unsubAll(){i=i.filter(y=>y[1].signal)}});return p}const Ed=[];function R2(n){Ed.length&&Ed[Ed.length-1].add(n)}const k2=A2("https://web.telegram.org");function Im(n,e){p2(!1,"Posting event:",e?{eventType:n,eventData:e}:{eventType:n});const t=window,i=JSON.stringify({eventType:n,eventData:e});if(Vb())return t.parent.postMessage(i,k2());if(jT(t)){t.TelegramWebviewProxy.postEvent(n,JSON.stringify(e));return}if(_m(dr({external:dr({notify:vm()})}),t)){t.external.notify(i);return}throw new S2}function Cm(n,e,t){t||(t={});const{capture:i}=t,[o,u]=zb();return new qT(f=>{(Array.isArray(e)?e:[e]).forEach(h=>{o(Wt(h,p=>{(!i||(Array.isArray(e)?i({event:h,payload:p}):i(p)))&&f(p)}))}),(t.postEvent||Im)(n,t.params)},t).finally(u)}const Yv="launchParams";function Jv(n){return n.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function P2(){for(const n of[()=>Jv(window.location.href),()=>{const e=performance.getEntriesByType("navigation")[0];return e&&Jv(e.name)},()=>jb(Yv)]){const e=n();if(e&&c2(e))return $b(Yv,e),e}throw new T2}function a0(n){return u2(P2())}function Zv(n,e){try{return a0(),!0}catch{return!1}return qT.fn(async t=>{if(jT(window))return!0;try{return await Cm("web_app_request_theme","theme_changed",t),!0}catch{return!1}},{timeout:100})}function x2(n){return({req_id:e})=>e===n}function ew(n){return n.split(".").map(Number)}function b2(n,e){const t=ew(n),i=ew(e),o=Math.max(t.length,i.length);for(let u=0;u<o;u+=1){const f=t[u]||0,h=i[u]||0;if(f!==h)return f>h?1:-1}return 0}function Bt(n,e){return b2(n,e)<=0}function Uo(n,e,t){if(typeof t=="string"){if(n==="web_app_open_link"){if(e==="try_instant_view")return Bt("6.4",t);if(e==="try_browser")return Bt("7.6",t)}if(n==="web_app_set_header_color"&&e==="color")return Bt("6.9",t);if(n==="web_app_close"&&e==="return_back")return Bt("7.6",t);if(n==="web_app_setup_main_button"&&e==="has_shine_effect")return Bt("7.10",t)}switch(n){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return Bt("6.1",e);case"web_app_open_popup":return Bt("6.2",e);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return Bt("6.4",e);case"web_app_switch_inline_query":return Bt("6.7",e);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return Bt("6.9",e);case"web_app_setup_settings_button":return Bt("6.10",e);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return Bt("7.2",e);case"web_app_setup_swipe_behavior":return Bt("7.7",e);case"web_app_share_to_story":return Bt("7.8",e);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return Bt("7.10",e);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return Bt("8.0",e);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(n)}}function D2(n,e){e||(e="strict");const t=typeof e=="function"?e:i=>{const{method:o,version:u}=i,f="param"in i?new w2(o,i.param,u):new v2(o,u);if(e==="strict")throw f;return console.warn(f.message)};return(i,o)=>Uo(i,n)?i==="web_app_set_header_color"&&_m(dr({color:UT()}),o)&&!Uo(i,"color",n)?t({version:n,method:i,param:"color"}):Im(i,o):t({version:n,method:i})}function V2(n,e,t,i){return Cm("web_app_invoke_custom_method","custom_method_invoked",{...i,params:{method:n,params:e,req_id:t},capture:x2(t)}).then(({result:o,error:u})=>{if(u)throw new I2(u);return o})}function u0(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function N2(n){return n.replace(/_([a-z])/g,(e,t)=>`-${t.toLowerCase()}`)}function l0(n){return`tapps/${n}`}function Jn(n,e){sessionStorage.setItem(l0(n),JSON.stringify(e))}function Zn(n){const e=sessionStorage.getItem(l0(n));try{return e?JSON.parse(e):void 0}catch{}}function Am(...n){const e=n.flat(1);return[e.push.bind(e),()=>{e.forEach(t=>{t()})}]}function L2(n,e){const{textColor:t,bgColor:i,shouldLog:o}=e,u=o===void 0?!0:o,f=typeof u=="boolean"?()=>u:u;function h(p,y,...v){if(y||f()){const E="font-weight:bold;padding:0 5px;border-radius:5px";console[p](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${n}`,`${E};background-color: lightblue;color:black`,"",`${E};${t?`color:${t};`:""}${i?`background-color:${i}`:""}`,...v)}}return[h.bind(void 0,"log"),h.bind(void 0,"error")]}function O2(){return performance.getEntriesByType("navigation")[0]}function er(){const n=O2();return!!n&&n.type==="reload"}let Ao;function M2(n,e){Ao&&Ao.set(n,e)||e()}function hp(n){if(Ao)return n();Ao=new Map;try{n()}finally{Ao.forEach(e=>e()),Ao=void 0}}function c0(n,e){e||(e={});const t=e.equals||Object.is;let i=[],o=n;const u=y=>{if(!t(o,y)){const v=o;o=y,M2(p,()=>{[...i].forEach(([E,S])=>{E(y,v),S&&h(E,!0)})})}};function f(y){const v=typeof y!="object"?{once:y}:y;return{once:v.once||!1,signal:v.signal||!1}}const h=(y,v)=>{const E=f(v),S=i.findIndex(([R,N])=>R===y&&N.once===E.once&&N.signal===E.signal);S>=0&&i.splice(S,1)},p=Object.assign(function(){return F2(p),o},{destroy(){i=[]},set:u,reset(){u(n)},sub(y,v){return i.push([y,f(v)]),()=>h(y,v)},unsub:h,unsubAll(){i=i.filter(y=>y[1].signal)}});return p}const au=[];function F2(n){au.length&&au[au.length-1].add(n)}function U2(n,e){let t=new Set,i;function o(){return i||(i=c0(f(),e))}function u(){o().set(f())}function f(){t.forEach(y=>{y.unsub(u,{signal:!0})});const h=new Set;let p;au.push(h);try{p=n()}finally{au.pop()}return h.forEach(y=>{y.sub(u,{signal:!0})}),t=h,p}return Object.assign(function(){return o()()},{destroy(){o().destroy()},sub(...h){return o().sub(...h)},unsub(...h){o().unsub(...h)},unsubAll(...h){o().unsubAll(...h)}})}function Xo(n,e){return c0(n,e)}function st(n,e){return U2(n,e)}function We(n,e){const t=Xo(n,e);return[t,st(t)]}let $2=!1;const[dp,PN]=L2("SDK",{bgColor:"forestgreen",textColor:"white",shouldLog(){return $2}}),Td=Xo(0),f0=Xo(Im),[tw,h0]=We({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),ms=st(()=>h0().tgWebAppVersion);function j2(n){n||(n={});const{postEvent:e}=n,t=n.launchParams||a0();tw.set(t),f0.set(typeof e=="function"?e:D2(t.tgWebAppVersion)),dp(!1,"The package was configured. Launch params:",tw())}function z2(){return Td.set(Td()+1),Td().toString()}function Lu(n,e,t){return V2(n,e,z2(),{...t||{},postEvent:Ke})}const Rt=(n,e,t)=>(t||(t={}),t.postEvent||(t.postEvent=Ke),Cm(n,e,t)),Ke=(n,e)=>f0()(n,e);function B2(n){return e=>e instanceof n}function Er(n,e){e||(e=[]);class t extends Error{constructor(...o){const u=typeof e=="function"?e(...o):typeof e=="string"?[e]:e||[];super(...u),this.name=n}}return Object.defineProperty(t,"name",{value:n}),[t,B2(t)]}function As(n){return[n]}const[Rm,xN]=Er("CSSVarsBoundError","CSS variables are already bound"),[d0,bN]=Er("NotAvailableError",As);Er("InvalidEnvError",As);const[Xa,DN]=Er("FunctionNotAvailableError",As),[jr,VN]=Er("InvalidArgumentsError",(n,e)=>[n,{cause:e}]),[q2,NN]=Er("ConcurrentCallError",As),[H2,LN]=Er("SetEmojiStatusError",n=>[`Failed to set emoji status: ${n}`]),[W2,ON]=Er("AccessDeniedError",As),[K2,MN]=Er("FullscreenFailedError",As);Er("ShareMessageError",As);function nw(){return typeof window>"u"}function km(n,e,t){t||(t={});const{isSupported:i,isMounted:o,isMounting:u,component:f,supports:h}=t||{},p=`${f?`${f}.`:""}${n}()`,y=i?Array.isArray(i)||typeof i=="object"&&"any"in i?i:[i]:void 0;function v(K){if(h){const z=h[K];return Uo(z[0],z[1],ms())}return!0}function E(){if(!y)return;function K(se){return typeof se=="function"?se():Uo(se,ms())?void 0:`it is unsupported in Mini Apps version ${ms()}`}const z=Array.isArray(y)?y:y.any,Z=z.map(K).filter(Boolean);return Array.isArray(y)?Z[0]:Z.length===z.length?Z[Z.length-1]:void 0}function S(...K){for(const z in h)if(h[z][2](...K)&&!v(z))return`option ${z} is not supported in Mini Apps version ${ms()}`}let R;if(h){R={};for(const K in h)R[K]=st(()=>v(K))}const N=st(()=>!E()),B=st(()=>ms()!=="0.0"),D=st(()=>!o||o()),H=st(()=>Zv()&&!nw()&&B()&&N()&&D());return Object.assign((...K)=>{const z=`Unable to call the ${p} ${f?"method":"function"}:`;if(nw()||!Zv())throw new Xa(`${z} it can't be called outside Mini Apps`);if(!B())throw new Xa(`${z} the SDK was not initialized. Use the SDK init() function`);const Z=E();if(Z)throw new Xa(`${z} ${Z}`);const se=S(...K);if(se)throw new Xa(`${z} ${se}`);if(!D()){const Q=u&&u()?"mounting. Wait for the mount completion":`unmounted. Use the ${f}.mount() method`;throw new Xa(`${z} the component is ${Q}`)}return e(...K)},e,{isAvailable:H,ifAvailable(...K){return H()?[!0,e(...K)]:[!1]}},y?{isSupported:N}:{},R?{supports:R}:{})}function hf(n,e){return e||(e={}),(t,i,o,u)=>km(t,i,{...e,isSupported:o||e.isSupported,supports:u,component:n})}function Oi(n,e,t){return hf(n,{isSupported:t,isMounted:e})}function vn(n,e){return hf(n,{isSupported:e})}const Pm="web_app_setup_back_button",p0="back_button_pressed",df="backButton",[rw,FN]=We(!1),[pp,UN]=We(!1),m0=Oi(df,pp,Pm),xm=vn(df,Pm);m0("hide",()=>{bm(!1)});xm("mount",()=>{pp()||(bm(er()&&Zn(df)||!1),pp.set(!0))});function bm(n){n!==rw()&&(Ke(Pm,{is_visible:n}),Jn(df,n),rw.set(n))}xm("onClick",n=>Wt(p0,n));xm("offClick",n=>{Nu(p0,n)});m0("show",()=>{bm(!0)});var Q2=Object.defineProperty,G2=(n,e,t)=>e in n?Q2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,mp=(n,e,t)=>G2(n,typeof e!="symbol"?e+"":e,t);function X2(n){return e=>e instanceof n}function g0(n,e){e||(e=[]);class t extends Error{constructor(...o){const u=typeof e=="function"?e(...o):typeof e=="string"?[e]:e||[];super(...u),this.name=n}}return Object.defineProperty(t,"name",{value:n}),[t,X2(t)]}const[Y2,J2]=g0("CancelledError","Promise was canceled"),[Z2,$N]=g0("TimeoutError",(n,e)=>[`Timeout reached: ${n}ms`,{cause:e}]),y0=Symbol("Resolved");function iw(n){return Array.isArray(n)&&n[0]===y0}function eD(n){return[y0,n]}function sw(n,e){return n.reject=e.reject,n.abort=e.abort,n}let Kt=class gp extends Promise{constructor(e,t){let i,o;super((u,f)=>{let h,p;typeof e=="function"?(h=e,p=t):p=e;const y=[],v=Q=>(...P)=>{const I=Q(...P);return y.forEach(A=>A()),I},E=new AbortController,{signal:S}=E;o=Q=>{!S.aborted&&E.abort(Q)};const R=()=>S.reason,N=Q=>{const P=()=>{Q(R())};S.addEventListener("abort",P,!0);const I=()=>{S.removeEventListener("abort",P,!0)};return y.push(I),I},B=v(Q=>{u(Q),o(eD(Q))});i=v(Q=>{f(Q),o(Q)}),p||(p={});const{abortSignal:D,rejectOnAbort:H=!0}=p;if(D)if(D.aborted){const{reason:Q}=D;if(H)return i(Q);o(Q)}else{const Q=()=>{o(D.reason)};D.addEventListener("abort",Q),y.push(()=>{D.removeEventListener("abort",Q)})}H&&N(f);const{timeout:K}=p;if(K){const Q=setTimeout(()=>{o(new Z2(K))},K);y.push(()=>{clearTimeout(Q)})}const z=()=>S.aborted,Z=()=>iw(R()),se=()=>{const Q=R();return iw(Q)?Q[1]:void 0};try{const Q=h&&h(B,i,{abortReason:R,abortSignal:S,isAborted:z,isResolved:Z,onAborted:N,onResolved:P=>N(()=>{Z()&&P(se())}),resolved:se,throwIfAborted(){if(z())throw R()}});Q instanceof Promise&&Q.catch(i)}catch(Q){i(Q)}}),mp(this,"abort"),mp(this,"reject"),this.abort=o,this.reject=i}static fn(e,t){return new gp(async(i,o,u)=>{try{i(await e(u))}catch(f){o(f)}},t)}static resolve(e){return this.fn(()=>e)}static reject(e){return new gp((t,i)=>{i(e)})}cancel(){this.abort(new Y2)}catch(e){return this.then(void 0,e)}finally(e){return sw(super.finally(e),this)}then(e,t){return sw(super.then(e,t),this)}};function ow(n,e){return n.resolve=e.resolve,n}let tD=class yp extends Kt{constructor(e,t){let i,o;typeof e=="function"?(i=e,o=t):o=e;let u;super((f,h,p)=>{u=f,i&&i(f,h,p)},o),mp(this,"resolve"),this.resolve=u}static fn(e,t){return new yp((i,o,u)=>{try{Promise.resolve(e(u)).then(i,o)}catch(f){o(f)}},t)}static resolve(e){return this.fn(()=>e)}static reject(e){return new yp((t,i)=>{i(e)})}catch(e){return this.then(void 0,e)}finally(e){return ow(super.finally(e),this)}then(e,t){return ow(super.then(e,t),this)}};function un(n,e,t){t||(t={});const{promise:i,error:o}=t,[u,f]=i?[i,st(i)]:We(),[h,p]=o?[o,st(o)]:We();return[Object.assign((...y)=>{if(u()){const E=new q2(e);return h.set(E),Kt.reject(E)}hp(()=>{u.set(n(...y)),h.set(void 0)});let v;return u().catch(E=>{throw v=E,E}).finally(()=>{hp(()=>{u.set(void 0),h.set(v)})})},n),[u,f,st(()=>!!u())],[h,p]]}function Ou(n,e,t){const[i,...o]=un(e,`The ${n} component is already mounting`),[u,f]=We(!1);return[(...h)=>u()?Kt.resolve():i(...h).then(p=>{hp(()=>{u.set(!0),t(p)})}),...o,[u,f]]}const[_0,jN]=We({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),aw="web_app_biometry_get_info",nD=km("requestBiometry",n=>Rt(aw,"biometry_info_received",n),{isSupported:aw});function v0(n){if(!J2(n))throw n}function w0(n){const e=n();e&&e.catch(v0).cancel()}const Iu="biometry",Dm="web_app_biometry_request_auth",E0="biometry_info_received",rD=n=>{pf(Vm(n))};function T0(){throw new d0("Biometry is not available")}function Vm(n){let e=!1,t=!1,i="",o=!1,u="",f=!1;return n.available&&(e=!0,t=n.token_saved,i=n.device_id,o=n.access_requested,u=n.type,f=n.access_granted),{available:e,tokenSaved:t,deviceId:i,type:u,accessGranted:f,accessRequested:o}}const[iD,zN,BN,sD]=Ou(Iu,n=>{const e=er()&&Zn(Iu);return e?Kt.resolve(e):nD({abortSignal:n}).then(Vm)},n=>{Wt(E0,rD),pf(n)}),S0=vn(Iu,Dm),Nm=Oi(Iu,sD[0],Dm);S0("mount",iD);const[oD,qN,HN]=un(n=>Kt.fn(async e=>{const t=_0();t.available||T0();const i=await Rt(Dm,"biometry_auth_requested",{...n,...e,params:{reason:((n||{}).reason||"").trim()}}),{token:o}=i;return typeof o=="string"&&pf({...t,token:o}),i},n),"Biometry authentication is already in progress");Nm("authenticate",oD);S0("openSettings",()=>{Ke("web_app_biometry_open_settings")});const[aD,WN,KN]=un(n=>Kt.fn(async e=>{const t=await Rt("web_app_biometry_request_access",E0,{...n,...e,params:{reason:(n||{}).reason||""}}).then(Vm);return t.available||T0(),pf(t),t.accessGranted},n),"Biometry access request is already in progress");Nm("requestAccess",aD);function pf(n){_0.set(n),Jn(Iu,n)}Nm("updateToken",n=>(n||(n={}),Rt("web_app_biometry_update_token","biometry_token_updated",{...n,params:{token:n.token||"",reason:n.reason}}).then(e=>e.status)));function mf(n,e){return hf(n,{isMounted:e})}const Mi=hf,gf="closingBehavior",[uw,QN]=We(!1),[lw,uD]=We(!1),I0=mf(gf,uD),lD=Mi(gf);I0("disableConfirmation",()=>{Lm(!1)});I0("enableConfirmation",()=>{Lm(!0)});lD("mount",()=>{lw()||(Lm(er()&&Zn(gf)||!1),lw.set(!0))});function Lm(n){n!==uw()&&(Ke("web_app_setup_closing_behavior",{need_confirmation:n}),Jn(gf,n),uw.set(n))}function C0(n){return{lang:(n==null?void 0:n.lang)??void 0,message:n==null?void 0:n.message,abortEarly:(n==null?void 0:n.abortEarly)??void 0,abortPipeEarly:(n==null?void 0:n.abortPipeEarly)??void 0}}function cD(n,e){var t;return(t=void 0)==null?void 0:t.get(e)}function fD(n){var e,t;const i=typeof n;return i==="string"?`"${n}"`:i==="number"||i==="bigint"||i==="boolean"?`${n}`:i==="object"||i==="function"?(n&&((t=(e=Object.getPrototypeOf(n))==null?void 0:e.constructor)==null?void 0:t.name))??"null":i}function Dn(n,e,t,i,o){const u=o&&"input"in o?o.input:t.value,f=(o==null?void 0:o.expected)??n.expects??null,h=(o==null?void 0:o.received)??fD(u),p={kind:n.kind,type:n.type,input:u,expected:f,received:h,message:`Invalid ${e}: ${f?`Expected ${f} but r`:"R"}eceived ${h}`,requirement:n.requirement,path:o==null?void 0:o.path,issues:o==null?void 0:o.issues,lang:i.lang,abortEarly:i.abortEarly,abortPipeEarly:i.abortPipeEarly},y=n.kind==="schema",v=(o==null?void 0:o.message)??n.message??cD(n.reference,p.lang)??(y?(p.lang,void 0):null)??i.message??(p.lang,void 0);v&&(p.message=typeof v=="function"?v(p):v),y&&(t.typed=!1),t.issues?t.issues.push(p):t.issues=[p]}function Tr(n){return{version:1,vendor:"valibot",validate(e){return n["~run"]({value:e},C0())}}}function A0(n,e){return Object.hasOwn(n,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}function hD(n,e){const t=[...new Set(n)];return t.length>1?`(${t.join(` ${e} `)})`:t[0]??"never"}var _p=class extends Error{constructor(n){super(n[0].message),this.name="ValiError",this.issues=n}};function R0(n,e){return{kind:"validation",type:"check",reference:R0,async:!1,expects:null,requirement:n,message:e,"~run"(t,i){return t.typed&&!this.requirement(t.value)&&Dn(this,"input",t,i),t}}}function k0(n){return{kind:"transformation",type:"transform",reference:k0,async:!1,operation:n,"~run"(e){return e.value=this.operation(e.value),e}}}function P0(n,e,t){return typeof n.default=="function"?n.default(e,t):n.default}function x0(n,e){return{kind:"schema",type:"array",reference:x0,expects:"Array",async:!1,item:n,message:e,get"~standard"(){return Tr(this)},"~run"(t,i){var o;const u=t.value;if(Array.isArray(u)){t.typed=!0,t.value=[];for(let f=0;f<u.length;f++){const h=u[f],p=this.item["~run"]({value:h},i);if(p.issues){const y={type:"array",origin:"value",input:u,key:f,value:h};for(const v of p.issues)v.path?v.path.unshift(y):v.path=[y],(o=t.issues)==null||o.push(v);if(t.issues||(t.issues=p.issues),i.abortEarly){t.typed=!1;break}}p.typed||(t.typed=!1),t.value.push(p.value)}}else Dn(this,"type",t,i);return t}}}function b0(n){return{kind:"schema",type:"date",reference:b0,expects:"Date",async:!1,message:n,get"~standard"(){return Tr(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?Dn(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:Dn(this,"type",e,t),e}}}function D0(n,e){return{kind:"schema",type:"instance",reference:D0,expects:n.name,async:!1,class:n,message:e,get"~standard"(){return Tr(this)},"~run"(t,i){return t.value instanceof this.class?t.typed=!0:Dn(this,"type",t,i),t}}}function vp(n,e){return{kind:"schema",type:"loose_object",reference:vp,expects:"Object",async:!1,entries:n,message:e,get"~standard"(){return Tr(this)},"~run"(t,i){var o;const u=t.value;if(u&&typeof u=="object"){t.typed=!0,t.value={};for(const f in this.entries){const h=this.entries[f];if(f in u||(h.type==="exact_optional"||h.type==="optional"||h.type==="nullish")&&h.default!==void 0){const p=f in u?u[f]:P0(h),y=h["~run"]({value:p},i);if(y.issues){const v={type:"object",origin:"value",input:u,key:f,value:p};for(const E of y.issues)E.path?E.path.unshift(v):E.path=[v],(o=t.issues)==null||o.push(E);if(t.issues||(t.issues=y.issues),i.abortEarly){t.typed=!1;break}}y.typed||(t.typed=!1),t.value[f]=y.value}else if(h.type!=="exact_optional"&&h.type!=="optional"&&h.type!=="nullish"&&(Dn(this,"key",t,i,{input:void 0,expected:`"${f}"`,path:[{type:"object",origin:"key",input:u,key:f,value:u[f]}]}),i.abortEarly))break}if(!t.issues||!i.abortEarly)for(const f in u)A0(u,f)&&!(f in this.entries)&&(t.value[f]=u[f])}else Dn(this,"type",t,i);return t}}}function V0(n){return{kind:"schema",type:"number",reference:V0,expects:"number",async:!1,message:n,get"~standard"(){return Tr(this)},"~run"(e,t){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:Dn(this,"type",e,t),e}}}function N0(n,e){return{kind:"schema",type:"optional",reference:N0,expects:`(${n.expects} | undefined)`,async:!1,wrapped:n,default:e,get"~standard"(){return Tr(this)},"~run"(t,i){return t.value===void 0&&(this.default!==void 0&&(t.value=P0(this,t,i)),t.value===void 0)?(t.typed=!0,t):this.wrapped["~run"](t,i)}}}function L0(n,e,t){return{kind:"schema",type:"record",reference:L0,expects:"Object",async:!1,key:n,value:e,message:t,get"~standard"(){return Tr(this)},"~run"(i,o){var u,f;const h=i.value;if(h&&typeof h=="object"){i.typed=!0,i.value={};for(const p in h)if(A0(h,p)){const y=h[p],v=this.key["~run"]({value:p},o);if(v.issues){const S={type:"object",origin:"key",input:h,key:p,value:y};for(const R of v.issues)R.path=[S],(u=i.issues)==null||u.push(R);if(i.issues||(i.issues=v.issues),o.abortEarly){i.typed=!1;break}}const E=this.value["~run"]({value:y},o);if(E.issues){const S={type:"object",origin:"value",input:h,key:p,value:y};for(const R of E.issues)R.path?R.path.unshift(S):R.path=[S],(f=i.issues)==null||f.push(R);if(i.issues||(i.issues=E.issues),o.abortEarly){i.typed=!1;break}}(!v.typed||!E.typed)&&(i.typed=!1),v.typed&&(i.value[v.value]=E.value)}}else Dn(this,"type",i,o);return i}}}function Gn(n){return{kind:"schema",type:"string",reference:Gn,expects:"string",async:!1,message:n,get"~standard"(){return Tr(this)},"~run"(e,t){return typeof e.value=="string"?e.typed=!0:Dn(this,"type",e,t),e}}}function cw(n){let e;if(n)for(const t of n)e?e.push(...t.issues):e=t.issues;return e}function O0(n,e){return{kind:"schema",type:"union",reference:O0,expects:hD(n.map(t=>t.expects),"|"),async:!1,options:n,message:e,get"~standard"(){return Tr(this)},"~run"(t,i){let o,u,f;for(const h of this.options){const p=h["~run"]({value:t.value},i);if(p.typed)if(p.issues)u?u.push(p):u=[p];else{o=p;break}else f?f.push(p):f=[p]}if(o)return o;if(u){if(u.length===1)return u[0];Dn(this,"type",t,i,{issues:cw(u)}),t.typed=!0}else{if((f==null?void 0:f.length)===1)return f[0];Dn(this,"type",t,i,{issues:cw(f)})}return t}}}function Om(n,e,t){const i=n["~run"]({value:e},C0(t));if(i.issues)throw new _p(i.issues);return i.value}function vc(...n){return{...n[0],pipe:n,get"~standard"(){return Tr(this)},"~run"(e,t){for(const i of n)if(i.kind!=="metadata"){if(e.issues&&(i.kind==="schema"||i.kind==="transformation")){e.typed=!1;break}(!e.issues||!t.abortEarly&&!t.abortPipeEarly)&&(e=i["~run"](e,t))}return e}}}const dD="web_app_invoke_custom_method",Mu=vn("cloudStorage",dD),pD=Mu("deleteItem",(n,e)=>{const t=Array.isArray(n)?n:[n];return t.length?Lu("deleteStorageValues",{keys:t},e).then():Kt.resolve()});function mD(n,e){const t=Array.isArray(n)?n:[n];return t.length?Lu("getStorageValues",{keys:t},e).then(i=>Om(L0(vc(Gn(),R0(o=>t.includes(o))),Gn()),i)):Kt.resolve(typeof n=="string"?"":{})}Mu("getItem",mD);const gD=Mu("getKeys",n=>Lu("getStorageKeys",{},n).then(e=>Om(x0(Gn()),e)));Mu("setItem",(n,e,t)=>Lu("saveStorageValue",{key:n,value:e},t).then());Mu("clear",n=>gD(n).then(pD));const yf="web_app_trigger_haptic_feedback",Mm=vn("hapticFeedback",yf);Mm("impactOccurred",n=>{Ke(yf,{type:"impact",impact_style:n})});Mm("notificationOccurred",n=>{Ke(yf,{type:"notification",notification_type:n})});Mm("selectionChanged",()=>{Ke(yf,{type:"selection_change"})});const M0="web_app_open_invoice",yD=vn("invoice",M0);function _D(n,e,t){let i;if(e==="url"){const{hostname:o,pathname:u}=new URL(n,window.location.href);if(o!=="t.me")throw new jr(`Link has unexpected hostname: ${o}`);const f=u.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!f)throw new jr('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,i]=f}else i=n,t=e;return Rt(M0,"invoice_closed",{...t,params:{slug:i},capture:o=>i===o.slug}).then(o=>o.status)}const[vD,GN,XN]=un(_D,"Invoice is already opened");yD("open",vD);const uu="locationManager",F0="web_app_check_location",fw="web_app_open_location_settings",wp=Xo({available:!1,accessGranted:!1,accessRequested:!1});function wD(n){let e=!1,t,i;return n.available&&(e=!0,t=n.access_requested,i=n.access_granted),{available:e,accessGranted:i||!1,accessRequested:t||!1}}const[ED,YN,JN,TD]=Ou(uu,n=>{const e=er()&&Zn(uu);return e?Kt.resolve(e):Rt("web_app_check_location","location_checked",n).then(wD)},n=>{wp.set(n),Jn(uu,n)}),U0=vn(uu,F0),SD=Oi(uu,TD[0],F0);U0("mount",ED);const[ID,ZN,eL]=un(n=>Rt("web_app_request_location","location_requested",n).then(e=>{if(!e.available)throw wp.set({...wp(),available:!1}),new d0("Location data tracking is not available");const{available:t,...i}=e;return i}),"Location request is currently in progress");SD("requestLocation",ID);U0("openSettings",()=>{Ke(fw)},fw);function Fm(n){const e={};for(const t in n){const i=n[t];i!==void 0&&(e[t]=i)}return e}function CD(n){return{lang:(n==null?void 0:n.lang)??void 0,message:n==null?void 0:n.message,abortEarly:(n==null?void 0:n.abortEarly)??void 0,abortPipeEarly:(n==null?void 0:n.abortPipeEarly)??void 0}}var AD=class extends Error{constructor(n){super(n[0].message),this.name="ValiError",this.issues=n}};function Um(n){return{kind:"transformation",type:"transform",reference:Um,async:!1,operation:n,"~run"(e){return e.value=this.operation(e.value),e}}}function RD(n,e,t){const i=n["~run"]({value:e},CD(t));if(i.issues)throw new AD(i.issues);return i.value}function kD(){return Um(JSON.parse)}function PD(n){return Um(e=>{const t={};return new URLSearchParams(e).forEach((i,o)=>{const u=t[o];Array.isArray(u)?u.push(i):u===void 0?t[o]=i:t[o]=[u,i]}),RD(n,t)})}function Cu(n){return/^#[\da-f]{6}$/i.test(n)}function xD(n){return/^#[\da-f]{3}$/i.test(n)}function bD(n){const e=n.replace(/\s/g,"").toLowerCase();if(Cu(e))return e;if(xD(e)){let i="#";for(let o=0;o<3;o+=1)i+=e[1+o].repeat(2);return i}const t=e.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||e.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!t)throw new Error(`Value "${n}" does not satisfy any of known RGB formats.`);return t.slice(1).reduce((i,o)=>i+parseInt(o,10).toString(16).padStart(2,"0"),"#")}function DD(n){const e=bD(n);return Math.sqrt([.299,.587,.114].reduce((t,i,o)=>{const u=parseInt(e.slice(1+o*2,1+(o+1)*2),16);return t+u*u*i},0))<120}const[Sd,tL]=We(!1),[Po,nL]=We({});function Fu(n){return st(()=>Po()[n])}const $0=Fu("bgColor"),j0=Fu("buttonColor"),VD=Fu("buttonTextColor"),ND=Fu("bottomBarBgColor"),Ep=Fu("secondaryBgColor");function Rs(n){return st(()=>$m()[n])}const lu=Xo({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),$m=st(()=>{const n=lu();return{...n,backgroundColor:n.backgroundColor||j0()||"#2481cc",textColor:n.textColor||VD()||"#ffffff"}}),[Tp,z0]=We(!1),LD=Rs("backgroundColor"),OD=Rs("hasShineEffect"),MD=Rs("isEnabled"),FD=Rs("isLoaderVisible"),UD=Rs("isVisible"),$D=Rs("text"),jD=Rs("textColor"),zD="web_app_setup_main_button",B0="main_button_pressed",_f="mainButton",jm=Mi(_f),BD=mf(_f,z0),qD=jm("mount",()=>{if(!Tp()){const n=er()&&Zn(_f);n&&lu.set(n),Tp.set(!0)}}),HD=jm("onClick",n=>Wt(B0,n)),WD=jm("offClick",n=>{Nu(B0,n)}),KD=BD("setParams",n=>{lu.set({...lu(),...Fm(n)}),Jn(_f,lu());const e=$m();e.text&&Ke(zD,{color:e.backgroundColor,has_shine_effect:e.hasShineEffect,is_active:e.isEnabled,is_progress_visible:e.isLoaderVisible,is_visible:e.isVisible,text:e.text,text_color:e.textColor})});function QD(){Tp.set(!1)}const uc=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:LD,hasShineEffect:OD,isEnabled:MD,isLoaderVisible:FD,isMounted:z0,isVisible:UD,mount:qD,offClick:WD,onClick:HD,setParams:KD,state:$m,text:$D,textColor:jD,unmount:QD},Symbol.toStringTag,{value:"Module"}));function zm(n,e){document.documentElement.style.setProperty(n,e)}function Bm(n){document.documentElement.style.removeProperty(n)}const Au="themeParams",GD="theme_changed",XD=Mi(Au),YD=({theme_params:n})=>{Po.set(n),Jn(Au,n)},[JD,rL,iL,ZD]=Ou(Au,n=>{const e=er()&&Zn(Au);return e?Kt.resolve(e):Rt("web_app_request_theme","theme_changed",n).then(t=>t.theme_params)},n=>{Wt(GD,YD),Po.set(n)}),eV=mf(Au,ZD[0]);eV("bindCssVars",n=>{if(Sd())throw new Rm;n||(n=i=>`--tg-theme-${N2(i)}`);function e(i){Object.entries(Po()).forEach(([o,u])=>{u&&i(o,u)})}function t(){e((i,o)=>{zm(n(i),o)})}return t(),Po.sub(t),Sd.set(!0),()=>{e(Bm),Po.unsub(t),Sd.set(!1)}});const tV=XD("mount",JD);function q0(n){return st(()=>{const e=n();return Cu(e)?e:e==="bg_color"?$0():Ep()})}const[Bc,nV]=We("bg_color"),qm=q0(Bc),[qc,rV]=We("bottom_bar_bg_color"),Hm=st(()=>{const n=qc();return Cu(n)?n:n==="bottom_bar_bg_color"?ND()||Ep():n==="secondary_bg_color"?Ep():$0()}),[Hc,iV]=We("bg_color"),H0=q0(Hc),[Id,sV]=We(!1),oV=st(()=>{const n=qm();return n?DD(n):!1}),[Wm,aV]=We(!0),W0=st(()=>({backgroundColor:Bc(),bottomBarColor:qc(),headerColor:Hc(),isActive:Wm()})),Sp="web_app_set_background_color",Ip="web_app_set_bottom_bar_color",wc="web_app_set_header_color",K0="visibility_changed",$o="miniApp",Km={any:[Sp,Ip,wc]},uV=st(()=>Km.any.some(n=>Uo(n,ms()))),Q0=n=>{Wm.set(n.is_visible),wf()},[lV,cV,fV,G0]=Ou($o,n=>tV(n).then(()=>er()&&Zn($o)||void 0),n=>{J0.ifAvailable(n?n.backgroundColor:"bg_color"),Z0.ifAvailable(n?n.bottomBarColor:"bottom_bar_bg_color"),eS.ifAvailable(n?n.headerColor:"bg_color"),Wm.set(n?n.isActive:!0),Wt(K0,Q0)}),X0=Mi($o),hV=vn($o,Km),vf=Oi($o,G0[0],Km),dV=vf("bindCssVars",n=>{if(Id())throw new Rm;const[e,t]=Am();function i(o,u){function f(){zm(o,u()||null)}f(),e(u.sub(f),Bm.bind(null,o))}return n||(n=o=>`--tg-${u0(o)}`),i(n("bgColor"),qm),i(n("bottomBarColor"),Hm),i(n("headerColor"),H0),e(()=>{Id.set(!1)}),Id.set(!0),t}),pV=X0("close",n=>{Ke("web_app_close",{return_back:n})}),mV=hV("mount",lV),[,Y0,gV]=cV,[,yV]=fV,[_V,vV]=G0,wV=X0("ready",()=>{Ke("web_app_ready")});function wf(){Jn($o,W0())}const J0=vf("setBackgroundColor",n=>{n!==Bc()&&(Ke(Sp,{color:n}),Bc.set(n),wf())},Sp),Z0=vf("setBottomBarColor",n=>{n!==qc()&&(Ke(Ip,{color:n}),qc.set(n),wf())},Ip),eS=vf("setHeaderColor",n=>{n!==Hc()&&(Ke(wc,Cu(n)?{color:n}:{color_key:n}),Hc.set(n),wf())},wc,{rgb:[wc,"color",Cu]});function EV(){w0(Y0),Nu(K0,Q0),_V.set(!1)}const lc=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:nV,backgroundColorRGB:qm,bindCssVars:dV,bottomBarColor:rV,bottomBarColorRGB:Hm,close:pV,headerColor:iV,headerColorRGB:H0,isActive:aV,isCssVarsBound:sV,isDark:oV,isMounted:vV,isMounting:gV,isSupported:uV,mount:mV,mountError:yV,mountPromise:Y0,ready:wV,setBackgroundColor:J0,setBottomBarColor:Z0,setHeaderColor:eS,state:W0,unmount:EV},Symbol.toStringTag,{value:"Module"}));function TV(n){const e=n.message.trim(),t=(n.title||"").trim(),i=n.buttons||[];if(t.length>64)throw new jr(`Invalid title: ${t}`);if(!e||e.length>256)throw new jr(`Invalid message: ${e}`);if(i.length>3)throw new jr(`Invalid buttons count: ${i.length}`);return{title:t,message:e,buttons:i.length?i.map((o,u)=>{const f=o.id||"";if(f.length>64)throw new jr(`Button with index ${u} has invalid id: ${f}`);if(!o.type||o.type==="default"||o.type==="destructive"){const h=o.text.trim();if(!h||h.length>64)throw new jr(`Button with index ${u} has invalid text: ${h}`);return{type:o.type,text:h,id:f}}return{type:o.type,id:f}}):[{type:"close",id:""}]}}const tS="web_app_open_popup",SV=vn("popup",tS),[IV,sL,oL]=un(n=>Rt(tS,"popup_closed",{...n,params:TV(n)}).then(({button_id:e})=>e===void 0?null:e),"A popup is already opened");SV("open",IV);const nS="web_app_close_scan_qr_popup",rS="web_app_open_scan_qr_popup",CV="scan_qr_popup_closed",AV="qr_text_received",iS=vn("qrScanner",rS);iS("close",()=>{Ke(nS),w0(xV)});function RV(n){n||(n={});const{onCaptured:e,text:t,capture:i}=n,[,o]=Am(Wt(CV,()=>{u.resolve()}),Wt(AV,f=>{e?e(f.data):(!i||i(f.data))&&(u.resolve(f.data),Ke(nS))})),u=new tD(n);return(n.postEvent||Ke)(rS,{text:t}),Kt.resolve(u).catch(v0).finally(o)}const[kV,PV,aL]=un(RV,"The QR Scanner is already opened");iS("open",kV);const[,xV,uL]=PV,cu=Xo({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),bV=st(()=>{const n=cu();return{...n,backgroundColor:n.backgroundColor||Hm()||"#000000",textColor:n.textColor||j0()||"#2481cc"}}),[hw,DV]=We(!1),Qm="web_app_setup_secondary_button",sS="secondary_button_pressed",Ef="secondaryButton",Gm=vn(Ef,Qm),VV=Oi(Ef,DV,Qm);Gm("mount",()=>{if(!hw()){const n=er()&&Zn(Ef);n&&cu.set(n),hw.set(!0)}});Gm("onClick",n=>Wt(sS,n));Gm("offClick",n=>{Nu(sS,n)});VV("setParams",n=>{cu.set({...cu(),...Fm(n)}),Jn(Ef,cu());const e=bV();e.text&&Ke(Qm,{color:e.backgroundColor,has_shine_effect:e.hasShineEffect,is_active:e.isEnabled,is_progress_visible:e.isLoaderVisible,is_visible:e.isVisible,position:e.position,text:e.text,text_color:e.textColor})});const Xm="web_app_setup_settings_button",oS="settings_button_pressed",Tf="settingsButton",[dw,lL]=We(!1),[Cp,cL]=We(!1),Ym=vn(Tf,Xm),aS=Oi(Tf,Cp,Xm);aS("hide",()=>{Jm(!1)});Ym("mount",()=>{Cp()||(Jm(er()&&Zn(Tf)||!1),Cp.set(!0))});function Jm(n){n!==dw()&&(Ke(Xm,{is_visible:n}),Jn(Tf,n),dw.set(n))}Ym("onClick",n=>Wt(oS,n));Ym("offClick",n=>{Nu(oS,n)});aS("show",()=>{Jm(!0)});const Zm="web_app_setup_swipe_behavior",Sf="swipeBehavior",[Ap,fL]=We(!1),[pw,hL]=We(!0),NV=vn(Sf,Zm),uS=Oi(Sf,Ap,Zm);uS("disableVertical",()=>{eg(!1)});uS("enableVertical",()=>{eg(!0)});NV("mount",()=>{Ap()||(eg(er()&&Zn(Sf)||!1,!0),Ap.set(!0))});function eg(n,e){(n!==pw()||e)&&(Ke(Zm,{allow_vertical_swipe:n}),Jn(Sf,n),pw.set(n))}const ks="viewport",lS="fullscreen_changed",cS="safe_area_changed",fS="content_safe_area_changed",hS="viewport_changed",dS=Mi(ks),mw={left:0,top:0,bottom:0,right:0};function Cd(n){return Math.max(n,0)}const[Ad,LV]=We({contentSafeAreaInsets:mw,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:mw,stableHeight:0,width:0});function Yo(n){return st(()=>LV()[n])}const OV=Yo("height"),MV=Yo("stableHeight"),FV=Yo("width");function Jo(n){const{height:e,stableHeight:t,width:i}=n;Ad.set({...Ad(),...Fm({...n,height:e?Cd(e):void 0,width:i?Cd(i):void 0,stableHeight:t?Cd(t):void 0})}),Jn(ks,Ad())}function UV(){return Zn(ks)}function If(n){return st(()=>pS()[n])}const pS=Yo("contentSafeAreaInsets"),$V=If("bottom"),jV=If("left"),zV=If("right"),BV=If("top");function Cf(n){return st(()=>mS()[n])}const mS=Yo("safeAreaInsets"),qV=Cf("bottom"),HV=Cf("left"),WV=Cf("right"),KV=Cf("top"),gS="web_app_request_safe_area",yS=vn(ks,gS),gw=yS("requestContentSafeAreaInsets",n=>Rt("web_app_request_content_safe_area",fS,n));function QV(n){return Rt("web_app_request_viewport",hS,n)}const yw=yS("requestSafeAreaInsets",n=>Rt(gS,cS,n)),GV=n=>{const{height:e}=n;Jo({isExpanded:n.is_expanded,height:e,width:n.width,stableHeight:n.is_state_stable?e:void 0})},XV=n=>{Jo({isFullscreen:n.is_fullscreen})},YV=n=>{Jo({safeAreaInsets:n})},JV=n=>{Jo({contentSafeAreaInsets:n})},[ZV,dL,pL,eN]=Ou(ks,n=>{const e=er()&&UV();return e?Kt.resolve(e):Kt.fn(async t=>{const i=await Kt.all([yw.isAvailable()?yw(t):mS(),gw.isAvailable()?gw(t):pS()]),o=h0(),u={contentSafeAreaInsets:i[1],isFullscreen:!!o.tgWebAppFullscreen,safeAreaInsets:i[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(o.tgWebAppPlatform)){const f=window;return{...u,height:f.innerHeight,isExpanded:!0,stableHeight:f.innerHeight,width:f.innerWidth}}return QV(t).then(f=>({...u,height:f.height,isExpanded:f.is_expanded,stableHeight:f.is_state_stable?f.height:0,width:f.width}))},n)},n=>{Wt(hS,GV),Wt(lS,XV),Wt(cS,YV),Wt(fS,JV),Jo(n)});dS("mount",ZV);const[_S,mL]=eN,tN=mf(ks,_S),[Rd,gL]=We(!1);tN("bindCssVars",n=>{if(Rd())throw new Rm;n||(n=t=>`--tg-viewport-${u0(t)}`);const e=[["height",OV],["stableHeight",MV],["width",FV],["safeAreaInsetTop",KV],["safeAreaInsetBottom",qV],["safeAreaInsetLeft",HV],["safeAreaInsetRight",WV],["contentSafeAreaInsetTop",BV],["contentSafeAreaInsetBottom",$V],["contentSafeAreaInsetLeft",jV],["contentSafeAreaInsetRight",zV]].reduce((t,[i,o])=>{const u=n(i);if(u){const f=()=>{zm(u,`${o()}px`)};t.push([f,o.sub(f),u])}return t},[]);return e.forEach(t=>{t[0]()}),Rd.set(!0),()=>{e.forEach(t=>{t[1](),Bm(t[2])}),Rd.set(!1)}});dS("expand",()=>{Ke("web_app_expand")});const vS="web_app_request_fullscreen",nN=Oi(ks,_S,vS),rN=Yo("isFullscreen"),[iN,yL]=We(),[sN,_L]=We();function wS(n,e){return nN(n,un(t=>Rt(e?vS:"web_app_exit_fullscreen",[lS,"fullscreen_failed"],t).then(i=>{if("error"in i&&i.error!=="ALREADY_FULLSCREEN")throw new K2(i.error);const o="is_fullscreen"in i?i.is_fullscreen:!0;o!==rN()&&Jo({isFullscreen:o})}),"Fullscreen mode change is already being requested",{promise:iN,error:sN})[0])}wS("requestFullscreen",!0);wS("exitFullscreen");const oN="web_app_request_emoji_status_access";un(n=>Rt(oN,"emoji_status_access_requested",n).then(e=>e.status),"Emoji status access request is already in progress");const aN="web_app_set_emoji_status";un((n,e)=>Rt(aN,["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:n,duration:(e||{}).duration},...e}).then(t=>{if(t&&"error"in t)throw new H2(t.error)}),"Emoji status set request is currently in progress");const uN="web_app_check_home_screen";un(n=>Rt(uN,"home_screen_checked",n).then(e=>e.status||"unknown"),"Check home screen status request is currently in progress");const lN=Mi();lN("openLink",(n,e)=>{if(typeof n=="string")try{n=new URL(n)}catch(t){throw new jr(`"${n.toString()}" is invalid URL`,t)}e||(e={}),Ke("web_app_open_link",{url:n.toString(),try_browser:e.tryBrowser,try_instant_view:e.tryInstantView})});const _w="web_app_open_tg_link",cN=Mi(),fN=cN("openTelegramLink",n=>{const e=n.toString();if(!e.match(/^https:\/\/t.me\/.+/))throw new jr(`"${e}" is invalid URL`);if(!Uo(_w,ms())){window.location.href=e;return}n=new URL(n),Ke(_w,{path_full:n.pathname+n.search})}),hN=Mi(),dN=hN("shareURL",(n,e)=>{fN("https://t.me/share/url?"+new URLSearchParams({url:n,text:e||""}).toString().replace(/\+/g,"%20"))});function pN(n,e){return new Kt({abortSignal:e,timeout:n}).catch(()=>{})}const ES="web_app_request_phone",[mN,vL,wL]=un(n=>Rt(ES,"phone_requested",n).then(e=>e.status),"Phone access request is currently in progress"),gN=km("requestPhoneAccess",mN,{isSupported:ES});async function vw(n){const e=await Lu("getRequestedContact",{},{...n,timeout:(n||{}).timeout||5e3});return Om(vc(O0([Gn(),D0(URLSearchParams)]),PD(vp({contact:vc(Gn(),kD(),vp({user_id:V0(),phone_number:Gn(),first_name:Gn(),last_name:N0(Gn())})),auth_date:vc(Gn(),k0(t=>new Date(Number(t)*1e3)),b0()),hash:Gn()}))),e)}un(n=>new Kt(async(e,t,i)=>{try{return e(await vw(i))}catch(u){if(u instanceof _p)throw u}if(await gN(i)!=="sent")throw new W2("User denied access");let o=50;for(;!i.isAborted();){try{return e(await vw(i))}catch(u){if(u instanceof _p)throw u}await pN(o),o+=50}},n),"Contact is already being requested");const yN="web_app_request_write_access";un(n=>Rt(yN,"write_access_requested",n).then(e=>e.status),"Write access request is currently in progress");function _N(n){j2(n);const[e,t]=Am(Wt("reload_iframe",()=>{dp(!1,"Received a request to reload the page"),Ke("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:i=!0}={};if(i){const o=document.createElement("style");o.id="telegram-custom-styles",document.head.appendChild(o),e(Wt("set_custom_style",u=>{o.innerHTML=u}),()=>{document.head.removeChild(o)})}return Ke("iframe_ready",{reload_supported:!0}),dp(!1,"The package was initialized"),t}const vN=async()=>{var n,e;try{await _N(),lc.ready.isAvailable()&&(await lc.ready(),console.log("Mini App "));const t=lc.getLaunchParams();console.log(" :",t);const i=(e=(n=t==null?void 0:t.user)==null?void 0:n.id)==null?void 0:e.toString();if(!i){console.error("   ID ");return}const o=await $v(i);console.log(" :",o),lc.setHeaderColor("#531919"),uc.setParams.isAvailable()&&(uc.setParams({backgroundColor:"#aa1388",isEnabled:!0,isVisible:!0,text:" ",textColor:"#000000"}),console.log("   ")),uc.onClick.isAvailable()&&uc.onClick(async()=>{try{const u=await $v(i);dN(`!   ${u}   !`),console.log("      .")}catch(u){console.error("     :",u)}})}catch(t){console.error(" :",t)}};vN();DI.createRoot(document.getElementById("root")).render(ye.jsx(W.StrictMode,{children:ye.jsx(Rb,{})}));
